(this["webpackJsonpapp-admin-v5"]=this["webpackJsonpapp-admin-v5"]||[]).push([[62],{1191:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return y}));var a,i=t(61),c=t(31),r=t(13),o=t(22),s=t(0),l=t.n(s),d=t(57),h=t.n(d),f=t(87),u=t(131),p=(t(1),t(20)),x=t(25),b=t(571),j=t.n(b),g=t(101),m=t(621),v=t(156),O=t(157),N=t(554),k=t(2),w=p.b.div(a||(a=Object(o.a)(["\n  padding: 0rem 0px;\n  display: flex;\n  flex-direction: row;\n  & .a-btn {\n    cursor: pointer;\n    padding: 2px 4px;\n    border-radius: 4px;\n    &:hover {\n      background: #033c73;\n      color: white;\n    }\n    &.active {\n      background: #033c73;\n      color: white;\n    }\n  }\n  & .a-search-no-found {\n    padding: 0.5rem;\n    text-align: center;\n  }\n  & .a-search {\n    position: relative;\n    border-bottom: 2px solid #0b4277;\n    & i {\n      position: absolute;\n      left: 10px;\n      top: 11px;\n    }\n    & input {\n      width: 100%;\n      border: 0px;\n      height: 35px;\n      padding: 0rem;\n      padding-left: 28px;\n      border-radius: 4px;\n      margin-bottom: 0rem;\n      &:focus {\n        outline: 0;\n        background: var(--color-bg-focus);\n      }\n    }\n  }\n  & .a-bar {\n    height: 30px;\n    border-bottom: 1px solid #bcc3cd;\n    display: flex;\n    align-items: center;\n    padding: 0px 0.5rem;\n    background: #f9fafb;\n    & .a-right {\n      margin-left: auto;\n    }\n  }\n  & .option {\n    color: #575757;\n    min-height: 30px;\n    display: flex;\n    align-items: center;\n    padding: 0.5rem;\n    padding-left: 0.5rem;\n    cursor: pointer;\n    border-bottom: 1px solid #e9ecef;\n    & .a-checkbox {\n      margin-right: 0.5rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n  & .option:last-child {\n    border-bottom: 0px;\n  }\n  & .option:hover {\n    color: #546c84;\n    background-color: #fbfbfb;\n  }\n  & .option.selected {\n    background: #f7fbff;\n  }\n  & .option.a-missinginsource {\n    color: #c7c7c7;\n  }\n  & .a-rightpanel {\n    width: 180px;\n    border-left: 1px solid #bcc3cd;\n    & .a-header {\n      height: 37px;\n      border-bottom: 2px solid #225383;\n      display: flex;\n      padding: 0.5rem;\n      align-items: center;\n    }\n    & .a-content {\n      & .a-remove {\n        margin-left: auto;\n      }\n      & .option {\n        background: transparent;\n        border-bottom: 0px;\n        padding: 0.25rem 0.5rem;\n        & .a-text {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        & .a-remove button {\n          padding: 0px;\n        }\n      }\n    }\n  }\n  & .a-addnew {\n    & .a-content {\n      padding: 0.5rem;\n      & .a-form-footer {\n        margin-top: 0.5rem;\n        & button {\n          padding: 5px;\n          margin: 2px;\n        }\n      }\n    }\n  }\n  & .a-loading-all {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: #ffffff75;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n  }\n"])));function y(n){var e=n.sourceData,t=n.optionsSelected,a=n.valueSelected,o=n.onChange,s=n.hasRightPanel,d=n.configFormAddNew,p=n.onSubmitAddNew,b=n.currentListLoadingByValue,y=l.a.useState(e),C=Object(r.a)(y,2),S=C[0],L=C[1],T=l.a.useState(!1),_=Object(r.a)(T,2),F=_[0],V=_[1],A=l.a.useState(""),H=Object(r.a)(A,2),U=H[0],q=H[1],I=l.a.useState(""),M=Object(r.a)(I,2),R=(M[0],M[1]),B=Object(v.a)(),D=l.a.useCallback(Object(u.debounce)((function(n){if(console.warn("search:",n),e&&e.length>0){var t=e.filter((function(e,t){var a=e.Text_Filter||e.Text;return!!N.a.compareTextForSearch(a,n,{searchKoDau:!0})}));L(t),R(n)}}),300),[]),J=e;U&&U.length>0&&(J=S);var P=function(n){var e=n.Value;return!!(a&&a.indexOf(e)>-1)},z=[];if(J&&(z=e.filter((function(n,e){return P(n)}))).length<a.length){var K,W=z.map((function(n,e){return n.Value})),E=[],G=Object(c.a)(a);try{for(G.s();!(K=G.n()).done;){var Q=K.value;-1==W.indexOf(Q)&&E.push({Value:Q,Text:Object(O.c)(t,Q),_UI_Missing:!0})}}catch($){G.e($)}finally{G.f()}E.length>0&&(z=[].concat(E,Object(i.a)(z)))}var X=function(n){return!(!b||!b._all)||!!(b&&n&&n.Value&&b[n.Value])},Y={fnForceUpdate:function(){B()},fnRequestUpdate:function(){console.log("fnRequestUpdate:",b),B()}},Z=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.isCheckAll;if(o){if(X(n))return void console.log("requesting...",n);t&&(b._all=!0),o(n,{fnList:Y})}};return console.log("MUISelectBox:",e,a,n,b),Object(k.jsxs)(w,{className:"mui-select_box",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"a-search",children:[Object(k.jsx)("i",{className:"fa fa-search"}),Object(k.jsx)("input",{type:"text",placeholder:x.a.t("Search..."),value:U,onChange:function(n){var e=n.currentTarget.value;q(e),D(e)}})]}),Object(k.jsxs)("div",{className:"a-bar",children:[Object(k.jsx)("div",{className:"a-btn",onClick:function(){J&&J.length>0&&Z(J.map((function(n,e){return n.Value})),{isCheckAll:!0})},children:J.length>0&&"Select all"}),d&&Object(k.jsx)("div",{className:h()("a-btn a-right",{active:F}),onClick:function(){V(!0)},children:"Add new"})]}),U&&U.length>0&&0==J.length&&Object(k.jsx)("div",{className:"a-search-no-found",children:"No search found"}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{style:{maxHeight:m.a,overflow:"hidden"},children:Object(k.jsx)(j.a,{options:{wheelPropagation:!1},children:Object(k.jsx)("div",{style:{maxHeight:m.a},children:J&&J.map((function(n,e){return Object(k.jsxs)("div",{className:h()("option",{selected:P(n)}),onClick:function(){Z(n,{fnList:Y})},children:[Object(k.jsx)("div",{className:"a-checkbox",children:X(n)?Object(k.jsx)("i",{className:"fa fa-spin fa-spinner"}):Object(k.jsx)("input",{type:"checkbox",readOnly:!0,checked:P(n)})}),Object(k.jsx)("div",{children:n.Text})]},e)}))})})})]}),s&&!0!==F&&Object(k.jsxs)("div",{className:"a-rightpanel",children:[Object(k.jsxs)("div",{className:"a-header",children:[z.length>0?"".concat(z.length," selected"):"None selected",z.length>0&&Object(k.jsx)("span",{className:"a-btn",style:{marginLeft:"auto",cursor:"pointer"},onClick:function(){Z([],{fnList:Y})},children:"Clear all"})]}),Object(k.jsx)("div",{style:{maxHeight:"330px",overflow:"hidden"},children:Object(k.jsx)(j.a,{children:Object(k.jsx)("div",{className:"a-content",style:{maxHeight:"330px"},children:z.map((function(n,e){return Object(k.jsxs)("div",{className:h()("option",{selected:!0,"a-missinginsource":!0===n._UI_Missing}),children:[Object(k.jsx)("div",{className:"a-text",children:n.Text}),Object(k.jsx)("div",{className:"a-remove",children:Object(k.jsx)(f.a,{color:"link",onClick:function(){Z(n,{fnList:Y})},children:Object(k.jsx)("i",{className:"fa fa-times"})})})]},e)}))})})})]}),!0===F&&Object(k.jsxs)("div",{className:"a-rightpanel a-addnew",children:[Object(k.jsx)("div",{className:"a-header",style:{fontWeight:"bold"},children:"Add new"}),Object(k.jsx)("div",{style:{maxHeight:"330px",overflow:"hidden"},children:Object(k.jsx)(j.a,{children:Object(k.jsx)("div",{className:"a-content",style:{maxHeight:"330px"},children:Object(k.jsx)("div",{className:"a-form",children:Object(k.jsx)(g.a,{configForm:d,fnList:{},renderFooter:function(n){return Object(k.jsxs)("div",{className:"a-form-footer",children:[Object(k.jsx)(f.a,{onClick:function(){V(!1)},children:"Close"}),Object(k.jsx)(f.a,{color:"primary",onClick:function(){p&&p(n.getCurrentValues(),{cbSuccess:function(){V(!1)}})},children:"Add"})]})}})})})})})]}),b&&b._all&&Object(k.jsx)("div",{className:"a-loading-all",children:Object(k.jsx)("i",{className:"fa fa-spin fa-spinner"})})]})}},554:function(n,e,t){"use strict";var a=t(1),i={compareTextForSearch:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0;if(e.indexOf("[")>-1||e.indexOf("]")>-1){var i=e.toLowerCase(),c=n.toLowerCase();return c.indexOf(i)>-1}return a.HText.compareTextForSearch(n,e,t)}};e.a=i},621:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var a="315px"}}]);
//# sourceMappingURL=62.1924d309.chunk.js.map