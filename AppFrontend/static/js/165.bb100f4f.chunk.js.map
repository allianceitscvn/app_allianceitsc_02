{"version":3,"sources":["modules/adminpanel/MyUI/Types/admintable_table_list.js","modules/adminpanel/MyUI/Types/admintable_table_details.js"],"names":["MUIATTableList","getData","cfp","props","fnListMyPage","getDataList","fnList","getShowPagination","onePage","this","fnGetConfigPageTable","className","style","width","textAlign","React","Component","MUIATTableDetailOne","row","configExpand","console","warn","_requestData","queryFromParent","Object","keys","k","minHeight","configPage","APIName","controller","Config","Id","screenCode","RequestData","ScreenCode","Title","title","titleField","UIType","fnGetIsInTableExpand","MUIATTableDetails","useState","Date","getTime","keyTime","setKeyTime","allExpand","useForceUpdate","FlowGetAllExpandItemOfRow","length","map","v","i","V","TableExpand_IsShowExpandItem","configItemExpand","prefix","_prefix"],"mappings":"wQAIMA,E,4MACJC,QAAU,WACR,IAAQC,EAAQ,EAAKC,MAAbD,IACR,OAAOE,IAAaC,YAAYH,EAAII,OAAQ,K,EAE9CC,kBAAoB,WAGlB,OAAiC,IAFjB,EAAKJ,MAAbD,IACAM,QACG,e,4CAKb,WACE,IAAQN,EAAQO,KAAKN,MAAbD,IACR,GAAIA,EAAK,CAELE,IAAaM,qBAAqBR,EAAII,OAAQ,IAChD,OAAO,qBAAKK,UAAU,4BAAf,kBAEP,OACE,qBACEC,MAAO,CACLC,MAAO,OACPC,UAAW,UAHf,SAME,cAAC,YAAD,U,GA3BmBC,IAAMC,WAmCpBhB,a,sIClCf,SAASiB,EAAoBd,GAC3B,IAAQe,EAAsBf,EAAtBe,IAAKC,EAAiBhB,EAAjBgB,aACbC,QAAQC,KAAK,gBAAiBF,GAC9B,IAAIG,EAAe,GACnB,GAAIH,EAAaI,gBACf,cAAcC,OAAOC,KAAKN,EAAaI,iBAAvC,eAAyD,CAApD,IAAIG,EAAC,KACRJ,EAAaI,GAAKR,EAAIC,EAAaI,gBAAgBG,IAGvD,OACE,sBAAKf,UAAU,mBAAmBC,MAAO,CAAEe,UAAW,OAAtD,UACE,qBAAKhB,UAAU,oBAAf,SACE,mBAAGA,UAAU,+BAEf,cAAC,SAAD,CACEiB,WAAY,CACVC,QAASV,EAAaW,WACtBC,OAAQ,KACRC,GAAG,UAAD,OAAYb,EAAac,WAAzB,YAAuCf,EAAIc,IAC7CE,YAAaZ,EACba,WAAYhB,EAAac,WACzBG,MAAOjB,EAAakB,OAASnB,EAAIC,EAAamB,aAAe,GAC7DC,OAAQ,eAEVjC,OAAQ,CACNkC,qBAAsB,WACpB,OAAO,SAOJ,SAASC,EAAkBtC,GACxC,IAAQe,EAAaf,EAAbe,IAAKhB,EAAQC,EAARD,IACb,EAA8BwC,oBAAS,IAAIC,MAAOC,WAAlD,mBAAOC,EAAP,KAAgBC,EAAhB,KAEMC,GADcC,cACFC,oCAA0B,CAAE/B,MAAKV,QAASN,EAAIM,WAOhE,OANAU,EAAG,qBAA2B,WAC5BE,QAAQC,KAAK,wBAAyBlB,EAAO0C,GAE7CC,GAAW,IAAIH,MAAOC,YAItB,qBAAKjC,UAAU,cAAcC,MAAO,CAAEe,UAAW,OAAjD,SAEGoB,EAAUG,OAAS,GAClBH,EAAUI,KAAI,SAACC,EAAGC,GAQhB,OAPcC,IAAEC,6BAA6B,CAC3CrC,MACAsC,iBAAkBJ,EAClBK,OAAQL,EAAEM,UAKH,cAACzC,EAAD,2BAAiCd,GAAjC,IAAwCgB,aAAciC,IAA5BC,GACvB,SAb6CR","file":"static/js/165.bb100f4f.chunk.js","sourcesContent":["import { MyLoading } from \"@macashipo/mlib\"\r\nimport React from \"react\"\r\nimport { fnListMyPage } from \"src/helpers/fnList\"\r\nimport MUIATTableDetails from \"./admintable_table_details\"\r\nclass MUIATTableList extends React.Component {\r\n  getData = () => {\r\n    const { cfp } = this.props\r\n    return fnListMyPage.getDataList(cfp.fnList, [])\r\n  }\r\n  getShowPagination = () => {\r\n    const { cfp } = this.props\r\n    const { onePage } = cfp\r\n    if (onePage[\"UI_IsInDetail\"] === true) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n  render() {\r\n    const { cfp } = this.props\r\n    if (cfp) {\r\n      let _configPageTable =\r\n        fnListMyPage.fnGetConfigPageTable(cfp.fnList, []) || {}\r\n      return <div className=\"mpat-table-list mb-3 card\">List</div>\r\n    } else {\r\n      return (\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <MyLoading />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport { MUIATTableDetails }\r\nexport default MUIATTableList\r\n","import { HUtils, MyPage } from \"@macashipo/mlib\"\r\nimport React, { useState } from \"react\"\r\nimport useForceUpdate from \"../../hooks/useForceUpdate\"\r\nimport V from \"src/helpers/V\"\r\nimport { FlowGetAllExpandItemOfRow } from \"src/helpers/Flows/TableExpand\"\r\nfunction MUIATTableDetailOne(props) {\r\n  const { row, configExpand } = props\r\n  console.warn(\"configExpand:\", configExpand)\r\n  let _requestData = {}\r\n  if (configExpand.queryFromParent) {\r\n    for (let k of Object.keys(configExpand.queryFromParent)) {\r\n      _requestData[k] = row[configExpand.queryFromParent[k]]\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"mpat-detail-item\" style={{ minHeight: \"0px\" }}>\r\n      <div className=\"mpat-detail-arrow\">\r\n        <i className=\"fa fa-angle-double-right\"></i>\r\n      </div>\r\n      <MyPage\r\n        configPage={{\r\n          APIName: configExpand.controller,\r\n          Config: null,\r\n          Id: `expand-${configExpand.screenCode}-${row.Id}`,\r\n          RequestData: _requestData,\r\n          ScreenCode: configExpand.screenCode,\r\n          Title: configExpand.title || row[configExpand.titleField] || \"\",\r\n          UIType: \"admin_table\",\r\n        }}\r\n        fnList={{\r\n          fnGetIsInTableExpand: () => {\r\n            return true\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nexport default function MUIATTableDetails(props) {\r\n  const { row, cfp } = props\r\n  const [keyTime, setKeyTime] = useState(new Date().getTime())\r\n  const forceUpdate = useForceUpdate()\r\n  const allExpand = FlowGetAllExpandItemOfRow({ row, onePage: cfp.onePage })\r\n  row[\"_fnForceUpdateDetail\"] = () => {\r\n    console.warn(\"_fnForceUpdateDetail:\", props, keyTime)\r\n    // forceUpdate()\r\n    setKeyTime(new Date().getTime())\r\n  }\r\n  // console.warn(\"render Details:\", props, row, allExpand)\r\n  return (\r\n    <div className=\"mpat-detail\" style={{ minHeight: \"0px\" }} key={keyTime}>\r\n      {/* Detail: */}\r\n      {allExpand.length > 0 &&\r\n        allExpand.map((v, i) => {\r\n          let _isShow = V.TableExpand_IsShowExpandItem({\r\n            row,\r\n            configItemExpand: v,\r\n            prefix: v._prefix,\r\n          })\r\n          // console.log(\"expand isshow:\", _isShow, v)\r\n          // if (_isShow) return <div>{v.screenCode}</div>\r\n          if (_isShow)\r\n            return <MUIATTableDetailOne key={i} {...props} configExpand={v} />\r\n          else return null\r\n        })}\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}