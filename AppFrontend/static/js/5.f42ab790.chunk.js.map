{"version":3,"sources":["core/modules/setting2fa/MyComponent/Generation2FA.tsx","helpers/copy.ts","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","core/hook/useRequestAxios/useRequestAxios.tsx","../node_modules/react-i18next/dist/es/utils.js","../node_modules/react-i18next/dist/es/useTranslation.js"],"names":["DivTitle","styled","div","DivDes","DivWrapQRCode","DivWrapSetupCode","Generation2FA","props","t","useTranslation","useState","code","setCode","showManualCode","setShowManualCode","currentMethod","getCurrentMethod","defaultOptRecipient","OtpRecipient","optrecipient","setOptrecipient","optrecipientDone","setOptrecipientDone","needOtpRecipientRequired","getCurrentOtpRecipientRequired","requestVerifyToLogin","useRequestAxios","url","data","UniqueId","Setting2FAHelpers","InputCode","VerifyToken","HAuth","getInfo2FA","FA2MethodId","getCurrentMethodId","cbSuccess","response","HUtils","runFuntion","get","HConstant","Auth","dispatchLoginSuccess","requestVerify","path","name","updateSettingOneMethodByResponse","HUI","hideInMyModalFromProps","console","warn","fnList","request","requestEnableRequest","Id","useEffect","_canEditOtpRec","_icon","_title","_placeholder","className","style","fontSize","FA2MethodName","InputGroup","marginBottom","InputGroupText","Input","autoFocus","placeholder","value","onChange","ev","currentTarget","disabled","onKeyDown","onKeyDownEnter","Button","color","isLoading","onClick","TagEnableRequest","Tag","_titleVerify","store","responseData","alt","maxWidth","src","textAlign","href","HConfig","getAppName","text","navigator","clipboard","writeText","then","i18next","catch","HCopy","module","exports","arr","len","length","i","arr2","Array","__esModule","arrayLikeToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","from","test","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","push","err","TypeError","configRequest","initialState","state","setState","newState","prevState","assign","useMergeState","error","useRef","children","_msg","role","uiEmpty","HApi","apiPost","requestAfterInit","Data","a","current","_console","_len","arguments","args","_key","concat","apply","alreadyWarned","warnOnce","_len2","_key2","Date","loadNamespaces","i18n","ns","cb","isInitialized","on","initialized","setTimeout","off","hasLoadedNamespace","options","undefined","languages","lng","fallbackLng","lastLng","toLowerCase","loadNotPending","l","loadState","services","backendConnector","bindI18n","indexOf","backend","isLanguageChangingTo","hasResourceBundle","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","i18nFromProps","_ref","useContext","I18nContext","i18nFromContext","defaultNSFromContext","defaultNS","getI18n","reportNamespaces","ReportNamespaces","notReadyT","k","retNotReady","ready","react","wait","i18nOptions","getDefaults","useSuspense","keyPrefix","namespaces","addUsedNamespaces","initializedStoreOnce","every","getT","getFixedT","nsMode","_useState","_useState2","_slicedToArray","setT","isMounted","bindI18nStore","boundReset","split","e","join","isInitial","ret","Promise","resolve"],"mappings":"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","file":"static/js/5.f42ab790.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { Button, Input, InputGroup, InputGroupText } from \"reactstrap\"\r\nimport { MyIcon } from \"src/core/components\"\r\nimport { HAuth, HConstant, HUI, HUtils, HConfig } from \"src/core/helpers\"\r\nimport * as HCopy from \"src/helpers/copy\"\r\nimport useRequestAxios from \"src/core/hook/useRequestAxios/useRequestAxios\"\r\nimport styled from \"styled-components\"\r\nimport Setting2FAHelpers, {\r\n  getCurrentMethod,\r\n  getCurrentMethodId,\r\n  getCurrentOtpRecipientRequired,\r\n  updateSettingOneMethodByResponse,\r\n} from \"../helpers\"\r\n\r\nconst DivTitle = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  margin-bottom: 1rem;\r\n`\r\nconst DivDes = styled.div`\r\n  margin-bottom: 1rem;\r\n  color: #6d6d6d;\r\n`\r\nconst DivWrapQRCode = styled.div`\r\n  /* This renders the buttons above... Edit me! */\r\n  margin: auto;\r\n  position: relative;\r\n  padding: 10px;\r\n  border: 1px solid #0d6efd;\r\n  vertical-align: top;\r\n  &:before {\r\n    border: 1px solid #fff;\r\n    border-radius: 10%;\r\n    content: \"\";\r\n    height: 100%;\r\n    left: -1px;\r\n    position: absolute;\r\n    top: -1px;\r\n    width: 100%;\r\n    box-sizing: content-box;\r\n  }\r\n`\r\nconst DivWrapSetupCode = styled.div`\r\n  border: 1px solid #95c0ff;\r\n  padding: 0.5rem;\r\n  background: #ebf7ff;\r\n  white-space: pre-wrap;\r\n  word-break: break-all;\r\n`\r\nfunction Generation2FA(props) {\r\n  const { t } = useTranslation()\r\n  const [code, setCode] = useState(\"\")\r\n  const [showManualCode, setShowManualCode] = useState(false)\r\n  const currentMethod: any = getCurrentMethod()\r\n  let defaultOptRecipient = \"\"\r\n  if (currentMethod && currentMethod.OtpRecipient) {\r\n    defaultOptRecipient = currentMethod.OtpRecipient\r\n  }\r\n  const [optrecipient, setOptrecipient] = useState(defaultOptRecipient)\r\n  const [optrecipientDone, setOptrecipientDone] = useState(false)\r\n\r\n  const needOtpRecipientRequired = getCurrentOtpRecipientRequired()\r\n\r\n  const requestVerifyToLogin = useRequestAxios({\r\n    url: \"/oauth2/2FAVerify\",\r\n    data: {\r\n      UniqueId: Setting2FAHelpers.UniqueId,\r\n      InputCode: code,\r\n      VerifyToken: HAuth.getInfo2FA()[\"fa2_token\"],\r\n      FA2MethodId: getCurrentMethodId(),\r\n    },\r\n    cbSuccess: response => {\r\n      // HAuth.authLoginWithRes(response)//dispatchLoginSuccess se goi len App Reducer login, tranh viec login 2 lan\r\n      HUtils.runFuntion(\r\n        HUtils.get(props, \"fnList\"),\r\n        HConstant.Auth.dispatchLoginSuccess,\r\n        [response]\r\n      )\r\n    },\r\n  })\r\n\r\n  const requestVerify = useRequestAxios({\r\n    path: \"Aauth2FA\",\r\n    name: \"EnableSubmit\",\r\n    data: {\r\n      UniqueId: Setting2FAHelpers.UniqueId,\r\n      InputCode: code,\r\n      FA2MethodId: getCurrentMethodId(),\r\n      VerifyToken: HAuth.getInfo2FA()[\"fa2_token\"], //dung khi login\r\n    },\r\n    cbSuccess: response => {\r\n      updateSettingOneMethodByResponse(response)\r\n      HUI.hideInMyModalFromProps(props) //hide modal if need\r\n\r\n      //check if need login\r\n      console.warn(\"check fnList.dispatchLoginSuccess\", props, props.fnList)\r\n      if (HUtils.get(props, \"fnList.dispatchLoginSuccess\")) {\r\n        requestVerifyToLogin.request()\r\n      }\r\n    },\r\n  })\r\n\r\n  const requestEnableRequest = useRequestAxios({\r\n    path: \"Aauth2FA\",\r\n    name: \"EnableRequest\",\r\n    data: {\r\n      Id: HUtils.get(HAuth.getInfo2FA(), \"user_uniqueid\"),\r\n      UniqueId: Setting2FAHelpers.UniqueId,\r\n      FA2MethodId: getCurrentMethodId(),\r\n      OtpRecipient: optrecipient,\r\n    },\r\n    cbSuccess: response => {\r\n      if (needOtpRecipientRequired) {\r\n        setOptrecipientDone(true)\r\n      }\r\n    },\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (getCurrentOtpRecipientRequired() !== true) {\r\n      //neu khong can recipient thi goi enablerquest luon\r\n      requestEnableRequest.request()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  console.warn(\"render reneration2FA:\", props, currentMethod)\r\n  let _canEditOtpRec = HUtils.get(currentMethod, \"Configs.CanEditOtpRecipient\")\r\n  // console.log(\"_canEditOtpRec:\", _canEditOtpRec)\r\n  //neu can recipient\r\n  if (needOtpRecipientRequired && optrecipientDone !== true) {\r\n    let _icon =\r\n      HUtils.get(currentMethod, \"Configs.Icon\") || \"type:HiOutlinePhone\"\r\n    let _title = HUtils.get(currentMethod, \"Configs.RecipientTitle\") || \"\"\r\n    let _placeholder =\r\n      HUtils.get(currentMethod, \"Configs.RecipientPlaceholder\") ||\r\n      t(\"Enter here\")\r\n    return (\r\n      <div>\r\n        <div className=\"text-center mb-3\" style={{ fontSize: \"1.5rem\" }}>\r\n          {t(\"setting2fa:title.setupOneMethod\", {\r\n            name: currentMethod?.FA2MethodName,\r\n          })}\r\n        </div>\r\n        <div className=\"mb-1 text-dark-25\">{_title}</div>\r\n        <div>\r\n          <InputGroup style={{ marginBottom: \"1rem\" }}>\r\n            <InputGroupText>\r\n              <MyIcon data={_icon} />\r\n            </InputGroupText>\r\n            <Input\r\n              autoFocus\r\n              placeholder={_placeholder}\r\n              value={optrecipient}\r\n              onChange={ev => {\r\n                setOptrecipient(ev.currentTarget.value)\r\n              }}\r\n              disabled={_canEditOtpRec !== true}\r\n              onKeyDown={ev => {\r\n                HUtils.onKeyDownEnter(ev, () => {\r\n                  requestEnableRequest.request()\r\n                })\r\n              }}\r\n            />\r\n          </InputGroup>\r\n          <div>\r\n            <Button\r\n              color=\"primary\"\r\n              disabled={requestEnableRequest.isLoading}\r\n              onClick={() => {\r\n                requestEnableRequest.request()\r\n              }}\r\n            >\r\n              {t(\"btn.next\")}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const TagEnableRequest = requestEnableRequest.Tag\r\n  let _titleVerify =\r\n    HUtils.get(currentMethod, \"Configs.OTPDescription\") ||\r\n    t(\"OTP has been sent. Please verify\")\r\n  return (\r\n    <div>\r\n      <TagEnableRequest store={requestEnableRequest}>\r\n        <div className=\"d-flex flex-column\">\r\n          {HUtils.get(\r\n            requestEnableRequest.responseData,\r\n            \"QrCodeSetupImageUrl\"\r\n          ) && (\r\n            <div className=\"d-flex flex-column\">\r\n              <DivTitle>{t(\"setting2fa:generation.title\")}</DivTitle>\r\n              <DivDes>{t(\"setting2fa:generation.desciption\")}</DivDes>\r\n              <DivWrapQRCode>\r\n                <img\r\n                  alt=\"QRCode\"\r\n                  style={{ maxWidth: \"200px\" }}\r\n                  src={HUtils.get(\r\n                    requestEnableRequest.responseData,\r\n                    \"QrCodeSetupImageUrl\"\r\n                  )}\r\n                ></img>\r\n              </DivWrapQRCode>\r\n              {showManualCode === false && (\r\n                <div\r\n                  onClick={() => {\r\n                    setShowManualCode(true)\r\n                  }}\r\n                  style={{ textAlign: \"center\", color: \"#0d6efd\" }}\r\n                >\r\n                  {t(\"Can't scan the QR code?\")}\r\n                </div>\r\n              )}\r\n              {showManualCode === true && (\r\n                <div>\r\n                  <div style={{ textAlign: \"center\" }}>\r\n                    <a\r\n                      href={`otpauth://totp/${HUtils.get(\r\n                        requestEnableRequest.responseData,\r\n                        \"EmailAddress\"\r\n                      )}?secret=${HUtils.get(\r\n                        requestEnableRequest.responseData,\r\n                        \"SetupCode\"\r\n                      )}&issuer=${HConfig.getAppName()}`}\r\n                    >\r\n                      {t(\"Setup on same device\")}\r\n                    </a>\r\n                  </div>\r\n                  <div>\r\n                    <div>\r\n                      {t(\r\n                        \"Copy the key below and paste manually in your Authenticator App\"\r\n                      )}\r\n                    </div>\r\n                    <DivWrapSetupCode\r\n                      onClick={() => {\r\n                        HCopy.copyText(\r\n                          HUtils.get(\r\n                            requestEnableRequest.responseData,\r\n                            \"SetupCode\"\r\n                          )\r\n                        )\r\n                      }}\r\n                    >\r\n                      {HUtils.get(\r\n                        requestEnableRequest.responseData,\r\n                        \"SetupCode\"\r\n                      )}\r\n                    </DivWrapSetupCode>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <hr />\r\n              </div>\r\n              <DivDes>{t(\"setting2fa:generation.enter code\")}</DivDes>\r\n            </div>\r\n          )}\r\n          {optrecipientDone === true && (\r\n            <div className=\"d-flex flex-column\">\r\n              <DivTitle>{t(\"Verify Code\")}</DivTitle>\r\n              <DivDes>{_titleVerify}</DivDes>\r\n            </div>\r\n          )}\r\n          <InputGroup style={{ marginBottom: \"1rem\" }}>\r\n            <InputGroupText>\r\n              <MyIcon data=\"type:HiOutlineLockClosed\" />\r\n            </InputGroupText>\r\n            <Input\r\n              placeholder={t(\"setting2fa:generation.placeHolderVerify\")}\r\n              value={code}\r\n              // autoFocus\r\n              onChange={ev => {\r\n                setCode(ev.currentTarget.value)\r\n              }}\r\n              onKeyDown={ev => {\r\n                HUtils.onKeyDownEnter(ev, () => {\r\n                  requestVerify.request()\r\n                })\r\n              }}\r\n            />\r\n          </InputGroup>\r\n          <div>\r\n            <Button\r\n              color=\"primary\"\r\n              disabled={requestVerify.isLoading}\r\n              onClick={() => {\r\n                requestVerify.request()\r\n              }}\r\n            >\r\n              {t(\"btn.verify\")}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </TagEnableRequest>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Generation2FA\r\n","import * as HUI from \"src/core/helpers/ui\"\r\nimport i18next from \"i18next\"\r\nexport const copyText = (text: string = \"\") => {\r\n  navigator.clipboard\r\n    .writeText(text)\r\n    .then(() => {\r\n      //not working on safari\r\n      HUI.showToastLikeToast(i18next.t(\"coppied text\"))\r\n    })\r\n    .catch(() => {})\r\n}\r\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { HApi, HUtils } from \"src/core/helpers\"\r\nimport { MyLoading } from \"src/core/components\"\r\nfunction useMergeState(initialState) {\r\n  const [state, setState] = useState(initialState)\r\n  const setMergedState = newState =>\r\n    setState(prevState => Object.assign({}, prevState, newState))\r\n  return [state, setMergedState]\r\n}\r\n\r\ninterface ConfigRequest {\r\n  requestAfterInit?: boolean\r\n  path?: any\r\n  name?: any\r\n  url?: any\r\n  method?: any\r\n  data?: any\r\n  cbSuccess?: (response: any) => void\r\n}\r\n\r\nfunction useRequestAxios(configRequest: ConfigRequest) {\r\n  const [state, setState] = useMergeState({\r\n    isLoading: false,\r\n    error: null,\r\n    response: null,\r\n  })\r\n  const Tag = useRef(props => {\r\n    const store = props.store || {}\r\n    // console.warn(\"state:\", store)\r\n    if (store.response) {\r\n      return props.children\r\n    } else if (store.isLoading) {\r\n      const uiLoading = (\r\n        <div>\r\n          <MyLoading />\r\n        </div>\r\n      )\r\n      return uiLoading\r\n    } else if (store.error != null) {\r\n      let _msg = HUtils.get(store.error, \"msg\") || \"Error unkown!\"\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {_msg}\r\n        </div>\r\n      )\r\n    } else {\r\n      if (props.uiEmpty) {\r\n        return props.uiEmpty\r\n      }\r\n      return <div>...</div>\r\n    }\r\n  })\r\n  const request = () => {\r\n    setState({ isLoading: true })\r\n    HApi.apiPost(configRequest)\r\n      .then(response => {\r\n        if (configRequest.cbSuccess) {\r\n          configRequest.cbSuccess(response)\r\n        }\r\n        setState({\r\n          isLoading: false,\r\n          error: null,\r\n          response: response,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        setState({\r\n          isLoading: false,\r\n          error: error,\r\n        })\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (configRequest && configRequest.requestAfterInit === true) {\r\n      request()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return {\r\n    isLoading: state.isLoading,\r\n    error: state.error,\r\n    response: state.response,\r\n    responseData: state.response != null ? state.response.Data : null,\r\n    request,\r\n    test: a => {\r\n      console.warn(a, \"state:\", state)\r\n    },\r\n    Tag: Tag.current,\r\n  }\r\n}\r\n\r\nexport default useRequestAxios\r\n","export function warn() {\n  if (console && console.warn) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'string') args[0] = \"react-i18next:: \".concat(args[0]);\n\n    (_console = console).warn.apply(_console, args);\n  }\n}\nvar alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn.apply(void 0, args);\n}\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, function () {\n    if (i18n.isInitialized) {\n      cb();\n    } else {\n      var initialized = function initialized() {\n        setTimeout(function () {\n          i18n.off('initialized', initialized);\n        }, 0);\n        cb();\n      };\n\n      i18n.on('initialized', initialized);\n    }\n  });\n}\nexport function hasLoadedNamespace(ns, i18n) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n\n  var lng = i18n.languages[0];\n  var fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  var lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n\n  var loadNotPending = function loadNotPending(l, n) {\n    var loadState = i18n.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n    return loadState === -1 || loadState === 2;\n  };\n\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context';\nimport { warnOnce, loadNamespaces, hasLoadedNamespace } from './utils';\nexport function useTranslation(ns) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var i18nFromProps = props.i18n;\n\n  var _ref = useContext(I18nContext) || {},\n      i18nFromContext = _ref.i18n,\n      defaultNSFromContext = _ref.defaultNS;\n\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n\n    var notReadyT = function notReadyT(k) {\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n\n    var retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n\n  var i18nOptions = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), i18n.options.react), props);\n\n  var useSuspense = i18nOptions.useSuspense,\n      keyPrefix = i18nOptions.keyPrefix;\n  var namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  var ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(function (n) {\n    return hasLoadedNamespace(n, i18n, i18nOptions);\n  });\n\n  function getT() {\n    return i18n.getFixedT(null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n\n  var _useState = useState(getT),\n      _useState2 = _slicedToArray(_useState, 2),\n      t = _useState2[0],\n      setT = _useState2[1];\n\n  var isMounted = useRef(true);\n  useEffect(function () {\n    var bindI18n = i18nOptions.bindI18n,\n        bindI18nStore = i18nOptions.bindI18nStore;\n    isMounted.current = true;\n\n    if (!ready && !useSuspense) {\n      loadNamespaces(i18n, namespaces, function () {\n        if (isMounted.current) setT(getT);\n      });\n    }\n\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return function () {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(function (e) {\n        return i18n.off(e, boundReset);\n      });\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(function (e) {\n        return i18n.store.off(e, boundReset);\n      });\n    };\n  }, [i18n, namespaces.join()]);\n  var isInitial = useRef(true);\n  useEffect(function () {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n\n    isInitial.current = false;\n  }, [i18n]);\n  var ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(function (resolve) {\n    loadNamespaces(i18n, namespaces, function () {\n      resolve();\n    });\n  });\n}"],"sourceRoot":""}