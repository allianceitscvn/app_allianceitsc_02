{"version":3,"sources":["modules/adminpanel/MyButton/Types/api_select.tsx","helpers/Flows/Button.js","modules/adminpanel/MyButton/Types/ext.tsx"],"names":["MyButtonLink","_requestApi","selectedRowKeys","props","oneButton","fnList","changeIsLoading","HApi","apiGeneric","getApiRequest","data","getApiQuery","fnListMyPage","fnGetSharedRequestData","Selected","then","res","console","warn","HQuery","parseResponseButtonApi","_moreObj","parseResponseWhenSuccess","catch","err","this","getMorePropsButton","onClick","checkConfirmMsg","_cTable","fnGetComponentTable","_selectRows","getSelectedRowKeys","getTitleDisplay","MyButtonExt","KMoreOfButton","apiCheckShowModal","acceptType","apiUrlAfter","title","tooltip","FlowCheckShowModal","customQuery","cb","_configCheckShow","_request","method","url","path","name","ApiGeneric","request","successCallBack","response","_config","HUtils","get","IsShow","result","FormData","errorCallBack","error","_configButton","NeedReload","fnReloadPage","NeedReloadList","fnReloadList","_moreProps","ConfirmMsg","fnListUI","fnshowConfirm","msg","onClickOK","state","setFromComponent","React","Component"],"mappings":"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","file":"static/js/65.f8088609.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { Button } from \"reactstrap\"\r\nimport { HApi, HQuery } from \"src/core/helpers\"\r\nimport MyButtonExt from \"./ext\"\r\nimport { fnListMyPage } from \"src/helpers/fnList\"\r\nclass MyButtonLink extends MyButtonExt {\r\n  componentDidMount() {}\r\n  _requestApi = (selectedRowKeys = []) => {\r\n    const { oneButton, fnList } = this.props\r\n    oneButton.changeIsLoading(true)\r\n    HApi.apiGeneric({\r\n      ...oneButton.getApiRequest(),\r\n      data: oneButton.getApiQuery({\r\n        ...fnListMyPage.fnGetSharedRequestData(fnList),\r\n        Selected: selectedRowKeys,\r\n      }),\r\n    })\r\n      .then(res => {\r\n        console.warn(\"res\", res)\r\n        HQuery.parseResponseButtonApi(res, oneButton._moreObj)\r\n        this.parseResponseWhenSuccess(res)\r\n        oneButton.changeIsLoading(false)\r\n      })\r\n      .catch(err => {\r\n        oneButton.changeIsLoading(false)\r\n      })\r\n  }\r\n  render() {\r\n    const { oneButton, fnList } = this.props\r\n    // console.warn(\"render Button api\", this.props)\r\n    return (\r\n      <Button\r\n        {...this.getMorePropsButton()}\r\n        {...oneButton.getMorePropsButton()}\r\n        onClick={() => {\r\n          this.checkConfirmMsg(() => {\r\n            let _cTable = fnListMyPage.fnGetComponentTable(fnList, [])\r\n            let _selectRows = []\r\n            if (_cTable) {\r\n              _selectRows = _cTable.getSelectedRowKeys()\r\n              console.warn(\"_selectRows:\", _selectRows)\r\n            }\r\n            this._requestApi(_selectRows)\r\n          })\r\n        }}\r\n      >\r\n        {oneButton.getTitleDisplay()}\r\n      </Button>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyButtonLink\r\n","import { ApiGeneric } from \"src/services/apiServices\"\r\nimport { fnListMyPage } from \"src/helpers/fnList\"\r\nimport { HUtils } from \"@macashipo/mlib\"\r\nexport const KMoreOfButton = {\r\n  apiCheckShowModal: \"apiCheckShowModal\",\r\n  acceptType: \"acceptType\", //upload\r\n  apiUrlAfter: \"apiUrlAfter\", //upload\r\n  title: \"title\", //show title cua button\r\n  tooltip: \"tooltip\", //show tooltip cua button, chua su dung\r\n}\r\n\r\nexport const FlowCheckShowModal = ({\r\n  oneButton,\r\n  fnList,\r\n  customQuery,\r\n  cb,\r\n} = {}) => {\r\n  if (oneButton) {\r\n    let _configCheckShow = oneButton._moreObj[KMoreOfButton.apiCheckShowModal]\r\n    if (_configCheckShow) {\r\n      oneButton.changeIsLoading(true)\r\n      let _request = {\r\n        method: \"POST\",\r\n        url: _configCheckShow.url,\r\n        path: _configCheckShow.path,\r\n        name: _configCheckShow.name,\r\n      }\r\n      ApiGeneric({\r\n        request: _request,\r\n        data: oneButton.getApiQuery({\r\n          ...fnListMyPage.fnGetSharedRequestData(fnList),\r\n          ...customQuery,\r\n        }),\r\n        successCallBack: response => {\r\n          console.warn(\"response\", response)\r\n          let _config = HUtils.get(response, \"Data.Config\")\r\n          if (_config && _config.IsShow) {\r\n            if (cb) {\r\n              cb({\r\n                result: true,\r\n                data: _config.FormData || {},\r\n              })\r\n            }\r\n          } else {\r\n            if (cb) {\r\n              cb({\r\n                result: false,\r\n              })\r\n            }\r\n          }\r\n          oneButton.changeIsLoading(false)\r\n        },\r\n        errorCallBack: (error, response) => {\r\n          oneButton.changeIsLoading(false)\r\n          if (cb) {\r\n            cb({\r\n              result: false,\r\n            })\r\n          }\r\n        },\r\n      })\r\n    } else {\r\n      if (cb) {\r\n        cb({\r\n          result: true,\r\n        })\r\n      }\r\n    }\r\n  } else {\r\n    if (cb) {\r\n      cb({\r\n        result: true,\r\n      })\r\n    }\r\n  }\r\n}\r\n","import { OneButton } from \"@macashipo/mlib\"\r\nimport React from \"react\"\r\nimport { Button } from \"reactstrap\"\r\nimport { KMoreOfButton } from \"src/helpers/Flows/Button\"\r\nimport { fnListMyPage, fnListUI } from \"src/helpers/fnList\"\r\ninterface IProps {\r\n  oneButton: OneButton\r\n  fnList?: any\r\n}\r\nclass MyButtonExt extends React.Component<IProps> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n    const { oneButton } = this.props\r\n    oneButton.setFromComponent(this)\r\n  }\r\n  componentDidMount() {}\r\n  onClick = () => {}\r\n  parseResponseWhenSuccess = (res: any) => {\r\n    const { oneButton, fnList } = this.props\r\n    if (oneButton._configButton.NeedReload) {\r\n      fnListMyPage.fnReloadPage(fnList)\r\n    } else if (oneButton._configButton.NeedReloadList) {\r\n      fnListMyPage.fnReloadList(fnList)\r\n    }\r\n  }\r\n  getMorePropsButton = () => {\r\n    const { oneButton } = this.props\r\n    let _moreProps: any = {}\r\n    if (oneButton && oneButton._moreObj) {\r\n      if (oneButton._moreObj[KMoreOfButton.title]) {\r\n        _moreProps.title = oneButton._moreObj[KMoreOfButton.title]\r\n      }\r\n    }\r\n    return _moreProps\r\n  }\r\n  checkConfirmMsg = cb => {\r\n    const { oneButton } = this.props\r\n    //test\r\n    // oneButton._configButton.ConfirmMsg = \"Hello\"\r\n    if (oneButton && oneButton._configButton.ConfirmMsg) {\r\n      fnListUI.fnshowConfirm({\r\n        title: \"Confirm\",\r\n        msg: oneButton._configButton.ConfirmMsg,\r\n        onClickOK: () => {\r\n          if (cb) {\r\n            cb()\r\n          }\r\n        },\r\n      })\r\n    } else {\r\n      if (cb) {\r\n        cb()\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    const { oneButton } = this.props\r\n    return (\r\n      <Button\r\n        {...oneButton.getMorePropsButton()}\r\n        onClick={() => {\r\n          this.onClick()\r\n        }}\r\n      >\r\n        {oneButton.getTitleDisplay()}\r\n      </Button>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyButtonExt\r\n"],"sourceRoot":""}