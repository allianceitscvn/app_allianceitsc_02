(this["webpackJsonpapp-admin-v5"]=this["webpackJsonpapp-admin-v5"]||[]).push([[90],{1267:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return O}));var n,r=o(4),a=o(13),l=o(22),i=o(0),c=o.n(i),u=o(1),s=o(157),f=o(9),d=o(516),p=o(62),m=o(518),b=o(20),y=o(25),h=o(160),C=o(2),j=b.b.div(n||(n=Object(l.a)(["\n  & .form-control {\n    padding: 0px;\n    height: auto;\n    border: 0px;\n  }\n"]))),g=function(e,t){var o=e.valueControl;if(t&&(o=e.defaultValues[e.fieldName]||""),o){var n=s.a(f.i.getSourceData(e.fnList),o);return n||{Value:o,Text:o}}return null};function O(e){var t=Object(m.a)({props:e}),o=c.a.useState(g(t)),n=Object(a.a)(o,2),l=n[0],i=n[1];f.h.addFnListFromControl(t.fnList,[f.ab,function(){var e=g(t,!0);console.warn("reset form control select2",e),i(e)},t.fieldName]);var s=Object(p.d)({configFormControl:t.configFormControl,key:p.h.multi,defaultValue:!1}),b=u.HUtils.runFuntion(t.fnList,"getSourceData")||[],O=l;return s&&"string"==typeof O&&(O=Object(h.HOptionsGetArrayOptionFromArrayValue)(O,b)),Object(C.jsx)(d.a,Object(r.a)(Object(r.a)({cfc:t},e),{},{children:Object(C.jsx)(j,{className:"mfc-select2",children:Object(C.jsx)(u.MyBase,{type:"select2",className:"form-control",options:b,value:O,onChange:function(e){if(console.warn("onChange:",e),e)if(Array.isArray(e)){i(e);var o=e.map((function(e,t){return e.Value})).join(",");t.updateValueControl(o)}else i({Value:e.Value,Text:e.Text}),t.updateValueControl(e.Value)},attrs:Object(r.a)({onFocus:function(){console.warn("on focus",t.optionKey),t.optionKey&&t.optionKey.indexOf("[")>-1&&t.forceUpdate()},isDisabled:t.getDisabled(),isMulti:s,placeholder:Object(p.e)({configFormControl:t.configFormControl,defaultValue:y.a.t("Select...")})},Object(p.d)({configFormControl:t.configFormControl,key:p.h.select2,defaultValue:{}})),fnList:t.fnList})})}))}},516:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var n,r=o(4),a=o(22),l=(o(0),o(20)),i=o(1),c=o(9),u=o(62),s=o(2),f=l.b.div(n||(n=Object(a.a)(["\n  margin-bottom: 0.5rem;\n  & .alert {\n    padding: 0.5rem;\n    margin-bottom: 0.5rem;\n  }\n"])));function d(e){var t=e.cfc,o=e.noLabel;if(!1===Object(u.b)({configFormControl:t.configFormControl,fnList:t.fnList,more:t.more}))return t.more&&t.more[u.h.htmlWhenHide]?Object(s.jsx)(i.MyUI,{type:"html",html:t.more[u.h.htmlWhenHide]}):null;var n=c.i.fnGetTypeWrapControl(t.fnList),a=Object(u.d)({configFormControl:t.configFormControl,key:u.h.configWrapControl})||{};if(i.MyLayoutHelpers.Types[n])return Object(s.jsx)(i.MyLayout,{type:n,cfc:t,noLabel:o,children:e.children,configWrapControl:a});var l=Object(u.d)({configFormControl:t.configFormControl,key:u.h.styleWrapControl,defaultValue:!1})||{};return Object(s.jsxs)(f,{className:"mfcw-v1",style:Object(r.a)(Object(r.a)({},l),a.style),children:[!0!==o&&Object(s.jsx)("div",{style:a.styleLabel,children:t.label}),Object(s.jsx)("div",{style:a.styleControl,children:e.children})]})}},518:function(e,t,o){"use strict";var n=o(61),r=o(13),a=o(1),l=o(0),i=o.n(l),c=o(4),u=o(9),s=o(157),f=o(62),d="getSourceData",p=function(e){var t=e.props,o=t.configFormControl||{},n=o.fieldName,r=o.more,a=Object(c.a)({},t.fnList);return a.getSourceData=function(){if(console.info(d,n),r&&r.optionKey){var e=u.h.getSourceList(a);if(e&&e[r.optionKey])return e[r.optionKey];if(r.optionKey.indexOf(".")>-1&&r.optionKey.indexOf("[")>-1){var t=u.h.getCurrentValues(a);return s.b(e,r.optionKey,t)}}return[]},a[u.Q]=function(){var e=u.h.fnGetTypeWrapControl(t.fnList)||"";return r&&r.hasOwnProperty(f.h.typeWrapControl)&&(e=r[f.h.typeWrapControl]),e},a},m=o(156);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.props,o=i.a.useRef(t.configFormControl),c=o.current||{},s=c.label,d=c.fieldName;Object(f.f)({configFormControl:c,custom:t.custom});var b=c.more||{},y=u.h.getDefaultValues(t.fnList)||{},h=Object(l.useState)(y[d]||""),C=Object(r.a)(h,2),j=C[0],g=C[1],O=i.a.useRef(p({props:t})),v=O.current,F=Object(m.a)();return u.h.addFnListFromControl(v,[u.ab,function(){console.warn("reset form control"),g(y[d]||"")},d]),u.h.addFnListFromControl(v,[f.a.keys.forceUpdate,function(){F()},d]),{more:b,forceUpdate:F,configFormControl:c,label:s,defaultValues:y,fieldName:d,optionKey:b.optionKey,valueControl:j,fnList:v,setValueControl:g,updateValueControl:function(e){g(e),a.HUtils.runFuntion(v,"onUpdateValue",[{fieldName:d,newValue:e}])},updateValueControlWithMoreFields:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(e),a.HUtils.runFuntion(v,"onUpdateValue",[{fieldName:d,newValue:e}].concat(Object(n.a)(Object.keys(t).map((function(e,o){return{fieldName:e,newValue:t[e]}})))))},getDisabled:function(){return!0===b.disabled},getMoreAttrs:function(){var e={};return null!=b.autoComplete&&(e.autoComplete=String(b.autoComplete),!1===b.autoComplete&&(e.autoComplete="new-password")),b.placeholder&&(e.placeHolder=b.placeholder),b.disabled&&(e.disabled=b.disabled),b.rows&&(e.rows=b.rows),e}}}}}]);
//# sourceMappingURL=90.d6e83fc4.chunk.js.map