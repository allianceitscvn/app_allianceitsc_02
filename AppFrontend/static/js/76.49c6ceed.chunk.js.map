{"version":3,"sources":["modules/adminpanel/MyChart/Types/gg_column.js","modules/adminpanel/MyChart/helpers.js","modules/adminpanel/MyChart/Types/_gg_chart.js","modules/adminpanel/MyChart/Types/_gg_chart_ext.js"],"names":["Z","props","_myChartType","state","this","renderChart","GGChartExt","propTypes","defaultProps","getDataBySort","data","_more","configChart","_More","more","JSON","parse","error","console","warn","getMoreOfChart","HUtilsGetDataBySort","sortByField","sortType","sortDataType","WrapChart","styled","div","KMore","GoogleChart","getChartConfigOptions","_options","chartConfig","fnList","_chartMore","getChartConfigMore","extraDataField","fnGetExtraDataTable","_extraData","ChartOptions","_chartConfig","options","_Options","getSeperator","sepereator","getDefaultOptionsChart","title","getDataForChart","_data","ChartData","hasFilter","fnGetDataTable","fnGetDataTableFilterd","MyChartHelpers","getOptionsForChart","_myDefaultOptionsChart","Object","assign","_myOptionsChart","hAxisTicksDate","length","_optionsDate","_hAxisTicksDate","i","_v","push","Date","v","f","hAxis","ticks","format","colorsFollowTitle","colors","_colorsFollowTitle","countfY","dataTable","valueX","fX","fY","_count","_arrValueY","_item","indexOf","sumfY","_sum","buidRowDataForChart","arrfX","row","_seperator","_valueX","toString","distinctX","_fX","startsWith","replace","_objFx","_obj","_f","_vf","_arrfY","split","_fY","_num","parseInt","_arrInField","Array","isArray","j","_jv","getArrayFieldsInMore","_fjv","_addValue","hasOwnProperty","isNaN","Number","endsWith","_objHeader","fieldName","value","hasStyle","_style","fStyle","fColor","hasAnnotation","_annotation","fAnnotation","buidHeaderDataForChart","titleX","titleY","_arrTitleY","_arrFY","_arrHeaderY","_h","role","type","p","html","_arrItem","_row","getArrayTitleFieldsInMore","concat","header","_ttY","_hThis","_titleX","_header","buildDataForChart","_titleY","_dataTable","_dataForChart","showWithoutData","_arrfX","_dataRow","log","getStyle","style","arrByFieldName","arrTitleByFieldName","getClassName","_className","className","getMorePropsFromMore","morePropsChart","_props","graph_id","prefixId","_chartType","styleContainer","chartType","styleContainerEmpty","textEmpty","_renderContain","React","Component","vAxis","_chartOptions","titleV","minValue","vMinValue","titleH","legend","_objOptions"],"mappings":"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","file":"static/js/76.49c6ceed.chunk.js","sourcesContent":["import GGChartExt from \"./_gg_chart_ext\"\r\n\r\nclass Z extends GGChartExt {\r\n  static propTypes = {}\r\n  static defaultProps = {}\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  _myChartType = () => {\r\n    return \"ColumnChart\"\r\n  }\r\n  render() {\r\n    return this.renderChart()\r\n  }\r\n}\r\n\r\nexport default Z\r\n","import { getDataBySort as HUtilsGetDataBySort } from \"src/helpers/Flows/MNeedUpdateMLib\"\r\n\r\nexport const getMoreOfChart = ({ configChart } = {}) => {\r\n  if (configChart && configChart._More) {\r\n    return configChart._More\r\n  }\r\n  if (configChart && configChart.more) {\r\n    if (typeof configChart.more == \"object\") {\r\n      return configChart.more\r\n    } else if (typeof configChart.more == \"string\") {\r\n      try {\r\n        configChart._More = JSON.parse(configChart.more)\r\n        return configChart._More\r\n      } catch (error) {\r\n        console.warn(\"Error parse chart config json\", error)\r\n      }\r\n    }\r\n  }\r\n  return {}\r\n}\r\n\r\nexport const getDataBySort = (data, { configChart }) => {\r\n  let _more = getMoreOfChart({ configChart })\r\n  return HUtilsGetDataBySort(\r\n    data,\r\n    _more.sortByField,\r\n    _more.sortType,\r\n    _more.sortDataType\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Chart } from \"react-google-charts\"\r\nimport * as MyChartHelpers from \"../helpers\"\r\nimport styled from \"styled-components\"\r\n\r\nconst WrapChart = styled.div`\r\n  & > div {\r\n    overflow: auto;\r\n  }\r\n`\r\nconst KMore = {\r\n  isEmptyIsRoot: \"isEmptyIsRoot\", //for orgchart, parent \"\" => \"_root\"\r\n  fixDataAfterHeader: \"fixDataAfterHeader\",\r\n}\r\nclass GoogleChart extends React.Component {\r\n  static propTypes = {}\r\n  static defaultProps = {}\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n    this._colorsFollowTitle = []\r\n  }\r\n\r\n  getChartConfigOptions = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartMore = this.getChartConfigMore()\r\n    let _options\r\n    if (_chartMore.extraDataField) {\r\n      if (fnList.fnGetExtraDataTable) {\r\n        let _extraData = fnList.fnGetExtraDataTable()\r\n        if (\r\n          _extraData &&\r\n          _extraData.ChartOptions &&\r\n          _extraData.ChartOptions[_chartMore.extraDataField]\r\n        ) {\r\n          _options = _extraData.ChartOptions[_chartMore.extraDataField]\r\n        }\r\n      }\r\n    }\r\n\r\n    let _chartConfig = chartConfig || {}\r\n    if (_chartConfig.options && _options == null) {\r\n      _options = _chartConfig.options\r\n    }\r\n\r\n    if (typeof _options == \"object\") {\r\n      return _options\r\n    } else if (typeof _options == \"string\") {\r\n      try {\r\n        _chartConfig._Options = JSON.parse(_options)\r\n        return _chartConfig._Options\r\n      } catch (error) {\r\n        console.warn(\"Error parse chart config json\", error)\r\n      }\r\n    }\r\n\r\n    return {}\r\n  }\r\n\r\n  getSeperator = () => {\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.sepereator) {\r\n      return _more.sepereator\r\n    }\r\n    return \";\"\r\n  }\r\n\r\n  getChartConfigMore = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartConfig = chartConfig || {}\r\n    if (_chartConfig.more) {\r\n      if (typeof _chartConfig.more == \"object\") {\r\n        return _chartConfig.more\r\n      } else if (typeof _chartConfig.more == \"string\") {\r\n        try {\r\n          _chartConfig._More = JSON.parse(_chartConfig.more)\r\n          return _chartConfig._More\r\n        } catch (error) {\r\n          console.warn(\"Error parse chart config json\", error)\r\n        }\r\n      }\r\n    }\r\n    return {}\r\n  }\r\n\r\n  getDefaultOptionsChart = () => {\r\n    return {\r\n      title: \"Title Chart\",\r\n    }\r\n  }\r\n\r\n  getDataForChart = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartMore = this.getChartConfigMore()\r\n    let _data = []\r\n    if (fnList) {\r\n      // console.warn('getDataForChart 1:',fnList,_chartMore,_chartMore.extraDataField,fnList.fnGetExtraDataTable);\r\n      if (_chartMore.extraDataField) {\r\n        if (fnList.fnGetExtraDataTable) {\r\n          let _extraData = fnList.fnGetExtraDataTable()\r\n          // console.warn('getDataForChart 2:',_extraData,_chartMore);\r\n          if (\r\n            _extraData &&\r\n            _extraData.ChartData &&\r\n            _extraData.ChartData[_chartMore.extraDataField]\r\n          ) {\r\n            return _extraData.ChartData[_chartMore.extraDataField]\r\n          }\r\n        }\r\n      } else if (_chartMore.hasFilter === false) {\r\n        if (fnList.fnGetDataTable) {\r\n          _data = fnList.fnGetDataTable()\r\n        }\r\n      } else {\r\n        if (fnList.fnGetDataTableFilterd) {\r\n          _data = fnList.fnGetDataTableFilterd()\r\n        }\r\n      }\r\n    }\r\n    _data = MyChartHelpers.getDataBySort(_data, { configChart: chartConfig })\r\n    return _data\r\n  }\r\n\r\n  getOptionsForChart = () => {\r\n    let _options = this.getDefaultOptionsChart()\r\n    let _chartMore = this.getChartConfigMore()\r\n    if (this._myDefaultOptionsChart) {\r\n      _options = Object.assign(_options, this._myDefaultOptionsChart() || {})\r\n    }\r\n    if (this._myOptionsChart) {\r\n      _options = Object.assign(_options, this._myOptionsChart() || {})\r\n    }\r\n    //line chart date\r\n    if (_options.hAxisTicksDate != null && _options.hAxisTicksDate.length > 0) {\r\n      let _optionsDate = []\r\n      let _hAxisTicksDate = _options.hAxisTicksDate\r\n      for (let i = 0; i < _hAxisTicksDate.length; i++) {\r\n        let _v = _hAxisTicksDate[i]\r\n        if (typeof _v == \"number\") {\r\n          _optionsDate.push(new Date(_hAxisTicksDate[i]))\r\n        } else if (typeof _v == \"object\") {\r\n          if (_v.v && _v.f) {\r\n            _optionsDate.push({\r\n              v: new Date(_v.v),\r\n              f: _v.f,\r\n            })\r\n          }\r\n        }\r\n      }\r\n      //nếu có hAis thì thêm ticks\r\n      if (_options.hAxis) {\r\n        _options.hAxis.ticks = _optionsDate\r\n      } else {\r\n        //không có hAxis thì thêm hAis\r\n        _options.hAxis = {\r\n          format: \"d-MMMyy\",\r\n          ticks: _optionsDate,\r\n        }\r\n      }\r\n    }\r\n    if (_chartMore && _chartMore.colorsFollowTitle) {\r\n      if (\r\n        _options.colors == null &&\r\n        this._colorsFollowTitle &&\r\n        this._colorsFollowTitle.length > 0\r\n      ) {\r\n        _options.colors = this._colorsFollowTitle\r\n      }\r\n    }\r\n    // console.log(`options chart:`,_options);\r\n    return _options\r\n  }\r\n\r\n  countfY = ({ dataTable, valueX, fX, fY }) => {\r\n    let _count = 0\r\n    // console.warn('dataTable,valueX,fX,fY',dataTable,valueX,fX,fY);\r\n    if (dataTable) {\r\n      let _arrValueY = []\r\n      for (let i = 0; i < dataTable.length; i++) {\r\n        let _item = dataTable[i]\r\n        if (_item[fX] == valueX) {\r\n          if (_item[fY] != null && _arrValueY.indexOf(_item[fY]) == -1) {\r\n            _count++\r\n            _arrValueY.push(_item[fY])\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return _count\r\n  }\r\n  sumfY = ({ dataTable, valueX, fX, fY }) => {\r\n    let _sum = 0\r\n    if (dataTable) {\r\n      for (let i = 0; i < dataTable.length; i++) {\r\n        let _item = dataTable[i]\r\n        if (_item[fX] == valueX) {\r\n          if (_item[fY] != null && typeof _item[fY] == \"number\") {\r\n            _sum += _item[fY]\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return _sum\r\n  }\r\n  buidRowDataForChart = ({ arrfX, dataTable, row, fX, fY, more }) => {\r\n    let _seperator = this.getSeperator()\r\n    // console.warn(\"buidRowDataForChart\",fX,fY,row,dataTable,arrfX);\r\n    let _valueX = (row[fX] || \"\").toString() //_valueX phải là string\r\n    if (more.distinctX == true && arrfX.indexOf(_valueX) > -1) {\r\n      return null\r\n    }\r\n    let _data = []\r\n\r\n    let _fX = fX\r\n    if (fX.startsWith(\"[org]\")) {\r\n      // console.warn('obj',_obj,row,_obj[\"v\"], _obj[\"f\"],_v, _f);\r\n      try {\r\n        _fX = fX.replace(\"[org]\", \"\") //cau hinh fX: [org]{\"v\":\"fieldV\",\"f\":\"fieldF\"}\r\n        if (row[_fX] != null) {\r\n          let _objFx = {}\r\n          if (typeof row[_fX] == \"object\") {\r\n            _objFx = row[_fX]\r\n          } else if (typeof row[_fX] == \"string\") {\r\n            _objFx = JSON.parse(row[_fX])\r\n          }\r\n          if (_objFx.v && _objFx.f) {\r\n            _data.push(_objFx)\r\n          }\r\n        } else {\r\n          let _obj = JSON.parse(_fX)\r\n          // console.warn(\"zzz\",_obj);\r\n          if (_obj.v && _obj.f) {\r\n            let _v =\r\n              _obj != null && _obj[\"v\"] != null && row[_obj[\"v\"]] != null\r\n                ? row[_obj[\"v\"]]\r\n                : \"\"\r\n            let _f =\r\n              _obj != null && _obj[\"f\"] != null && row[_obj[\"f\"]] != null\r\n                ? row[_obj[\"f\"]]\r\n                : \"\"\r\n            _data.push({\r\n              v: _v,\r\n              f: _f,\r\n            })\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.warn(\"Parser json more in Type error:\", error)\r\n        _data.push(\"\")\r\n      }\r\n    } else if (fX.startsWith(\"[date]\")) {\r\n      let _vf = fX.replace(\"[date]\", \"\") //fieldname\r\n      let _v = null //value\r\n      if (_vf) {\r\n        _v = row[_vf]\r\n      }\r\n      if (_v == null) {\r\n        _v = new Date()\r\n      } else {\r\n        _v = new Date(_v)\r\n      }\r\n      _data.push(_v)\r\n    } else {\r\n      _data.push(_valueX)\r\n    }\r\n    // _data.push(_valueX);\r\n    arrfX.push(_valueX)\r\n    let _arrfY = fY.split(_seperator)\r\n    for (let _fY of _arrfY) {\r\n      if (_fY.startsWith(\"[count]\")) {\r\n        let _count = this.countfY({\r\n          dataTable,\r\n          valueX: _valueX,\r\n          fX,\r\n          fY: _fY.replace(\"[count]\", \"\"),\r\n        })\r\n        _data.push(_count)\r\n      } else if (_fY.startsWith(\"[sum]\")) {\r\n        let _sum = this.sumfY({\r\n          dataTable,\r\n          valueX: _valueX,\r\n          fX,\r\n          fY: _fY.replace(\"[sum]\", \"\"),\r\n        })\r\n        _data.push(_sum)\r\n      } else if (_fY.startsWith(\"[num]\")) {\r\n        let _num = parseInt(_fY.replace(\"[num]\", \"\"))\r\n        _data.push(_num)\r\n      } else if (_fY.startsWith(\"[color]\")) {\r\n        let _v = _fY.replace(\"[color]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n        //add to colorsFollowTitle\r\n        if (this._colorsFollowTitle.length < _arrfY.length) {\r\n          this._colorsFollowTitle.push(_v)\r\n        }\r\n      } else if (_fY.startsWith(\"[style]\")) {\r\n        let _v = _fY.replace(\"[style]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[annotation]\")) {\r\n        let _v = _fY.replace(\"[annotation]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        } else {\r\n          _v = null\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[annotationText]\")) {\r\n        let _v = _fY.replace(\"[annotationText]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        } else {\r\n          _v = null\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[date]\")) {\r\n        let _v = _fY.replace(\"[date]\", \"\")\r\n        if (_v) {\r\n          _v = row[_v]\r\n        }\r\n        if (_v == null) {\r\n          _v = new Date()\r\n        } else {\r\n          _v = new Date(_v)\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[tooltip]\")) {\r\n        let _v = _fY.replace(\"[tooltip]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[string]\")) {\r\n        let _v = _fY.replace(\"[string]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[org]\")) {\r\n        let _v = _fY.replace(\"[org]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        if ((_v === null || _v === \"\") && more[KMore.isEmptyIsRoot]) {\r\n          _v = \"_root_\"\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[tooltip_html]\")) {\r\n        let _v = _fY.replace(\"[tooltip_html]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[arr]\")) {\r\n        let _v = _fY.replace(\"[arr]\", \"\")\r\n        // if(_v && row[_v]!=null){\r\n        //   _v = row[_v];\r\n        // }\r\n        // if(Array.isArray(_v)){\r\n        //   _data = _data.concat(_v);\r\n        // }\r\n        // else if(typeof _v == 'string'){\r\n        //   _data = _data.concat(_v.split(_seperator));\r\n        // }\r\n        let _arrInField = []\r\n        if (_v && row[_v]) {\r\n          //fix loi check array row[_v] chu ko the la _v duoc\r\n          if (Array.isArray(row[_v])) {\r\n            _arrInField = row[_v]\r\n          } else if (typeof row[_v] == \"string\") {\r\n            _arrInField = row[_v].split(_seperator)\r\n          }\r\n        }\r\n        for (let j = 0; j < _arrInField.length; j++) {\r\n          let _jv = _arrInField[j]\r\n          //neu _jv la object\r\n          if (_jv != null && !Array.isArray(_jv) && typeof _jv == \"object\") {\r\n            _jv = this.getArrayFieldsInMore(_v)\r\n          }\r\n          if (_jv.startsWith(\"[style]\")) {\r\n            _data.push(_jv.replace(\"[style]\", \"\"))\r\n          } else if (_jv.startsWith(\"[color]\")) {\r\n            let _fjv = _jv.replace(\"[color]\", \"\")\r\n            let _addValue = \"\"\r\n            if (row && row.hasOwnProperty(_fjv)) {\r\n              _addValue = row[_fjv]\r\n            } else {\r\n              _addValue = _fjv\r\n            }\r\n            _data.push(_addValue)\r\n            if (\r\n              this._colorsFollowTitle.length <\r\n              _arrfY.length + _arrInField.length - 1\r\n            ) {\r\n              this._colorsFollowTitle.push(_addValue)\r\n            }\r\n          } else if (_jv.startsWith(\"[annotation]\")) {\r\n            let _fjv = _jv.replace(\"[annotation]\", \"\")\r\n            if (row && row.hasOwnProperty(_fjv)) {\r\n              _data.push(row[_fjv])\r\n            } else {\r\n              _data.push(_fjv)\r\n            }\r\n          } else if (_jv.startsWith(\"[field]\")) {\r\n            //bo sung kieu field trong arr\r\n            let _fjv = _jv.replace(\"[field]\", \"\")\r\n            if (row && row.hasOwnProperty(_fjv)) {\r\n              _data.push(row[_fjv])\r\n            } else {\r\n              _data.push(_fjv)\r\n            }\r\n          } else {\r\n            if (!isNaN(Number(_jv))) {\r\n              _data.push(Number(_jv))\r\n            } else {\r\n              _data.push(_jv)\r\n            }\r\n          }\r\n        }\r\n      } else if (_fY.startsWith(\"{\") && _fY.endsWith(\"}\")) {\r\n        try {\r\n          let _objHeader = JSON.parse(_fY)\r\n          if (_objHeader.fieldName) {\r\n            _data.push(row[_objHeader.fieldName])\r\n          } else if (_objHeader.value) {\r\n            _data.push(_objHeader.value)\r\n          }\r\n        } catch (error) {\r\n          console.error(\"parse json header chart error:\", _fY)\r\n        }\r\n      } else {\r\n        //Dam bao gia tri phai la so\r\n        if (typeof row[_fY] == \"number\") {\r\n          _data.push(row[_fY])\r\n        } else if (typeof row[_fY] == \"string\") {\r\n          var _num = Number(row[_fY])\r\n          isNaN(_num) ? _data.push(0) : _data.push(_num)\r\n        } else {\r\n          _data.push(0)\r\n        }\r\n      }\r\n    }\r\n    if (more.hasStyle == true) {\r\n      let _style = \"\"\r\n      if (more.fStyle && row[more.fStyle]) {\r\n        _style = row[more.fStyle]\r\n      } else if (row[\"UI_GoogleChartStyle\"]) {\r\n        _style = row[\"UI_GoogleChartStyle\"]\r\n      }\r\n      if (more.fColor && row[more.fColor]) {\r\n        if (_style.length == 0) {\r\n          // console.warn('fColor:',more.fColor,row[more.fColor]);\r\n          _style = `${row[more.fColor]}`\r\n        } else {\r\n          _style += `;color: ${row[more.fColor]}`\r\n        }\r\n      }\r\n      _data.push(_style)\r\n    }\r\n    if (more.hasAnnotation == true) {\r\n      let _annotation = \"\"\r\n      if (more.fAnnotation && row[more.fAnnotation]) {\r\n        _annotation = row[more.fAnnotation]\r\n      }\r\n      _data.push(_annotation)\r\n    }\r\n\r\n    return _data\r\n  }\r\n  buidHeaderDataForChart = ({ dataTable, titleX, titleY, fX, fY, more }) => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _seperator = this.getSeperator()\r\n    let _arrTitleY = titleY.split(_seperator)\r\n    let _arrFY = fY.split(_seperator)\r\n    let _arrHeaderY = []\r\n    if (_arrFY.length == _arrTitleY.length) {\r\n      for (let i = 0; i < _arrFY.length; i++) {\r\n        let _h = _arrFY[i]\r\n        // console.warn('_h',_h,_arrTitleY);\r\n        if (_h.startsWith(\"[color]\") || _h.startsWith(\"[style]\")) {\r\n          _arrHeaderY.push({ role: \"style\" })\r\n        } else if (_h.startsWith(\"[annotation]\")) {\r\n          _arrHeaderY.push({ role: \"annotation\" })\r\n        } else if (_h.startsWith(\"[annotationText]\")) {\r\n          _arrHeaderY.push({ role: \"annotationText\" })\r\n        } else if (_h.startsWith(\"[date]\")) {\r\n          _arrHeaderY.push({ type: \"date\" })\r\n        } else if (_h.startsWith(\"[tooltip]\")) {\r\n          _arrHeaderY.push({ type: \"string\", role: \"tooltip\" })\r\n        } else if (_h.startsWith(\"[tooltip_html]\")) {\r\n          _arrHeaderY.push({\r\n            type: \"string\",\r\n            role: \"tooltip\",\r\n            p: { html: true },\r\n          })\r\n        } else if (\r\n          _h.startsWith(\"[arr]\") &&\r\n          _arrTitleY[i].startsWith(\"[arr]\")\r\n        ) {\r\n          //voi [arr] thi su dung _arrHeaderY de xu ly\r\n          let _arrItem = []\r\n          let _v = _arrTitleY[i].replace(\"[arr]\", \"\")\r\n          if (dataTable && dataTable.length > 0) {\r\n            let _row = dataTable[0]\r\n            let _arrInField = []\r\n            if (_row[_v]) {\r\n              //fix loi check array row[_v] chu ko the la _v duoc\r\n              if (Array.isArray(_row[_v])) {\r\n                _arrInField = _row[_v]\r\n              } else if (typeof _row[_v] == \"string\") {\r\n                _arrInField = _row[_v].split(_seperator)\r\n              }\r\n            }\r\n            for (let j = 0; j < _arrInField.length; j++) {\r\n              let _jv = _arrInField[j]\r\n              //neu _jv la object\r\n              if (\r\n                _jv != null &&\r\n                !Array.isArray(_jv) &&\r\n                typeof _jv == \"object\"\r\n              ) {\r\n                _jv = this.getArrayTitleFieldsInMore(_v)\r\n              }\r\n              if (\r\n                _jv.startsWith(\"[color]\") ||\r\n                _jv.startsWith(\"[style]\") ||\r\n                _jv.startsWith(\"[c]\")\r\n              ) {\r\n                _arrItem.push({ role: \"style\" })\r\n              } else if (_jv.startsWith(\"[annotation]\")) {\r\n                _arrItem.push({ role: \"annotation\" })\r\n              } else if (_jv.startsWith(\"[field]\")) {\r\n                //bo sung kieu field trong arr\r\n                let _fjv = _jv.replace(\"[field]\", \"\")\r\n                if (_row && _row[_fjv]) {\r\n                  _arrItem.push(_row[_fjv])\r\n                } else {\r\n                  _arrItem.push(\"\")\r\n                }\r\n              } else {\r\n                _arrItem.push(_jv)\r\n              }\r\n            }\r\n          }\r\n          _arrHeaderY = _arrHeaderY.concat(_arrItem)\r\n        } else if (_h.startsWith(\"{\") && _h.endsWith(\"}\")) {\r\n          try {\r\n            let _objHeader = JSON.parse(_h)\r\n            if (_objHeader.header) {\r\n              _arrHeaderY.push(_objHeader.header)\r\n            }\r\n          } catch (error) {\r\n            console.error(\"parse json header chart error:\", _h)\r\n          }\r\n        } else {\r\n          let _ttY = _arrTitleY[i]\r\n          if (_ttY.startsWith(\"[field]\")) {\r\n            let _v = _ttY.replace(\"[field]\", \"\")\r\n            let _hThis = \"\"\r\n            if (dataTable && dataTable.length > 0) {\r\n              let _row = dataTable[0]\r\n              if (_row[_v]) {\r\n                _hThis = _row[_v]\r\n              }\r\n            }\r\n            _arrHeaderY.push(_hThis)\r\n            // console.warn(\"_arrHeaderY\",_arrHeaderY);\r\n          } else {\r\n            _arrHeaderY.push(_ttY)\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      console.warn(\r\n        \"Array fY and titleY not same size!!!\",\r\n        _arrFY.length,\r\n        _arrTitleY.length\r\n      )\r\n    }\r\n    let _titleX = titleX\r\n    if (fX.startsWith(\"[date]\")) {\r\n      _titleX = { type: \"date\" }\r\n    }\r\n    let _header = [_titleX, ..._arrHeaderY]\r\n    if (more.hasStyle == true) {\r\n      _header.push({ role: \"style\" })\r\n    }\r\n    if (more.hasAnnotation == true) {\r\n      _header.push({ role: \"annotation\" })\r\n    }\r\n    return _header\r\n  }\r\n  buildDataForChart = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    // console.warn('buildDataForChart this.props', this.props);\r\n    let _chartConfig = chartConfig || {}\r\n    let _fX = _chartConfig.fX\r\n    let _fY = _chartConfig.fY\r\n    let _titleX = (_chartConfig.titleX || _fX || \"\").toString() //_titleX phải là string\r\n    let _titleY = _chartConfig.titleY || _fY\r\n    let _chartMore = this.getChartConfigMore()\r\n    // let _options = _chartConfig.options;\r\n    let _dataTable = []\r\n    let _dataForChart = []\r\n    if ((_fX, _fY)) {\r\n      _dataTable = this.getDataForChart()\r\n      // console.warn(\"_dataTable\",_dataTable);\r\n      if (\r\n        _chartMore.showWithoutData == true ||\r\n        (_dataTable && _dataTable.length > 0)\r\n      ) {\r\n        let _header = this.buidHeaderDataForChart({\r\n          titleX: _titleX,\r\n          titleY: _titleY,\r\n          dataTable: _dataTable,\r\n          fX: _fX,\r\n          fY: _fY,\r\n          more: _chartMore,\r\n        })\r\n\r\n        // console.warn(\"_header\",_header,_chartMore,_chartConfig);\r\n        _dataForChart.push(_header)\r\n        // console.warn(\"_dataForChart\",_chartMore,_dataForChart);\r\n\r\n        //bo sung data fix tu more\r\n        if (_chartMore[KMore.fixDataAfterHeader]) {\r\n          _dataForChart = [\r\n            ..._dataForChart,\r\n            ..._chartMore[KMore.fixDataAfterHeader],\r\n          ]\r\n        }\r\n\r\n        let _arrfX = []\r\n        if (_dataTable && _dataTable.length > 0) {\r\n          for (let i = 0; i < _dataTable.length; i++) {\r\n            let _item = _dataTable[i]\r\n            let _dataRow = this.buidRowDataForChart({\r\n              arrfX: _arrfX,\r\n              dataTable: _dataTable,\r\n              row: _item,\r\n              fX: _fX,\r\n              fY: _fY,\r\n              more: _chartMore,\r\n            })\r\n            if (_dataRow) {\r\n              _dataForChart.push(_dataRow)\r\n            }\r\n          }\r\n        }\r\n        // console.warn(\"_dataForChart\",_chartMore,_dataForChart);\r\n      }\r\n    } else {\r\n      console.warn(\"Missing fX or fY\")\r\n    }\r\n    console.log(\"_dataForChart\", _dataForChart)\r\n    return _dataForChart\r\n  }\r\n\r\n  getStyle = () => {\r\n    const { style } = this.props\r\n    let _style = style || {}\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.style) {\r\n      _style = Object.assign(_style, _more.style)\r\n    }\r\n    return _style\r\n  }\r\n  getArrayFieldsInMore = fieldName => {\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.arrByFieldName && _more.arrByFieldName[fieldName]) {\r\n      return _more.arrByFieldName[fieldName]\r\n    }\r\n    return []\r\n  }\r\n  getArrayTitleFieldsInMore = fieldName => {\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.arrTitleByFieldName && _more.arrTitleByFieldName[fieldName]) {\r\n      return _more.arrTitleByFieldName[fieldName]\r\n    }\r\n    return []\r\n  }\r\n  getClassName = () => {\r\n    const { className } = this.props\r\n    let _className = className || \"\"\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.className) {\r\n      _className += ` ${_more.className}`\r\n    }\r\n    return _className\r\n  }\r\n\r\n  getMorePropsFromMore = () => {\r\n    const { morePropsChart } = this.props\r\n    let _props = {}\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.props) {\r\n      _props = _more.props\r\n    }\r\n    if (morePropsChart && morePropsChart.graph_id && _more.prefixId) {\r\n      _props.graph_id = `${_more.prefixId}_${morePropsChart.graph_id}`\r\n    }\r\n    return _props\r\n  }\r\n\r\n  renderChart = () => {\r\n    const { morePropsChart } = this.props\r\n    let _chartType = \"BarChart\"\r\n    if (this._myChartType) {\r\n      _chartType = this._myChartType()\r\n    }\r\n    let _dataForChart = this.buildDataForChart()\r\n    let _chartMore = this.getChartConfigMore()\r\n    console.warn(\"_dataForChart\", _dataForChart)\r\n    // console.warn('optons for chart',this.getOptionsForChart(),_dataForChart);\r\n    if (_dataForChart && _dataForChart.length > 0) {\r\n      return (\r\n        <WrapChart className=\"mch-container\" style={_chartMore.styleContainer}>\r\n          <Chart\r\n            key={_chartType}\r\n            chartType={_chartType}\r\n            data={_dataForChart}\r\n            style={this.getStyle()}\r\n            className={this.getClassName()}\r\n            options={this.getOptionsForChart()}\r\n            graph_id={_chartType}\r\n            {...morePropsChart}\r\n            {...this.getMorePropsFromMore()}\r\n          />\r\n        </WrapChart>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className=\"mch-container\" style={_chartMore.styleContainerEmpty}>\r\n          {_chartMore.textEmpty || \"No Data for chart\"}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  _renderContain = () => {}\r\n\r\n  render() {\r\n    return <div></div>\r\n  }\r\n}\r\n\r\nexport default GoogleChart\r\n","import GGChartExt from \"./_gg_chart\"\r\n\r\nclass Z extends GGChartExt {\r\n  static propTypes = {}\r\n  static defaultProps = {}\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  _myChartType = () => {\r\n    return \"ColumnChart\"\r\n  }\r\n  _myDefaultOptionsChart = () => {\r\n    return {\r\n      title: \"\", //Title Chart\r\n      vAxis: { title: \"\" }, //Title doc -> y nghia chieu cao\r\n      hAxis: { title: \"\" }, //Title ngang -> y nghia fX\r\n    }\r\n  }\r\n  _myOptionsChart = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartConfig = chartConfig || {}\r\n    let _chartOptions = this.getChartConfigOptions()\r\n    let _chartMore = this.getChartConfigMore()\r\n    let _options = {\r\n      title: \"\", //_chartConfig.titleChart || '',\r\n      vAxis: {\r\n        title: _chartMore.titleV || \"\",\r\n        minValue: _chartMore.vMinValue != null ? _chartMore.vMinValue : 0,\r\n      },\r\n      hAxis: {\r\n        title: _chartMore.titleH || \"\",\r\n      },\r\n      legend: \"none\",\r\n    }\r\n    if (_chartOptions) {\r\n      if (typeof _chartOptions == \"object\") {\r\n        _options = Object.assign(_options, _chartOptions)\r\n      } else if (typeof _chartOptions == \"string\") {\r\n        try {\r\n          let _objOptions = JSON.parse(_chartOptions)\r\n          _options = Object.assign(_options, _objOptions)\r\n        } catch (error) {\r\n          console.warn(\"Parse Json chart Options error:\", error)\r\n        }\r\n      }\r\n    }\r\n    console.warn(`options chart:`, _options)\r\n    return _options\r\n  }\r\n  render() {\r\n    return this.renderChart()\r\n  }\r\n}\r\n\r\nexport default Z\r\n"],"sourceRoot":""}