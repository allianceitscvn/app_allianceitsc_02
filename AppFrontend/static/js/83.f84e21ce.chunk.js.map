{"version":3,"sources":["modules/adminpanel/MyFormControl/Types/checkbox.js","modules/adminpanel/MyFormControl/Types/_wrapControl.js","modules/adminpanel/hooks/fnListOfFormControl.js","modules/adminpanel/hooks/useConfigFormControl.js"],"names":["MFCText","props","cfc","useConfigFormControl","noLabel","className","type","value","valueControl","onChange","v","console","warn","setValueControl","updateValueControl","attrs","getMoreAttrs","fnList","getMore","onClick","_checked","label","Wrap","styled","div","MFCWrapControl","FlowGetCanShow","configFormControl","more","KMore","htmlWhenHide","html","_typeWrapControl","fnListMyFormControl","fnGetTypeWrapControl","_configWrapControl","FlowGetMoreOfKey","key","configWrapControl","MyLayoutHelpers","Types","children","_styleWrapControl","styleWrapControl","defaultValue","style","styleLabel","styleControl","kgetSourceData","fnListOfFormControl","fieldName","_fnList","info","optionKey","sourceList","fnListMyForm","getSourceList","indexOf","_dataForm","getCurrentValues","AHOptions","kfnGetTypeWrapControl","_typeWrapControlFromMyForm","hasOwnProperty","typeWrapControl","refConfigFormControl","React","useRef","current","FlowMergeWithCustomProps","custom","defaultValues","getDefaultValues","useState","refFnList","forceUpdate","useForceUpdate","addFnListFromControl","kresetFormControl","FlowFnListFromExtControl","keys","HUtils","runFuntion","newValue","updateValueControlWithMoreFields","moreValues","Object","map","f","i","getDisabled","disabled","_moreAttrs","autoComplete","String","placeholder","placeHolder","rows"],"mappings":"uNAIe,SAASA,EAAQC,GAC9B,IAAMC,EAAMC,YAAqB,CAAEF,UAEnC,OACE,cAAC,IAAD,yBAAaC,IAAKA,GAASD,GAA3B,IAAkCG,SAAS,EAA3C,SACE,sBAAKC,UAAU,0BAAf,UACE,cAAC,SAAD,CACEC,KAAK,WACLD,UAAU,mBACVE,MAAOL,EAAIM,aACXC,SAAU,SAAAC,GACRC,QAAQC,KAAK,YAAaF,GAC1BR,EAAIW,gBAAgBH,GACpBR,EAAIY,mBAAmBJ,IAEzBK,MAAK,eAMAb,EAAIc,gBAETC,OAAQ,CACNC,QAAS,WACP,MAAO,OAIb,uBACEb,UAAU,mBACVc,QAAS,WAEP,IAAIC,GAAYlB,EAAIM,aACpBN,EAAIW,gBAAgBO,GACpBlB,EAAIY,mBAAmBM,IAN3B,SASGlB,EAAImB,gB,oICjCTC,EAAOC,IAAOC,IAAV,2HAOK,SAASC,EAAexB,GACrC,IAAQC,EAAiBD,EAAjBC,IAAKE,EAAYH,EAAZG,QAOb,IAAiB,IALFsB,YAAe,CAC5BC,kBAAmBzB,EAAIyB,kBACvBV,OAAQf,EAAIe,OACZW,KAAM1B,EAAI0B,OAGV,OAAI1B,EAAI0B,MAAQ1B,EAAI0B,KAAKC,IAAMC,cACtB,cAAC,OAAD,CAAMxB,KAAK,OAAOyB,KAAM7B,EAAI0B,KAAKC,IAAMC,gBAEzC,KAGT,IAAIE,EAAmBC,IAAoBC,qBAAqBhC,EAAIe,QAChEkB,EACFC,YAAiB,CACfT,kBAAmBzB,EAAIyB,kBACvBU,IAAKR,IAAMS,qBACP,GAER,GAAIC,kBAAgBC,MAAMR,GACxB,OACE,cAAC,WAAD,CACE1B,KAAM0B,EACN9B,IAAKA,EACLE,QAASA,EACTqC,SAAUxC,EAAMwC,SAChBH,kBAAmBH,IAIzB,IAAIO,EACFN,YAAiB,CACfT,kBAAmBzB,EAAIyB,kBACvBU,IAAKR,IAAMc,iBACXC,cAAc,KACV,GAER,OACE,eAACtB,EAAD,CACEjB,UAAU,UACVwC,MAAK,2BAAOH,GAAsBP,EAAmBU,OAFvD,WAIe,IAAZzC,GACC,qBAAKyC,MAAOV,EAAmBW,WAA/B,SAA4C5C,EAAImB,QAElD,qBAAKwB,MAAOV,EAAmBY,aAA/B,SAA8C9C,EAAMwC,gB,2GC5DpDO,EAAiB,gBACjBC,EAAsB,YACT,IAAVhD,EAAS,EAATA,MACC0B,EAAoB1B,EAAM0B,mBAAqB,GAC7CuB,EAAoBvB,EAApBuB,UAAWtB,EAASD,EAATC,KACfuB,EAAO,eACNlD,EAAMgB,QAuCX,OAhCAkC,EAAO,cAAmB,WAExB,GADAxC,QAAQyC,KAAKJ,EAAgBE,GACzBtB,GAAQA,EAAKyB,UAAW,CAC1B,IAAMC,EAAaC,IAAaC,cAAcL,GAC9C,GAAIG,GAAcA,EAAW1B,EAAKyB,WAChC,OAAOC,EAAW1B,EAAKyB,WAEvB,GACEzB,EAAKyB,UAAUI,QAAQ,MAAQ,GAC/B7B,EAAKyB,UAAUI,QAAQ,MAAQ,EAC/B,CAGA,IAAIC,EAAYH,IAAaI,iBAAiBR,GAC9C,OAAOS,IACLN,EACA1B,EAAKyB,UACLK,IAKR,MAAO,IAETP,EAAQU,KAAyB,WAC/B,IAAIC,EACFP,IAAarB,qBAAqBjC,EAAMgB,SAAW,GAIrD,OAHIW,GAAQA,EAAKmC,eAAelC,IAAMmC,mBACpCF,EAA6BlC,EAAKC,IAAMmC,kBAEnCF,GAEFX,G,SCgEIhD,IApGf,WAA+C,IAAD,yDAAJ,GAAVF,EAAc,EAAdA,MAExBgE,EAAuBC,IAAMC,OAAOlE,EAAM0B,mBAC1CA,EAAoBsC,EAAqBG,SAAW,GAClD/C,EAAqBM,EAArBN,MAAO6B,EAAcvB,EAAduB,UACfmB,YAAyB,CAAE1C,oBAAmB2C,OAAQrE,EAAMqE,SAC5D,IAAM1C,EAAOD,EAAkBC,MAAQ,GAEjC2C,EAAgBhB,IAAaiB,iBAAiBvE,EAAMgB,SAAW,GAErE,EAAwCwD,mBACtCF,EAAcrB,IAAc,IAD9B,mBAAO1C,EAAP,KAAqBK,EAArB,KAGM6D,EAAYR,IAAMC,OAAOlB,EAAyB,CAAEhD,WACpDgB,EAASyD,EAAUN,QAEnBO,EAAcC,cAsBpB,OAhBArB,IAAasB,qBAAqB5D,EAAQ,CACxC6D,KACA,WACEnE,QAAQC,KAAK,sBACbC,EAAgB0D,EAAcrB,IAAc,KAE9CA,IAEFK,IAAasB,qBAAqB5D,EAAQ,CACxC8D,IAAyBC,KAAKL,YAC9B,WACEA,KAEFzB,IAGK,CACLtB,KAAMA,EACN+C,cACAhD,oBACAN,QACAkD,gBACArB,YACAG,UAAWzB,EAAKyB,UAChB7C,eACAS,SACAJ,kBACAC,mBAAoB,SAAAJ,GAElBG,EAAgBH,GAChBuE,SAAOC,WAAWjE,EAAQ,gBAAiB,CACzC,CACEiC,UAAWA,EACXiC,SAAUzE,MAIhB0E,iCAAkC,SAAC1E,GAAwB,IAArB2E,EAAoB,uDAAP,GACjDxE,EAAgBH,GAChBuE,SAAOC,WAAWjE,EAAQ,gBAA1B,CACE,CACEiC,UAAWA,EACXiC,SAAUzE,IAHd,mBAKK4E,OAAON,KAAKK,GAAYE,KAAI,SAACC,EAAGC,GACjC,MAAO,CACLvC,UAAWsC,EACXL,SAAUE,EAAWG,WAK7BE,YAAa,WACX,OAAyB,IAAlB9D,EAAK+D,UAEd3E,aAAc,WACZ,IAAI4E,EAAa,GAiBjB,OAfyB,MAArBhE,EAAKiE,eACPD,EAAWC,aAAeC,OAAOlE,EAAKiE,eACZ,IAAtBjE,EAAKiE,eACPD,EAAWC,aAAe,iBAG1BjE,EAAKmE,cACPH,EAAWI,YAAcpE,EAAKmE,aAE5BnE,EAAK+D,WACPC,EAAWD,SAAW/D,EAAK+D,UAEzB/D,EAAKqE,OACPL,EAAWK,KAAOrE,EAAKqE,MAElBL","file":"static/js/83.f84e21ce.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { MyBase } from \"@macashipo/mlib\"\r\nimport WrapControl from \"./_wrapControl\"\r\nimport useConfigFormControl from \"../../hooks/useConfigFormControl\"\r\nexport default function MFCText(props) {\r\n  const cfc = useConfigFormControl({ props })\r\n  // console.log(\"render MFCText:\", props, cfc.valueControl)\r\n  return (\r\n    <WrapControl cfc={cfc} {...props} noLabel={true}>\r\n      <div className=\"mfc-checkbox form-check\">\r\n        <MyBase\r\n          type=\"checkbox\"\r\n          className=\"form-check-input\"\r\n          value={cfc.valueControl}\r\n          onChange={v => {\r\n            console.warn(\"checkbox:\", v)\r\n            cfc.setValueControl(v)\r\n            cfc.updateValueControl(v)\r\n          }}\r\n          attrs={{\r\n            //ko dung onBlur voi checkbox\r\n            // onBlur: () => {\r\n            //   console.warn(\"onBlur\", cfc.valueControl)\r\n            //   cfc.updateValueControl(cfc.valueControl)\r\n            // },\r\n            ...cfc.getMoreAttrs(),\r\n          }}\r\n          fnList={{\r\n            getMore: () => {\r\n              return {}\r\n            },\r\n          }}\r\n        />\r\n        <label\r\n          className=\"form-check-label\"\r\n          onClick={() => {\r\n            // console.warn(\"current\", cfc.valueControl)\r\n            let _checked = !cfc.valueControl\r\n            cfc.setValueControl(_checked)\r\n            cfc.updateValueControl(_checked)\r\n          }}\r\n        >\r\n          {cfc.label}\r\n        </label>\r\n      </div>\r\n    </WrapControl>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { MyLayout, MyLayoutHelpers, MyUI } from \"@macashipo/mlib\"\r\nimport { fnListMyFormControl } from \"src/helpers/fnList\"\r\nimport {\r\n  FlowGetCanShow,\r\n  FlowGetMoreOfKey,\r\n  KMore,\r\n} from \"src/helpers/Flows/FormControl\"\r\nconst Wrap = styled.div`\r\n  margin-bottom: 0.5rem;\r\n  & .alert {\r\n    padding: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n`\r\nexport default function MFCWrapControl(props) {\r\n  const { cfc, noLabel } = props\r\n  //check can show\r\n  let _canShow = FlowGetCanShow({\r\n    configFormControl: cfc.configFormControl,\r\n    fnList: cfc.fnList,\r\n    more: cfc.more,\r\n  })\r\n  if (_canShow === false) {\r\n    if (cfc.more && cfc.more[KMore.htmlWhenHide]) {\r\n      return <MyUI type=\"html\" html={cfc.more[KMore.htmlWhenHide]} />\r\n    }\r\n    return null\r\n  }\r\n\r\n  let _typeWrapControl = fnListMyFormControl.fnGetTypeWrapControl(cfc.fnList)\r\n  let _configWrapControl =\r\n    FlowGetMoreOfKey({\r\n      configFormControl: cfc.configFormControl,\r\n      key: KMore.configWrapControl,\r\n    }) || {}\r\n  // console.log(\"_typeWrapControl:\", _typeWrapControl)\r\n  if (MyLayoutHelpers.Types[_typeWrapControl]) {\r\n    return (\r\n      <MyLayout\r\n        type={_typeWrapControl}\r\n        cfc={cfc}\r\n        noLabel={noLabel}\r\n        children={props.children}\r\n        configWrapControl={_configWrapControl}\r\n      />\r\n    )\r\n  }\r\n  let _styleWrapControl =\r\n    FlowGetMoreOfKey({\r\n      configFormControl: cfc.configFormControl,\r\n      key: KMore.styleWrapControl,\r\n      defaultValue: false,\r\n    }) || {}\r\n  // console.warn(\"render wrap:\", props, _styleWrapControl)\r\n  return (\r\n    <Wrap\r\n      className=\"mfcw-v1\"\r\n      style={{ ..._styleWrapControl, ..._configWrapControl.style }}\r\n    >\r\n      {noLabel !== true && (\r\n        <div style={_configWrapControl.styleLabel}>{cfc.label}</div>\r\n      )}\r\n      <div style={_configWrapControl.styleControl}>{props.children}</div>\r\n    </Wrap>\r\n  )\r\n}\r\n","import { fnListMyForm, kfnGetTypeWrapControl } from \"src/helpers/fnList\"\r\nimport { HUtils, HIs } from \"@macashipo/mlib\"\r\nimport * as AHOptions from \"src/core/helpers/options\"\r\nimport { KMore } from \"src/helpers/Flows/FormControl\"\r\nconst kgetSourceData = \"getSourceData\"\r\nconst fnListOfFormControl = {\r\n  init({ props }) {\r\n    const configFormControl = props.configFormControl || {}\r\n    const { fieldName, more } = configFormControl\r\n    let _fnList = {\r\n      ...props.fnList,\r\n    }\r\n    // const more = oneTableCell.more\r\n    // _fnList[kfnGetApiPath] = () => {\r\n    //   return HUtils.runFuntion(oneTableCell.fnList, kfnGetApiPath, [])\r\n    // }\r\n\r\n    _fnList[kgetSourceData] = () => {\r\n      console.info(kgetSourceData, fieldName)\r\n      if (more && more.optionKey) {\r\n        const sourceList = fnListMyForm.getSourceList(_fnList)\r\n        if (sourceList && sourceList[more.optionKey]) {\r\n          return sourceList[more.optionKey]\r\n        } else {\r\n          if (\r\n            more.optionKey.indexOf(\".\") > -1 &&\r\n            more.optionKey.indexOf(\"[\") > -1\r\n          ) {\r\n            //option multi\r\n            //\r\n            let _dataForm = fnListMyForm.getCurrentValues(_fnList)\r\n            return AHOptions.getOptionsByLevel(\r\n              sourceList,\r\n              more.optionKey,\r\n              _dataForm\r\n            )\r\n          }\r\n        }\r\n      }\r\n      return []\r\n    }\r\n    _fnList[kfnGetTypeWrapControl] = () => {\r\n      let _typeWrapControlFromMyForm =\r\n        fnListMyForm.fnGetTypeWrapControl(props.fnList) || \"\"\r\n      if (more && more.hasOwnProperty(KMore.typeWrapControl)) {\r\n        _typeWrapControlFromMyForm = more[KMore.typeWrapControl]\r\n      }\r\n      return _typeWrapControlFromMyForm\r\n    }\r\n    return _fnList\r\n  },\r\n  getSourceData() {},\r\n}\r\n\r\nconst helpersOfFormControl = {}\r\nexport { helpersOfFormControl, fnListOfFormControl }\r\n","/*eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { HUtils } from \"@macashipo/mlib\"\r\nimport React, { useState } from \"react\"\r\nimport { fnListOfFormControl } from \"./fnListOfFormControl\"\r\nimport { fnListMyForm, kresetFormControl } from \"src/helpers/fnList\"\r\nimport useForceUpdate from \"./useForceUpdate\"\r\nimport {\r\n  FlowFnListFromExtControl,\r\n  FlowMergeWithCustomProps,\r\n} from \"src/helpers/Flows/FormControl\"\r\n\r\n// var countForceUpdate = 0\r\n// const countForceUpdateMax = 200\r\nfunction useConfigFormControl({ props } = {}) {\r\n  // countForceUpdate++\r\n  const refConfigFormControl = React.useRef(props.configFormControl)\r\n  const configFormControl = refConfigFormControl.current || {}\r\n  const { label, fieldName } = configFormControl\r\n  FlowMergeWithCustomProps({ configFormControl, custom: props.custom })\r\n  const more = configFormControl.more || {}\r\n  // const [valueFU, setValueFU] = useState(0) // integer state\r\n  const defaultValues = fnListMyForm.getDefaultValues(props.fnList) || {}\r\n  // console.warn(\"defaultValues\", defaultValues)\r\n  const [valueControl, setValueControl] = useState(\r\n    defaultValues[fieldName] || \"\"\r\n  )\r\n  const refFnList = React.useRef(fnListOfFormControl.init({ props }))\r\n  const fnList = refFnList.current\r\n\r\n  const forceUpdate = useForceUpdate()\r\n  // const forceUpdate = () => {\r\n  //   console.warn(\"forceUpdate\")\r\n  //   if (countForceUpdate < countForceUpdateMax) setValueFU(valueFU + 1)\r\n  // }\r\n\r\n  fnListMyForm.addFnListFromControl(fnList, [\r\n    kresetFormControl,\r\n    () => {\r\n      console.warn(\"reset form control\")\r\n      setValueControl(defaultValues[fieldName] || \"\")\r\n    },\r\n    fieldName,\r\n  ])\r\n  fnListMyForm.addFnListFromControl(fnList, [\r\n    FlowFnListFromExtControl.keys.forceUpdate,\r\n    () => {\r\n      forceUpdate()\r\n    },\r\n    fieldName,\r\n  ])\r\n\r\n  return {\r\n    more: more,\r\n    forceUpdate,\r\n    configFormControl,\r\n    label,\r\n    defaultValues,\r\n    fieldName,\r\n    optionKey: more.optionKey,\r\n    valueControl,\r\n    fnList,\r\n    setValueControl,\r\n    updateValueControl: v => {\r\n      // console.warn(\"update value\", props)\r\n      setValueControl(v)\r\n      HUtils.runFuntion(fnList, \"onUpdateValue\", [\r\n        {\r\n          fieldName: fieldName,\r\n          newValue: v,\r\n        },\r\n      ])\r\n    },\r\n    updateValueControlWithMoreFields: (v, moreValues = {}) => {\r\n      setValueControl(v)\r\n      HUtils.runFuntion(fnList, \"onUpdateValue\", [\r\n        {\r\n          fieldName: fieldName,\r\n          newValue: v,\r\n        },\r\n        ...Object.keys(moreValues).map((f, i) => {\r\n          return {\r\n            fieldName: f,\r\n            newValue: moreValues[f],\r\n          }\r\n        }),\r\n      ])\r\n    },\r\n    getDisabled: () => {\r\n      return more.disabled === true\r\n    },\r\n    getMoreAttrs: () => {\r\n      let _moreAttrs = {}\r\n      // console.log(\"more:\", more)\r\n      if (more.autoComplete != null) {\r\n        _moreAttrs.autoComplete = String(more.autoComplete)\r\n        if (more.autoComplete === false) {\r\n          _moreAttrs.autoComplete = \"new-password\" //for chrome disabled autofill\r\n        }\r\n      }\r\n      if (more.placeholder) {\r\n        _moreAttrs.placeHolder = more.placeholder\r\n      }\r\n      if (more.disabled) {\r\n        _moreAttrs.disabled = more.disabled\r\n      }\r\n      if (more.rows) {\r\n        _moreAttrs.rows = more.rows\r\n      }\r\n      return _moreAttrs\r\n    },\r\n  }\r\n}\r\n\r\nexport default useConfigFormControl\r\n"],"sourceRoot":""}