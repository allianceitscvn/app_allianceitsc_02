(this["webpackJsonpapp-admin-v5"]=this["webpackJsonpapp-admin-v5"]||[]).push([[148,168],{1324:function(e,t,n){"use strict";n.r(t);var a,s=n(22),o=n(4),r=n(16),i=n(17),c=n(18),l=n(19),d=n(1),p=n(0),u=n(661),f=n(11),j=n(10),g=n(88),b=n(20),h=n(766),x=n(2),m={TODO:"#17a2b8",DONE:"#28a745",DOING:"#007bff",PENDING:"#ffc107",EMPTY:"#6faae5"},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=String(e.TaskStatusCode).toUpperCase();return m[t]?m[t]:"#6faae5"},k=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).requestUpdate=function(e,t){var n=a.props.data||{};n.Id?n[e]!=t&&Object(g.a)({request:{method:"POST",path:"UserTask",name:"UpdateFields"},data:{Id:n.Id,Values:[{FieldName:e,NewValue:t}]},successCallBack:function(e){if(e.Data)for(var t=0,s=Object.keys(e.Data);t<s.length;t++){var o=s[t];n[o]=e.Data[o]}a.forceUpdate()},errorCallBack:function(e){console.log(e)}}):(n[e]=t,a.forceUpdate())},a.requestAdd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{doTask:!1},t=e.doTask,n=a.props.data||{},s=a.props.fnList||{};a.setState({loading:!0},(function(){Object(g.a)({request:{method:"POST",path:"UserTask",name:"Add"},data:Object(o.a)({},n),successCallBack:function(e){if(e.Data)for(var o=0,r=Object.keys(e.Data);o<r.length;o++){var i=r[o];n[i]=e.Data[i]}a.forceUpdate(),t?Object(g.a)({request:{method:"POST",path:"UserTask",name:"SetStatusStartDoingTask/".concat(e.Data.Id)},data:{},successCallBack:function(e){d.HUtils.runFuntion(s,"reloadTasks",[]),d.HUtils.runFuntion(s,"hideModal",[])},errorCallBack:function(e){console.log(e),a.setState({loading:!1})}}):(d.HUtils.runFuntion(s,"reloadTasks",[]),d.HUtils.runFuntion(s,"hideModal",[]))},errorCallBack:function(e){console.log(e),a.setState({loading:!1})}})}))},a._getCanEdit=function(){if(null!=a._canEdit)return a._canEdit;var e=a.props.fnList||{},t=!1;return e&&e.getCanEdit&&(t=e.getCanEdit()),a._canEdit=t,t},a._getOptions=function(){var e=a.props.fnList||{};return d.HUtils.runFuntion(e,"getOptions")||{}},a._getProjects=function(){if(a._optionsProjects)return a._optionsProjects;a._optionsProjects=[];var e=a._getOptions();return e&&e.ProjectList&&(a._optionsProjects=e.ProjectList),a._optionsProjects},a._getStaffOfProject=function(){var e=a.props.data||{};console.warn("_getStaffOfProject",e,a._staffOfProject);var t=e.ProjectId;if(t){if(a._staffOfProject)return a._staffOfProject[t]||[];console.warn("_staffOfProject",a._staffOfProject),a._staffOfProject={};var n=a._getOptions();if(n&&n.ProjectList)for(var s=0;s<n.ProjectList.length;s++)a._staffOfProject[n.ProjectList[s].Value]=n.ProjectList[s].UserProject;return a._staffOfProject[t]||[]}return[]},a._getStatus=function(){if(a._optionsStatus)return a._optionsStatus;a._optionsStatus=[];var e=a._getOptions();return e&&e.TaskStatusCodeList&&(a._optionsStatus=e.TaskStatusCodeList),console.log("status:",e,a._optionsStatus),a._optionsStatus},a.state={loading:!1},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.data||{},n=(this.props.fnList,null!=t.ProjectId&&null!=t.TaskName);if(this._getCanEdit())return console.warn("render",t),Object(x.jsxs)(v,{className:"a-canedit",children:[Object(x.jsxs)("div",{className:"a-header",style:{background:O(t)},children:[Object(x.jsxs)("div",{className:"a-headerleft",children:[Object(x.jsx)(f.i,{overlay:function(n){return Object(x.jsx)(f.h,{type:"select_box_search_v2",sourceData:e._getProjects(),valueSelected:t.ProjectId,onChange:function(t){console.warn("onChange:",t,t.Value),e.requestUpdate("ProjectId",t.Value),e.requestUpdate("ProjectName",t.Text),n.hide&&n.hide()}})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(x.jsx)("div",{className:"a-pick-project",children:t.ProjectName||"[Project]"})}),null!=t.ProjectId&&t.ProjectId.length>0&&Object(x.jsx)(f.i,{overlay:function(n){return Object(x.jsx)(f.h,{type:"select_box_search_v2",sourceData:e._getStaffOfProject(),valueSelected:t.AssignToId,onChange:function(t){console.warn("onChange:",t,t.Value),e.requestUpdate("AssignToId",t.Value),e.requestUpdate("AssignToName",t.Text),n.hide&&n.hide()}})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(x.jsxs)("div",{className:"a-pick-assignto",children:["Assign to"," ",t.AssignToId?"".concat(t.AssignToName||t.AssignToId):"me"]})})]}),Object(x.jsx)("div",{className:"a-right-info",children:Object(x.jsx)(f.i,{overlay:function(n){return Object(x.jsx)(f.h,{type:"select_box_search_v2",sourceData:e._getStatus(),valueSelected:t.TaskStatusCode,onChange:function(t){console.warn("onChange:",t,t.Value),e.requestUpdate("TaskStatusCode",t.Value),n.hide&&n.hide()}})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(x.jsx)("div",{className:"a-pick-status",children:t.TaskStatusCode||"[Status]"})})})]}),Object(x.jsxs)("div",{className:"a-name",children:[Object(x.jsx)("textarea",{defaultValue:t.TaskName,placeholder:"Task Name",rows:4,onBlur:function(t){e.requestUpdate("TaskName",t.currentTarget.value)}}),Object(x.jsxs)("div",{className:"a-side-right",children:[Object(x.jsx)(h.UIPopoverTaskLink,{defaultValue:t.TaskLink,fnList:{onUpdateValue:function(t){e.requestUpdate("TaskLink",t)}}}),Object(x.jsx)(h.UIPopoverTaskNote,{defaultValue:t.Note,fnList:{onUpdateValue:function(t,n){e.requestUpdate("Note",t,n)}}})]})]}),Object(x.jsxs)("div",{style:{marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[Object(x.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"2px"},onClick:function(){n?e.requestAdd():(console.log("props",e.props),j.k.showToastWarning("Please chose project and enter your task name to create new task"))},children:"Add new"}),Object(x.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"2px"},onClick:function(){n?e.requestAdd({doTask:!0}):j.k.showToastWarning("Please chose project and enter your task name to create new task")},children:"Add and Do Task"})]}),!0===this.state.loading&&Object(x.jsx)("div",{className:"a-loading",children:Object(x.jsx)(u.a,{})})]})}}]),n}(p.Component),v=b.b.div(a||(a=Object(s.a)(["\n  position: relative;\n  background: white;\n  padding: 10px;\n  box-shadow: 0 0 0 1px rgba(53, 72, 91, 0.07), 0 2px 2px rgba(0, 0, 0, 0.01),\n    0 4px 4px rgba(0, 0, 0, 0.02), 0 10px 8px rgba(0, 0, 0, 0.03),\n    0 15px 15px rgba(0, 0, 0, 0.03), 0 30px 30px rgba(0, 0, 0, 0.04),\n    0 70px 65px rgba(0, 0, 0, 0.05);\n  & > .a-loading {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: #e9e9e97d;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  &.a-canedit {\n    & .a-pick-assignto {\n      cursor: pointer;\n      padding: 0px 5px;\n      &:hover {\n        background: #ededed6e;\n        border-radius: 2px;\n      }\n    }\n    & .a-pick-project {\n      cursor: pointer;\n      padding: 0px 5px;\n      &:hover {\n        background: #ededed6e;\n        border-radius: 2px;\n      }\n    }\n    & .a-pick-status {\n      cursor: pointer;\n      padding: 0px 5px;\n      &:hover {\n        background: #ededed6e;\n      }\n    }\n    & .progress {\n      cursor: pointer;\n    }\n  }\n  & .a-name {\n    position: relative;\n    & textarea {\n      border: 0px;\n      width: 100%;\n      outline: none;\n    }\n    & .a-side-right {\n      position: absolute;\n      top: 0px;\n      right: 0px;\n      background: whitesmoke;\n      width: 20px;\n      // height: 100px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      box-shadow: 0px 4px 8px -2px rgba(9, 30, 66, 0.25),\n        0px 0px 0px 1px rgba(9, 30, 66, 0.08);\n    }\n  }\n  & .a-header {\n    display: flex;\n    background: green;\n    margin: -10px;\n    margin-bottom: 5px;\n    color: white;\n    padding: 2px;\n    padding-left: 5px;\n    padding-right: 5px;\n    font-size: 13px;\n    align-items: center;\n    justify-content: space-between;\n    & .a-headerleft {\n      display: flex;\n      align-items: center;\n    }\n    & .a-right-info {\n      display: flex;\n      align-items: center;\n      & > div {\n        margin-left: 5px;\n      }\n    }\n  }\n"])));t.default=k},661:function(e,t,n){"use strict";var a=n(8),s=n(15),o=n(0),r=n.n(o),i=n(5),c=n.n(i),l=n(23),d=n.n(l),p=n(7),u=["className","cssModule","type","size","color","children","tag"],f={tag:p.q,type:c.a.string,size:c.a.string,color:c.a.string,className:c.a.string,cssModule:c.a.object,children:c.a.string},j=function(e){var t=e.className,n=e.cssModule,o=e.type,i=e.size,c=e.color,l=e.children,f=e.tag,j=Object(s.a)(e,u),g=Object(p.m)(d()(t,!!i&&"spinner-"+o+"-"+i,"spinner-"+o,!!c&&"text-"+c),n);return r.a.createElement(f,Object(a.a)({role:"status"},j,{className:g}),l&&r.a.createElement("span",{className:Object(p.m)("sr-only",n)},l))};j.propTypes=f,j.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=j},766:function(e,t,n){"use strict";n.r(t),n.d(t,"UIPopoverTaskLink",(function(){return P})),n.d(t,"UIPopoverTaskNote",(function(){return C}));var a,s,o,r,i=n(22),c=n(16),l=n(17),d=n(18),p=n(19),u=n(13),f=n(1),j=n(57),g=n.n(j),b=n(0),h=n.n(b),x=n(661),m=n(11),O=n(88),k=n(20),v=n(2),N={TODO:"#17a2b8",DONE:"#28a745",DOING:"#007bff",PENDING:"#ffc107",EMPTY:"#6faae5"},T="Done",y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=String(e.TaskStatusCode).toUpperCase();return N[t]?N[t]:"#6faae5"},_=function(e){var t=h.a.useState(e.defaultValue||0),n=Object(u.a)(t,2),a=n[0],s=n[1];return console.warn("render slider:",e),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(v.jsxs)("div",{style:{marginRight:"10px"},children:["Complete: ",a,"%"]}),Object(v.jsxs)("div",{style:{position:"relative",height:"24px",flex:1},children:[Object(v.jsx)("div",{className:"progress",style:{userSelect:"none",height:"8px",position:"absolute",left:0,top:8,right:0,bottom:0},children:Object(v.jsx)("div",{className:"progress-bar bg-success progress-bar-striped",role:"progressbar",style:{width:"".concat(a,"%")}})}),Object(v.jsx)("input",{style:{position:"absolute",height:"24px"},type:"range",className:"form-range",defaultValue:e.defaultValue||0,min:"0",max:"100",onChange:function(e){console.log("change:",e.currentTarget.value),s(e.currentTarget.value)},onMouseUp:function(){console.log("mouse up",a),f.HUtils.runFuntion(e.fnList,"onUpdateValue",[a])}})]})]})},P=function(e){var t=e.defaultValue||"",n=h.a.useState(t),a=Object(u.a)(n,2),s=a[0],o=a[1];return e.onlyLink?Object(v.jsx)(D,{onClick:function(e){e.stopPropagation()},title:"Open link: ".concat(t),children:Object(v.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(v.jsx)("i",{style:{color:"#007bff"},className:"fa fa-external-link"})})}):Object(v.jsx)(D,{children:Object(v.jsx)(m.i,{overlay:function(n){return Object(v.jsxs)(U,{children:[Object(v.jsxs)("div",{className:"a-top",children:[Object(v.jsx)("div",{className:"a-left",children:"Task Link"}),Object(v.jsx)("div",{className:"a-right",children:null!=t&&t.startsWith("http")&&Object(v.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(v.jsx)("i",{style:{color:"#007bff"},className:"fa fa-external-link"})})})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Task Link",defaultValue:s,onChange:function(e){o(e.currentTarget.value)}}),s!=t&&Object(v.jsxs)("button",{className:"btn btn-success",onClick:function(){f.HUtils.runFuntion(e.fnList,"onUpdateValue",[s])},children:[Object(v.jsx)("i",{className:"fa fa-check"})," Save"]})]})]})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(v.jsx)("div",{children:Object(v.jsx)("i",{className:"fa fa-link",style:null!=t&&t.startsWith("http")?{color:"#007bff",opacity:1}:{opacity:.5}})})})})},C=function(e){var t=e.defaultValue||"",n=e.disabled,a=h.a.useState(t),s=Object(u.a)(a,2),o=s[0],r=s[1];return Object(v.jsx)(D,{onClick:function(e){e.stopPropagation()},title:"Task Note",children:Object(v.jsx)(m.i,{overlay:function(a){return Object(v.jsxs)(L,{children:[Object(v.jsxs)("div",{className:"a-top",children:[Object(v.jsx)("div",{className:"a-left",children:"Task Note"}),Object(v.jsx)("div",{className:"a-right"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("textarea",{className:"form-control",placeholder:"Task Note",disabled:n,rows:5,defaultValue:o,onChange:function(e){r(e.currentTarget.value)}}),o!=t&&Object(v.jsxs)("button",{className:"btn btn-success",onClick:function(){f.HUtils.runFuntion(e.fnList,"onUpdateValue",[o,function(){a.hide&&a.hide()}])},children:[Object(v.jsx)("i",{className:"fa fa-check"})," Save"]})]})]})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(v.jsx)("div",{children:Object(v.jsx)("i",{className:"fa fa-file-text-o",style:null!=t&&t.length>0?{color:"#007bff",opacity:1}:{opacity:.5}})})})})},S=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).requestDelete=function(){var e=a.props.data||{},t=a.props.fnList||{};a.setState({loading:!0},(function(){Object(O.a)({request:{method:"POST",path:"UserTask",name:"Delete/".concat(e.Id)},data:{},successCallBack:function(e){f.HUtils.runFuntion(t,"reloadTasks",[]),f.HUtils.runFuntion(t,"hideModal",[])},errorCallBack:function(e){console.log(e),a.setState({loading:!1})}})}))},a.requestDoneTask=function(e){var t=a.props.data||{},n=a.props.fnList||{};a.setState({loadingDoneTask:!0},(function(){Object(O.a)({request:{method:"POST",path:"UserTask",name:"SetStatusDoneTask/".concat(e.Id)},data:{},successCallBack:function(e){if(e.Data)for(var s=0,o=Object.keys(e.Data);s<o.length;s++){var r=o[s];t[r]=e.Data[r]}a.forceUpdate(),f.HUtils.runFuntion(n,"afterUpdateData",[t]),a.setState({loadingDoneTask:!1})},errorCallBack:function(e){console.log(e),a.setState({loadingDoneTask:!1})}})}))},a.requestDoTask=function(e){var t=a.props.data||{},n=a.props.fnList||{};a.setState({loadingDoTask:!0},(function(){Object(O.a)({request:{method:"POST",path:"UserTask",name:"SetStatusStartDoingTask/".concat(e.Id)},data:{},successCallBack:function(e){if(e.Data)for(var s=0,o=Object.keys(e.Data);s<o.length;s++){var r=o[s];t[r]=e.Data[r]}a.forceUpdate(),f.HUtils.runFuntion(n,"afterUpdateData",[t]),a.setState({loadingDoTask:!1})},errorCallBack:function(e){console.log(e),a.setState({loadingDoTask:!1})}})}))},a.requestUpdate=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=s.multi,r=a.props.data||{},i=a.props.fnList||{};r[e]!=t&&a.setState({loading:!0},(function(){var s=[{FieldName:e,NewValue:t}];o&&(s=o.map((function(e,t){return{FieldName:e.FieldName,NewValue:e.NewValue}}))),Object(O.a)({request:{method:"POST",path:"UserTask",name:"UpdateFields"},data:{Id:r.Id,Values:s},successCallBack:function(e){if(n&&n(e),e.Data)for(var t=0,s=Object.keys(e.Data);t<s.length;t++){var o=s[t];r[o]=e.Data[o]}a.setState({loading:!1}),f.HUtils.runFuntion(i,"afterUpdateData",[r])},errorCallBack:function(e){console.log(e),a.setState({loading:!1})}})}))},a._getCanEdit=function(){if(null!=a._canEdit)return a._canEdit;var e=a.props.fnList||{},t=!1;return e&&e.getCanEdit&&(t=e.getCanEdit()),a._canEdit=t,t},a._getOptions=function(){var e=a.props.fnList||{};return f.HUtils.runFuntion(e,"getOptions")||{}},a._getProjects=function(){if(a._optionsProjects)return a._optionsProjects;a._optionsProjects=[];var e=a._getOptions();return e&&e.ProjectList&&(a._optionsProjects=e.ProjectList),a._optionsProjects},a._getStaffOfProject=function(){var e=a.props.data||{};console.warn("_getStaffOfProject",e,a._staffOfProject);var t=e.ProjectId;if(t){if(a._staffOfProject)return a._staffOfProject[t]||[];console.warn("_staffOfProject",a._staffOfProject),a._staffOfProject={};var n=a._getOptions();if(n&&n.ProjectList)for(var s=0;s<n.ProjectList.length;s++)a._staffOfProject[n.ProjectList[s].Value]=n.ProjectList[s].UserProject;return a._staffOfProject[t]||[]}return[]},a._getStatus=function(){if(a._optionsStatus)return a._optionsStatus;a._optionsStatus=[];var e=a._getOptions();return e&&e.TaskStatusCodeList&&(a._optionsStatus=e.TaskStatusCodeList),console.log("status:",e,a._optionsStatus),a._optionsStatus},a.state={showMoreDetail:!1,loadingDoTask:!1,loadingDoneTask:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.data||{},n=this.props.mode||"",a=this.props.fnList||{};return this._getCanEdit()?Object(v.jsxs)(w,{className:"a-canedit",children:[Object(v.jsxs)("div",{className:"a-header",style:{background:y(t)},children:[Object(v.jsxs)("div",{className:"a-headerleft",children:[Object(v.jsx)(m.i,{overlay:function(t){return Object(v.jsx)(m.h,{type:"select_box_search_v2",sourceData:e._getProjects(),valueSelected:"",onChange:function(n){console.warn("onChange:",n,n.Value),e.requestUpdate("ProjectId",n.Value),t.hide&&t.hide()}})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(v.jsx)("div",{className:"a-pick-project",children:t.ProjectName||"[No Project]"})}),null!=t.ProjectId&&t.ProjectId.length>0&&Object(v.jsx)(m.i,{overlay:function(n){return Object(v.jsx)(m.h,{type:"select_box_search_v2",sourceData:e._getStaffOfProject(),valueSelected:t.AssignToId,onChange:function(t){console.warn("onChange:",t,t.Value),e.requestUpdate("AssignToId",t.Value),n.hide&&n.hide()}})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(v.jsxs)("div",{className:"a-pick-assignto",children:["Assign to"," ",t.AssignToId?"".concat(t.IM_AssignToName||t.AssignToId):"me"]})})]}),Object(v.jsx)("div",{className:"a-right-info",children:Object(v.jsx)(m.i,{overlay:function(t){return Object(v.jsx)(m.h,{type:"select_box_search_v2",sourceData:e._getStatus(),valueSelected:"",onChange:function(n){console.warn("onChange:",n,n.Value),e.requestUpdate("TaskStatusCode",n.Value),t.hide&&t.hide()}})},overlayClassName:"m-popover",placement:"bottom",destroyTooltipOnHide:!0,children:Object(v.jsx)("div",{className:"a-pick-status",children:t.TaskStatusCode||"[Status]"})})})]}),Object(v.jsx)("div",{children:t.AssignById!=t.AssignToId&&Object(v.jsxs)("div",{className:"a-assign",children:["Assign from ",Object(v.jsx)("span",{children:t.IM_AssignByName})," to"," ",Object(v.jsx)("span",{children:t.IM_AssignToName})]})}),Object(v.jsxs)("div",{className:"a-name",children:[Object(v.jsx)("textarea",{defaultValue:t.TaskName,placeholder:"Task Name",spellCheck:"false",rows:"detail"==n?4:2,onBlur:function(t){e.requestUpdate("TaskName",t.currentTarget.value)}}),Object(v.jsxs)("div",{className:"a-side-right",children:[Object(v.jsx)(P,{defaultValue:t.TaskLink,fnList:{onUpdateValue:function(t){e.requestUpdate("TaskLink",t)}}}),Object(v.jsx)(C,{defaultValue:t.Note,fnList:{onUpdateValue:function(t,n){e.requestUpdate("Note",t,n)}}})]})]}),Object(v.jsx)(_,{defaultValue:t.PercentCompleted,fnList:{onUpdateValue:function(t){e.requestUpdate("PercentCompleted",t)}}},"slider_".concat(t.PercentCompleted)),"detail"==n&&Object(v.jsxs)("div",{style:{marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[t.TaskStatusCode!=T&&Object(v.jsx)("button",{className:"btn btn-success",style:{marginLeft:"2px"},disabled:this.state.loadingDoneTask,onClick:function(){m.f.showConfirm({title:"Done task",msg:"Are you sure you want to set done this task?",onClickOK:function(n){console.log("onOK"),e.requestDoneTask(t),n&&n.hide&&n.hide()}})},children:"Done Task"}),t.TaskStatusCode!=T&&Object(v.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"2px"},disabled:this.state.loadingDoTask,onClick:function(){e.requestDoTask(t)},children:"Do Task"}),Object(v.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"2px"},onClick:function(){m.f.showConfirm({title:"Delete task",msg:"Are you sure you want to delete this task?",onClickOK:function(t){console.log("onOK"),e.requestDelete(t),t&&t.hide&&t.hide()}})},children:"Delete"})]}),!0===this.state.loading&&Object(v.jsx)("div",{className:"a-loading",children:Object(v.jsx)(x.a,{})})]}):Object(v.jsxs)(w,{onClick:function(){console.log("mode:",n,e.props),f.HUtils.runFuntion(a,"onClickItem",[t])},children:[Object(v.jsxs)("div",{className:"a-header",style:{background:y(t)},children:[Object(v.jsx)("div",{className:"a-project",children:t.ProjectName||"[No Project]"}),Object(v.jsx)("div",{className:"a-right-info",children:Object(v.jsx)("div",{className:"a-status",children:t.TaskStatusCode||"[Status]"})})]}),Object(v.jsxs)("div",{className:"a-more-top",children:[t.AssignById!=t.AssignToId?Object(v.jsxs)("div",{className:"a-assign",title:"Assign from ".concat(t.IM_AssignByName," to ").concat(t.IM_AssignToName),children:["Assign to ",Object(v.jsx)("span",{children:t.IM_AssignToName})]}):!0===this.props.showAssignTo?Object(v.jsxs)("div",{className:"a-assign",children:["Assign to ",Object(v.jsx)("span",{children:t.IM_AssignToName})]}):Object(v.jsx)("div",{}),Object(v.jsxs)("div",{className:"a-more-top-right",children:[t.TaskLink&&Object(v.jsx)(P,{defaultValue:t.TaskLink,onlyLink:!0,fnList:{onUpdateValue:function(t){e.requestUpdate("TaskLink",t)}}}),t.Note&&Object(v.jsx)(C,{defaultValue:t.Note,disabled:!0,fnList:{onUpdateValue:function(t,n){e.requestUpdate("Note",t,n)}}})]})]}),Object(v.jsx)("div",{className:g()("a-name",n,{"text-ellipsis-l2":"list"==n}),children:t.TaskName||Object(v.jsx)("span",{style:{color:"grey"},children:"[No Name]"})}),Object(v.jsx)("div",{className:"progress",style:{height:"8px",marginTop:"5px"},children:Object(v.jsx)("div",{className:"progress-bar bg-success progress-bar-striped",role:"progressbar",style:{width:"".concat(t.PercentCompleted||0,"%")}})}),Object(v.jsxs)("div",{className:"a-bottom",title:"Created at ".concat(f.HFormat.format(t.IM_CreatedDate,{type:"date",format:"DD/MM/YYYY HH:mm"})),children:["Created"," ",Object(v.jsx)("strong",{children:"".concat(f.HFormat.format(t.IM_CreatedDate,{type:"fromnow",format:"DD/MM/YYYY HH:mm"}))})]})]})}}]),n}(b.Component),w=k.b.div(a||(a=Object(i.a)(["\n  position: relative;\n  background: white;\n  padding: 10px;\n  word-break: break-word;\n  box-shadow: 0 0 0 1px rgba(53, 72, 91, 0.07), 0 2px 2px rgba(0, 0, 0, 0.01),\n    0 4px 4px rgba(0, 0, 0, 0.02), 0 10px 8px rgba(0, 0, 0, 0.03),\n    0 15px 15px rgba(0, 0, 0, 0.03), 0 30px 30px rgba(0, 0, 0, 0.04),\n    0 70px 65px rgba(0, 0, 0, 0.05);\n  & > .a-loading {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: #e9e9e97d;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  &.a-canedit {\n    & .a-pick-assignto {\n      cursor: pointer;\n      padding: 0px 5px;\n      &:hover {\n        background: #ededed6e;\n        border-radius: 2px;\n      }\n    }\n    & .a-pick-project {\n      cursor: pointer;\n      padding: 0px 5px;\n      &:hover {\n        background: #ededed6e;\n        border-radius: 2px;\n      }\n    }\n    & .a-pick-status {\n      cursor: pointer;\n      padding: 0px 5px;\n      font-weight: bold;\n      &:hover {\n        background: #ededed6e;\n      }\n    }\n    & .progress {\n      cursor: pointer;\n    }\n  }\n  & .a-name {\n    position: relative;\n    & textarea {\n      border: 0px;\n      width: 100%;\n      outline: none;\n      padding: 0px;\n      padding-right: 20px;\n    }\n    & .a-side-right {\n      position: absolute;\n      top: 0px;\n      right: 0px;\n      background: whitesmoke;\n      width: 20px;\n      // height: 100px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      box-shadow: 0px 4px 8px -2px rgba(9, 30, 66, 0.25),\n        0px 0px 0px 1px rgba(9, 30, 66, 0.08);\n    }\n  }\n  & .a-header {\n    display: flex;\n    background: green;\n    margin: -10px;\n    margin-bottom: 5px;\n    color: white;\n    padding: 2px;\n    padding-left: 5px;\n    padding-right: 5px;\n    font-size: 13px;\n    align-items: center;\n    justify-content: space-between;\n    & .a-project {\n      padding: 0px 5px;\n    }\n    & .a-status {\n      font-weight: bold;\n      padding: 0px 5px;\n    }\n    & .a-headerleft {\n      display: flex;\n      align-items: center;\n    }\n    & .a-right-info {\n      display: flex;\n      align-items: center;\n      & > div {\n        margin-left: 5px;\n      }\n    }\n  }\n  & .a-moredetail {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    & > div {\n      padding: 5px;\n      background: #ededed;\n      border-radius: 4px;\n      margin: 5px;\n      cursor: pointer;\n    }\n  }\n  & .form-range {\n    width: 100%;\n    height: 1.5rem;\n    padding: 0;\n    background-color: transparent;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    accent-color: red;\n    &::-webkit-slider-thumb {\n      background-color: #73a839;\n      box-shadow: 0 0 0 1px #fff, 0 0 0 0.25rem rgba(40, 167, 69, 0.25);\n    }\n    &::-webkit-slider-thumb:active {\n      background-color: green;\n    }\n    &::-webkit-slider-runnable-track {\n      width: 100%;\n      background-color: transparent;\n    }\n    // &::-webkit-progress-value {\n    //   background-color: red;\n    // }\n  }\n  & .a-assign {\n    font-size: 10px;\n    color: #b1b1b1;\n    & > span {\n      font-weight: bold;\n    }\n  }\n  & .a-more-top {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    & .a-more-top-right {\n      display: flex;\n      align-items: center;\n      & > div {\n        margin-left: 5px;\n      }\n    }\n  }\n  & .a-bottom {\n    font-size: 10px;\n    color: #b1b1b1;\n    margin-top: 5px;\n    margin-bottom: -5px;\n  }\n"]))),D=k.b.div(s||(s=Object(i.a)(["\n  // display: inline-block;\n  // position: absolute;\n  // right: 10px;\n  // top: 24px;\n  cursor: pointer;\n"]))),U=k.b.div(o||(o=Object(i.a)(["\n  & .a-top {\n    display: flex;\n    & > .a-left {\n      font-weight: bold;\n    }\n    & > .a-right {\n      margin-left: auto;\n    }\n  }\n  & button {\n    margin-top: 5px;\n    padding: 2px;\n  }\n"]))),L=k.b.div(r||(r=Object(i.a)(["\n  width: 300px;\n  max-width: 90vw;\n  & .a-top {\n    display: flex;\n    & > .a-left {\n      font-weight: bold;\n    }\n    & > .a-right {\n      margin-left: auto;\n    }\n  }\n  & button {\n    margin-top: 5px;\n    padding: 2px;\n  }\n"])));t.default=S}}]);
//# sourceMappingURL=148.e3d08536.chunk.js.map