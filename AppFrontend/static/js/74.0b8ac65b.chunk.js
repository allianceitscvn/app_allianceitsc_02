(this["webpackJsonpapp-admin-v5"]=this["webpackJsonpapp-admin-v5"]||[]).push([[74],{1306:function(t,e,r){"use strict";r.r(e);var a=r(16),o=r(17),n=r(18),s=r(19),i=function(t){Object(n.a)(r,t);var e=Object(s.a)(r);function r(t){var o;return Object(a.a)(this,r),(o=e.call(this,t))._myChartType=function(){return"BarChart"},o.state={},o}return Object(o.a)(r,[{key:"render",value:function(){return this.renderChart()}}]),r}(r(531).a);i.propTypes={},i.defaultProps={},e.default=i},525:function(t,e,r){"use strict";var a,o=r(4),n=r(61),s=r(31),i=r(16),l=r(17),h=r(18),f=r(19),p=r(22),u=r(0),c=r.n(u),g=r(557),v=r(160),y=function(t,e){var r=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).configChart;if(t&&t._More)return t._More;if(t&&t.more){if("object"==typeof t.more)return t.more;if("string"==typeof t.more)try{return t._More=JSON.parse(t.more),t._More}catch(e){console.warn("Error parse chart config json",e)}}return{}}({configChart:e.configChart});return Object(v.getDataBySort)(t,r.sortByField,r.sortType,r.sortDataType)},d=r(20),C=r(2),m=d.b.div(a||(a=Object(p.a)(["\n  & > div {\n    overflow: auto;\n  }\n"]))),b="isEmptyIsRoot",O="fixDataAfterHeader",T=function(t){Object(h.a)(r,t);var e=Object(f.a)(r);function r(t){var a;return Object(i.a)(this,r),(a=e.call(this,t)).getChartConfigOptions=function(){var t,e=a.props,r=e.chartConfig,o=e.fnList,n=a.getChartConfigMore();if(n.extraDataField&&o.fnGetExtraDataTable){var s=o.fnGetExtraDataTable();s&&s.ChartOptions&&s.ChartOptions[n.extraDataField]&&(t=s.ChartOptions[n.extraDataField])}var i=r||{};if(i.options&&null==t&&(t=i.options),"object"==typeof t)return t;if("string"==typeof t)try{return i._Options=JSON.parse(t),i._Options}catch(l){console.warn("Error parse chart config json",l)}return{}},a.getSeperator=function(){var t=a.getChartConfigMore();return t.sepereator?t.sepereator:";"},a.getChartConfigMore=function(){var t=a.props,e=t.chartConfig,r=(t.fnList,e||{});if(r.more){if("object"==typeof r.more)return r.more;if("string"==typeof r.more)try{return r._More=JSON.parse(r.more),r._More}catch(o){console.warn("Error parse chart config json",o)}}return{}},a.getDefaultOptionsChart=function(){return{title:"Title Chart"}},a.getDataForChart=function(){var t=a.props,e=t.chartConfig,r=t.fnList,o=a.getChartConfigMore(),n=[];if(r)if(o.extraDataField){if(r.fnGetExtraDataTable){var s=r.fnGetExtraDataTable();if(s&&s.ChartData&&s.ChartData[o.extraDataField])return s.ChartData[o.extraDataField]}}else!1===o.hasFilter?r.fnGetDataTable&&(n=r.fnGetDataTable()):r.fnGetDataTableFilterd&&(n=r.fnGetDataTableFilterd());return n=y(n,{configChart:e})},a.getOptionsForChart=function(){var t=a.getDefaultOptionsChart(),e=a.getChartConfigMore();if(a._myDefaultOptionsChart&&(t=Object.assign(t,a._myDefaultOptionsChart()||{})),a._myOptionsChart&&(t=Object.assign(t,a._myOptionsChart()||{})),null!=t.hAxisTicksDate&&t.hAxisTicksDate.length>0){for(var r=[],o=t.hAxisTicksDate,n=0;n<o.length;n++){var s=o[n];"number"==typeof s?r.push(new Date(o[n])):"object"==typeof s&&s.v&&s.f&&r.push({v:new Date(s.v),f:s.f})}t.hAxis?t.hAxis.ticks=r:t.hAxis={format:"d-MMMyy",ticks:r}}return e&&e.colorsFollowTitle&&null==t.colors&&a._colorsFollowTitle&&a._colorsFollowTitle.length>0&&(t.colors=a._colorsFollowTitle),t},a.countfY=function(t){var e=t.dataTable,r=t.valueX,a=t.fX,o=t.fY,n=0;if(e)for(var s=[],i=0;i<e.length;i++){var l=e[i];l[a]==r&&null!=l[o]&&-1==s.indexOf(l[o])&&(n++,s.push(l[o]))}return n},a.sumfY=function(t){var e=t.dataTable,r=t.valueX,a=t.fX,o=t.fY,n=0;if(e)for(var s=0;s<e.length;s++){var i=e[s];i[a]==r&&null!=i[o]&&"number"==typeof i[o]&&(n+=i[o])}return n},a.buidRowDataForChart=function(t){var e=t.arrfX,r=t.dataTable,o=t.row,n=t.fX,i=t.fY,l=t.more,h=a.getSeperator(),f=(o[n]||"").toString();if(1==l.distinctX&&e.indexOf(f)>-1)return null;var p=[],u=n;if(n.startsWith("[org]"))try{if(null!=o[u=n.replace("[org]","")]){var c={};"object"==typeof o[u]?c=o[u]:"string"==typeof o[u]&&(c=JSON.parse(o[u])),c.v&&c.f&&p.push(c)}else{var g=JSON.parse(u);if(g.v&&g.f){var v=null!=g&&null!=g.v&&null!=o[g.v]?o[g.v]:"",y=null!=g&&null!=g.f&&null!=o[g.f]?o[g.f]:"";p.push({v:v,f:y})}}}catch(z){console.warn("Parser json more in Type error:",z),p.push("")}else if(n.startsWith("[date]")){var d=n.replace("[date]",""),C=null;d&&(C=o[d]),C=null==C?new Date:new Date(C),p.push(C)}else p.push(f);e.push(f);var m,O=i.split(h),T=Object(s.a)(O);try{for(T.s();!(m=T.n()).done;){var j=m.value;if(j.startsWith("[count]")){var D=a.countfY({dataTable:r,valueX:f,fX:n,fY:j.replace("[count]","")});p.push(D)}else if(j.startsWith("[sum]")){var F=a.sumfY({dataTable:r,valueX:f,fX:n,fY:j.replace("[sum]","")});p.push(F)}else if(j.startsWith("[num]")){var _=parseInt(j.replace("[num]",""));p.push(_)}else if(j.startsWith("[color]")){var W=j.replace("[color]","");W&&null!=o[W]&&(W=o[W]),p.push(W),a._colorsFollowTitle.length<O.length&&a._colorsFollowTitle.push(W)}else if(j.startsWith("[style]")){var w=j.replace("[style]","");w&&null!=o[w]&&(w=o[w]),p.push(w)}else if(j.startsWith("[annotation]")){var x=j.replace("[annotation]","");x=x&&null!=o[x]?o[x]:null,p.push(x)}else if(j.startsWith("[annotationText]")){var M=j.replace("[annotationText]","");M=M&&null!=o[M]?o[M]:null,p.push(M)}else if(j.startsWith("[date]")){var N=j.replace("[date]","");N&&(N=o[N]),N=null==N?new Date:new Date(N),p.push(N)}else if(j.startsWith("[tooltip]")){var A=j.replace("[tooltip]","");A&&null!=o[A]&&(A=o[A]),p.push(A)}else if(j.startsWith("[string]")){var S=j.replace("[string]","");S&&null!=o[S]&&(S=o[S]),p.push(S)}else if(j.startsWith("[org]")){var X=j.replace("[org]","");X&&null!=o[X]&&(X=o[X]),null!==X&&""!==X||!l[b]||(X="_root_"),p.push(X)}else if(j.startsWith("[tooltip_html]")){var Y=j.replace("[tooltip_html]","");Y&&null!=o[Y]&&(Y=o[Y]),p.push(Y)}else if(j.startsWith("[arr]")){var P=j.replace("[arr]",""),J=[];P&&o[P]&&(Array.isArray(o[P])?J=o[P]:"string"==typeof o[P]&&(J=o[P].split(h)));for(var k=0;k<J.length;k++){var B=J[k];if(null==B||Array.isArray(B)||"object"!=typeof B||(B=a.getArrayFieldsInMore(P)),B.startsWith("[style]"))p.push(B.replace("[style]",""));else if(B.startsWith("[color]")){var E=B.replace("[color]",""),G="";G=o&&o.hasOwnProperty(E)?o[E]:E,p.push(G),a._colorsFollowTitle.length<O.length+J.length-1&&a._colorsFollowTitle.push(G)}else if(B.startsWith("[annotation]")){var I=B.replace("[annotation]","");o&&o.hasOwnProperty(I)?p.push(o[I]):p.push(I)}else if(B.startsWith("[field]")){var L=B.replace("[field]","");o&&o.hasOwnProperty(L)?p.push(o[L]):p.push(L)}else isNaN(Number(B))?p.push(B):p.push(Number(B))}}else if(j.startsWith("{")&&j.endsWith("}"))try{var H=JSON.parse(j);H.fieldName?p.push(o[H.fieldName]):H.value&&p.push(H.value)}catch(z){console.error("parse json header chart error:",j)}else if("number"==typeof o[j])p.push(o[j]);else if("string"==typeof o[j]){var V=Number(o[j]);isNaN(V)?p.push(0):p.push(V)}else p.push(0)}}catch(q){T.e(q)}finally{T.f()}if(1==l.hasStyle){var R="";l.fStyle&&o[l.fStyle]?R=o[l.fStyle]:o.UI_GoogleChartStyle&&(R=o.UI_GoogleChartStyle),l.fColor&&o[l.fColor]&&(0==R.length?R="".concat(o[l.fColor]):R+=";color: ".concat(o[l.fColor])),p.push(R)}if(1==l.hasAnnotation){var U="";l.fAnnotation&&o[l.fAnnotation]&&(U=o[l.fAnnotation]),p.push(U)}return p},a.buidHeaderDataForChart=function(t){var e=t.dataTable,r=t.titleX,o=t.titleY,s=t.fX,i=t.fY,l=t.more,h=a.props,f=(h.chartConfig,h.fnList,a.getSeperator()),p=o.split(f),u=i.split(f),c=[];if(u.length==p.length)for(var g=0;g<u.length;g++){var v=u[g];if(v.startsWith("[color]")||v.startsWith("[style]"))c.push({role:"style"});else if(v.startsWith("[annotation]"))c.push({role:"annotation"});else if(v.startsWith("[annotationText]"))c.push({role:"annotationText"});else if(v.startsWith("[date]"))c.push({type:"date"});else if(v.startsWith("[tooltip]"))c.push({type:"string",role:"tooltip"});else if(v.startsWith("[tooltip_html]"))c.push({type:"string",role:"tooltip",p:{html:!0}});else if(v.startsWith("[arr]")&&p[g].startsWith("[arr]")){var y=[],d=p[g].replace("[arr]","");if(e&&e.length>0){var C=e[0],m=[];C[d]&&(Array.isArray(C[d])?m=C[d]:"string"==typeof C[d]&&(m=C[d].split(f)));for(var b=0;b<m.length;b++){var O=m[b];if(null==O||Array.isArray(O)||"object"!=typeof O||(O=a.getArrayTitleFieldsInMore(d)),O.startsWith("[color]")||O.startsWith("[style]")||O.startsWith("[c]"))y.push({role:"style"});else if(O.startsWith("[annotation]"))y.push({role:"annotation"});else if(O.startsWith("[field]")){var T=O.replace("[field]","");C&&C[T]?y.push(C[T]):y.push("")}else y.push(O)}}c=c.concat(y)}else if(v.startsWith("{")&&v.endsWith("}"))try{var j=JSON.parse(v);j.header&&c.push(j.header)}catch(M){console.error("parse json header chart error:",v)}else{var D=p[g];if(D.startsWith("[field]")){var F=D.replace("[field]",""),_="";if(e&&e.length>0){var W=e[0];W[F]&&(_=W[F])}c.push(_)}else c.push(D)}}else console.warn("Array fY and titleY not same size!!!",u.length,p.length);var w=r;s.startsWith("[date]")&&(w={type:"date"});var x=[w].concat(Object(n.a)(c));return 1==l.hasStyle&&x.push({role:"style"}),1==l.hasAnnotation&&x.push({role:"annotation"}),x},a.buildDataForChart=function(){var t=a.props,e=t.chartConfig,r=(t.fnList,e||{}),o=r.fX,s=r.fY,i=(r.titleX||o||"").toString(),l=r.titleY||s,h=a.getChartConfigMore(),f=[],p=[];if(s){if(f=a.getDataForChart(),1==h.showWithoutData||f&&f.length>0){var u=a.buidHeaderDataForChart({titleX:i,titleY:l,dataTable:f,fX:o,fY:s,more:h});p.push(u),h[O]&&(p=[].concat(Object(n.a)(p),Object(n.a)(h[O])));var c=[];if(f&&f.length>0)for(var g=0;g<f.length;g++){var v=f[g],y=a.buidRowDataForChart({arrfX:c,dataTable:f,row:v,fX:o,fY:s,more:h});y&&p.push(y)}}}else console.warn("Missing fX or fY");return console.log("_dataForChart",p),p},a.getStyle=function(){var t=a.props.style||{},e=a.getChartConfigMore();return e.style&&(t=Object.assign(t,e.style)),t},a.getArrayFieldsInMore=function(t){var e=a.getChartConfigMore();return e.arrByFieldName&&e.arrByFieldName[t]?e.arrByFieldName[t]:[]},a.getArrayTitleFieldsInMore=function(t){var e=a.getChartConfigMore();return e.arrTitleByFieldName&&e.arrTitleByFieldName[t]?e.arrTitleByFieldName[t]:[]},a.getClassName=function(){var t=a.props.className||"",e=a.getChartConfigMore();return e.className&&(t+=" ".concat(e.className)),t},a.getMorePropsFromMore=function(){var t=a.props.morePropsChart,e={},r=a.getChartConfigMore();return r.props&&(e=r.props),t&&t.graph_id&&r.prefixId&&(e.graph_id="".concat(r.prefixId,"_").concat(t.graph_id)),e},a.renderChart=function(){var t=a.props.morePropsChart,e="BarChart";a._myChartType&&(e=a._myChartType());var r=a.buildDataForChart(),n=a.getChartConfigMore();return console.warn("_dataForChart",r),r&&r.length>0?Object(C.jsx)(m,{className:"mch-container",style:n.styleContainer,children:Object(C.jsx)(g.a,Object(o.a)(Object(o.a)({chartType:e,data:r,style:a.getStyle(),className:a.getClassName(),options:a.getOptionsForChart(),graph_id:e},t),a.getMorePropsFromMore()),e)}):Object(C.jsx)("div",{className:"mch-container",style:n.styleContainerEmpty,children:n.textEmpty||"No Data for chart"})},a._renderContain=function(){},a.state={},a._colorsFollowTitle=[],a}return Object(l.a)(r,[{key:"render",value:function(){return Object(C.jsx)("div",{})}}]),r}(c.a.Component);T.defaultProps={};e.a=T},531:function(t,e,r){"use strict";var a=r(16),o=r(17),n=r(18),s=r(19),i=function(t){Object(n.a)(r,t);var e=Object(s.a)(r);function r(t){var o;return Object(a.a)(this,r),(o=e.call(this,t))._myChartType=function(){return"ColumnChart"},o._myDefaultOptionsChart=function(){return{title:"",vAxis:{title:""},hAxis:{title:""}}},o._myOptionsChart=function(){var t=o.props,e=(t.chartConfig,t.fnList,o.getChartConfigOptions()),r=o.getChartConfigMore(),a={title:"",vAxis:{title:r.titleV||"",minValue:null!=r.vMinValue?r.vMinValue:0},hAxis:{title:r.titleH||""},legend:"none"};if(e)if("object"==typeof e)a=Object.assign(a,e);else if("string"==typeof e)try{var n=JSON.parse(e);a=Object.assign(a,n)}catch(s){console.warn("Parse Json chart Options error:",s)}return console.warn("options chart:",a),a},o.state={},o}return Object(o.a)(r,[{key:"render",value:function(){return this.renderChart()}}]),r}(r(525).a);i.propTypes={},i.defaultProps={},e.a=i}}]);
//# sourceMappingURL=74.0b8ac65b.chunk.js.map