(this["webpackJsonpapp-admin-v5"]=this["webpackJsonpapp-admin-v5"]||[]).push([[66],{1210:function(t,e,n){"use strict";n.r(e);var o=n(4),a=n(16),r=n(17),c=n(48),i=n(18),s=n(19),u=(n(0),n(87)),l=n(10),f=n(11),p=n(530),h=n(9),b=n(522),d=n(70),m=n(2),j=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i)))._requestApi=function(e){var n=t.props,a=n.oneButton,r=n.fnList;return a.changeIsLoading(!0),new Promise((function(n,c){l.a.apiGeneric(Object(o.a)(Object(o.a)({},a.getApiRequest()),{},{data:a.getApiQuery(Object(o.a)(Object(o.a)({},h.j.fnGetSharedRequestData(r)),e))})).then((function(e){console.warn("res",e),l.i.parseResponseButtonApi(e,a._moreObj),t.parseResponseWhenSuccess(e),a.changeIsLoading(!1),n(e)})).catch((function(t){a.changeIsLoading(!1),c(t)}))}))},t._showForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultValues,a=t.props,r=a.oneButton,i=a.fnList;console.warn("show form",Object(c.a)(t),n);var s=Object(d.a)(r._configButton.Form,{defaultValues:null,fnList:i,moreDefaultValues:n});s&&(s.fnList=Object(o.a)(Object(o.a)({},i),{},{onSubmitForm:function(e,n){n.defaultValues;return console.warn("submit:",e),t._requestApi(e)}}),f.f.showFromMyForm(s,{title:s.title||"Form",backdrop:"static",modalScrollInside:!0,size:"md"}))},t._checkShowForm=function(){var e=t.props,n=e.oneButton,o=e.fnList;Object(b.a)({oneButton:n,fnList:o,customQuery:null,cb:function(e){var n=e.result,o=e.data;n&&t._showForm({defaultValues:o})}})},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.props.oneButton;return Object(m.jsx)(u.a,Object(o.a)(Object(o.a)(Object(o.a)({},this.getMorePropsButton()),e.getMorePropsButton()),{},{onClick:function(){t._checkShowForm()},children:e.getTitleDisplay()}))}}]),n}(p.a);e.default=j},522:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var o=n(4),a=n(88),r=n(9),c=n(1),i={apiCheckShowModal:"apiCheckShowModal",acceptType:"acceptType",apiUrlAfter:"apiUrlAfter",title:"title",tooltip:"tooltip"},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.oneButton,n=t.fnList,s=t.customQuery,u=t.cb;if(e){var l=e._moreObj[i.apiCheckShowModal];if(l){e.changeIsLoading(!0);var f={method:"POST",url:l.url,path:l.path,name:l.name};Object(a.a)({request:f,data:e.getApiQuery(Object(o.a)(Object(o.a)({},r.j.fnGetSharedRequestData(n)),s)),successCallBack:function(t){console.warn("response",t);var n=c.HUtils.get(t,"Data.Config");n&&n.IsShow?u&&u({result:!0,data:n.FormData||{}}):u&&u({result:!1}),e.changeIsLoading(!1)},errorCallBack:function(t,n){e.changeIsLoading(!1),u&&u({result:!1})}})}else u&&u({result:!0})}else u&&u({result:!0})}},530:function(t,e,n){"use strict";var o=n(4),a=n(16),r=n(17),c=n(48),i=n(18),s=n(19),u=n(0),l=n.n(u),f=n(87),p=n(522),h=n(9),b=n(2),d=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).onClick=function(){},o.parseResponseWhenSuccess=function(t){var e=o.props,n=e.oneButton,a=e.fnList;n._configButton.NeedReload?h.j.fnReloadPage(a):n._configButton.NeedReloadList&&h.j.fnReloadList(a)},o.getMorePropsButton=function(){var t=o.props.oneButton,e={};return t&&t._moreObj&&t._moreObj[p.b.title]&&(e.title=t._moreObj[p.b.title]),e},o.checkConfirmMsg=function(t){var e=o.props.oneButton;e&&e._configButton.ConfirmMsg?h.n.fnshowConfirm({title:"Confirm",msg:e._configButton.ConfirmMsg,onClickOK:function(){t&&t()}}):t&&t()},o.state={},o.props.oneButton.setFromComponent(Object(c.a)(o)),o}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.props.oneButton;return Object(b.jsx)(f.a,Object(o.a)(Object(o.a)({},e.getMorePropsButton()),{},{onClick:function(){t.onClick()},children:e.getTitleDisplay()}))}}]),n}(l.a.Component);e.a=d}}]);
//# sourceMappingURL=66.2e763ee3.chunk.js.map