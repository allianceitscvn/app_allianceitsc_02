{"version":3,"sources":["modules/adminpanel/MyChart/Types/gg_combo.js","modules/adminpanel/MyChart/helpers.js","modules/adminpanel/MyChart/Types/_gg_chart.js"],"names":["Z","props","_myChartType","_myDefaultOptionsChart","title","vAxis","hAxis","seriesType","series","type","_myOptionsChart","_chartOptions","chartConfig","fnList","getChartConfigOptions","_chartMore","getChartConfigMore","_options","titleV","minValue","vMinValue","titleH","Object","assign","_objOptions","JSON","parse","error","console","warn","state","this","renderChart","GGChartExt","propTypes","defaultProps","getDataBySort","data","_more","configChart","_More","more","getMoreOfChart","HUtilsGetDataBySort","sortByField","sortType","sortDataType","WrapChart","styled","div","KMore","GoogleChart","extraDataField","fnGetExtraDataTable","_extraData","ChartOptions","_chartConfig","options","_Options","getSeperator","sepereator","getDefaultOptionsChart","getDataForChart","_data","ChartData","hasFilter","fnGetDataTable","fnGetDataTableFilterd","MyChartHelpers","getOptionsForChart","hAxisTicksDate","length","_optionsDate","_hAxisTicksDate","i","_v","push","Date","v","f","ticks","format","colorsFollowTitle","colors","_colorsFollowTitle","countfY","dataTable","valueX","fX","fY","_count","_arrValueY","_item","indexOf","sumfY","_sum","buidRowDataForChart","arrfX","row","_seperator","_valueX","toString","distinctX","_fX","startsWith","replace","_objFx","_obj","_f","_vf","_arrfY","split","_fY","_num","parseInt","_arrInField","Array","isArray","j","_jv","getArrayFieldsInMore","_fjv","_addValue","hasOwnProperty","isNaN","Number","endsWith","_objHeader","fieldName","value","hasStyle","_style","fStyle","fColor","hasAnnotation","_annotation","fAnnotation","buidHeaderDataForChart","titleX","titleY","_arrTitleY","_arrFY","_arrHeaderY","_h","role","p","html","_arrItem","_row","getArrayTitleFieldsInMore","concat","header","_ttY","_hThis","_titleX","_header","buildDataForChart","_titleY","_dataTable","_dataForChart","showWithoutData","_arrfX","_dataRow","log","getStyle","style","arrByFieldName","arrTitleByFieldName","getClassName","_className","className","getMorePropsFromMore","morePropsChart","_props","graph_id","prefixId","_chartType","styleContainer","chartType","styleContainerEmpty","textEmpty","_renderContain","React","Component"],"mappings":"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","file":"static/js/160.761608ed.chunk.js","sourcesContent":["import GGChartExt from \"./_gg_chart\"\r\n\r\nclass Z extends GGChartExt {\r\n  static propTypes = {}\r\n  static defaultProps = {}\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n  _myChartType = () => {\r\n    return \"ComboChart\"\r\n  }\r\n  _myDefaultOptionsChart = () => {\r\n    return {\r\n      title: \"\", //Title Chart\r\n      vAxis: { title: \"\" }, //Title doc -> y nghia chieu cao\r\n      hAxis: { title: \"\" }, //Title ngang -> y nghia fX\r\n      seriesType: \"bars\",\r\n      series: {\r\n        1: { type: \"line\" },\r\n        // 2: {type: 'line'},\r\n        // 3: {type: 'line'},\r\n        // 4: {type: 'line'},\r\n        // 5: {type: 'line'}\r\n      },\r\n    }\r\n  }\r\n\r\n  _myOptionsChart = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartConfig = chartConfig || {}\r\n    let _chartOptions = this.getChartConfigOptions()\r\n    let _chartMore = this.getChartConfigMore()\r\n    let _options = {\r\n      title: \"\", //_chartConfig.titleChart || '',\r\n      vAxis: {\r\n        title: _chartMore.titleV || \"\",\r\n        minValue: _chartMore.vMinValue != null ? _chartMore.vMinValue : 0,\r\n      },\r\n      hAxis: {\r\n        title: _chartMore.titleH || \"\",\r\n      },\r\n      seriesType: \"bars\",\r\n      series: {\r\n        // 1: {type: 'line'},\r\n        // 2: {type: 'line'},\r\n        // 3: {type: 'line'},\r\n      },\r\n    }\r\n    if (_chartOptions) {\r\n      if (typeof _chartOptions == \"object\") {\r\n        _options = Object.assign(_options, _chartOptions)\r\n      } else if (typeof _chartOptions == \"string\") {\r\n        try {\r\n          let _objOptions = JSON.parse(_chartOptions)\r\n          _options = Object.assign(_options, _objOptions)\r\n        } catch (error) {\r\n          console.warn(\"Parse Json chart Options error:\", error)\r\n        }\r\n      }\r\n    }\r\n    return _options\r\n  }\r\n\r\n  render() {\r\n    return this.renderChart()\r\n  }\r\n}\r\n\r\nexport default Z\r\n","import { getDataBySort as HUtilsGetDataBySort } from \"src/helpers/Flows/MNeedUpdateMLib\"\r\n\r\nexport const getMoreOfChart = ({ configChart } = {}) => {\r\n  if (configChart && configChart._More) {\r\n    return configChart._More\r\n  }\r\n  if (configChart && configChart.more) {\r\n    if (typeof configChart.more == \"object\") {\r\n      return configChart.more\r\n    } else if (typeof configChart.more == \"string\") {\r\n      try {\r\n        configChart._More = JSON.parse(configChart.more)\r\n        return configChart._More\r\n      } catch (error) {\r\n        console.warn(\"Error parse chart config json\", error)\r\n      }\r\n    }\r\n  }\r\n  return {}\r\n}\r\n\r\nexport const getDataBySort = (data, { configChart }) => {\r\n  let _more = getMoreOfChart({ configChart })\r\n  return HUtilsGetDataBySort(\r\n    data,\r\n    _more.sortByField,\r\n    _more.sortType,\r\n    _more.sortDataType\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Chart } from \"react-google-charts\"\r\nimport * as MyChartHelpers from \"../helpers\"\r\nimport styled from \"styled-components\"\r\n\r\nconst WrapChart = styled.div`\r\n  & > div {\r\n    overflow: auto;\r\n  }\r\n`\r\nconst KMore = {\r\n  isEmptyIsRoot: \"isEmptyIsRoot\", //for orgchart, parent \"\" => \"_root\"\r\n  fixDataAfterHeader: \"fixDataAfterHeader\",\r\n}\r\nclass GoogleChart extends React.Component {\r\n  static propTypes = {}\r\n  static defaultProps = {}\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n    this._colorsFollowTitle = []\r\n  }\r\n\r\n  getChartConfigOptions = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartMore = this.getChartConfigMore()\r\n    let _options\r\n    if (_chartMore.extraDataField) {\r\n      if (fnList.fnGetExtraDataTable) {\r\n        let _extraData = fnList.fnGetExtraDataTable()\r\n        if (\r\n          _extraData &&\r\n          _extraData.ChartOptions &&\r\n          _extraData.ChartOptions[_chartMore.extraDataField]\r\n        ) {\r\n          _options = _extraData.ChartOptions[_chartMore.extraDataField]\r\n        }\r\n      }\r\n    }\r\n\r\n    let _chartConfig = chartConfig || {}\r\n    if (_chartConfig.options && _options == null) {\r\n      _options = _chartConfig.options\r\n    }\r\n\r\n    if (typeof _options == \"object\") {\r\n      return _options\r\n    } else if (typeof _options == \"string\") {\r\n      try {\r\n        _chartConfig._Options = JSON.parse(_options)\r\n        return _chartConfig._Options\r\n      } catch (error) {\r\n        console.warn(\"Error parse chart config json\", error)\r\n      }\r\n    }\r\n\r\n    return {}\r\n  }\r\n\r\n  getSeperator = () => {\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.sepereator) {\r\n      return _more.sepereator\r\n    }\r\n    return \";\"\r\n  }\r\n\r\n  getChartConfigMore = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartConfig = chartConfig || {}\r\n    if (_chartConfig.more) {\r\n      if (typeof _chartConfig.more == \"object\") {\r\n        return _chartConfig.more\r\n      } else if (typeof _chartConfig.more == \"string\") {\r\n        try {\r\n          _chartConfig._More = JSON.parse(_chartConfig.more)\r\n          return _chartConfig._More\r\n        } catch (error) {\r\n          console.warn(\"Error parse chart config json\", error)\r\n        }\r\n      }\r\n    }\r\n    return {}\r\n  }\r\n\r\n  getDefaultOptionsChart = () => {\r\n    return {\r\n      title: \"Title Chart\",\r\n    }\r\n  }\r\n\r\n  getDataForChart = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _chartMore = this.getChartConfigMore()\r\n    let _data = []\r\n    if (fnList) {\r\n      // console.warn('getDataForChart 1:',fnList,_chartMore,_chartMore.extraDataField,fnList.fnGetExtraDataTable);\r\n      if (_chartMore.extraDataField) {\r\n        if (fnList.fnGetExtraDataTable) {\r\n          let _extraData = fnList.fnGetExtraDataTable()\r\n          // console.warn('getDataForChart 2:',_extraData,_chartMore);\r\n          if (\r\n            _extraData &&\r\n            _extraData.ChartData &&\r\n            _extraData.ChartData[_chartMore.extraDataField]\r\n          ) {\r\n            return _extraData.ChartData[_chartMore.extraDataField]\r\n          }\r\n        }\r\n      } else if (_chartMore.hasFilter === false) {\r\n        if (fnList.fnGetDataTable) {\r\n          _data = fnList.fnGetDataTable()\r\n        }\r\n      } else {\r\n        if (fnList.fnGetDataTableFilterd) {\r\n          _data = fnList.fnGetDataTableFilterd()\r\n        }\r\n      }\r\n    }\r\n    _data = MyChartHelpers.getDataBySort(_data, { configChart: chartConfig })\r\n    return _data\r\n  }\r\n\r\n  getOptionsForChart = () => {\r\n    let _options = this.getDefaultOptionsChart()\r\n    let _chartMore = this.getChartConfigMore()\r\n    if (this._myDefaultOptionsChart) {\r\n      _options = Object.assign(_options, this._myDefaultOptionsChart() || {})\r\n    }\r\n    if (this._myOptionsChart) {\r\n      _options = Object.assign(_options, this._myOptionsChart() || {})\r\n    }\r\n    //line chart date\r\n    if (_options.hAxisTicksDate != null && _options.hAxisTicksDate.length > 0) {\r\n      let _optionsDate = []\r\n      let _hAxisTicksDate = _options.hAxisTicksDate\r\n      for (let i = 0; i < _hAxisTicksDate.length; i++) {\r\n        let _v = _hAxisTicksDate[i]\r\n        if (typeof _v == \"number\") {\r\n          _optionsDate.push(new Date(_hAxisTicksDate[i]))\r\n        } else if (typeof _v == \"object\") {\r\n          if (_v.v && _v.f) {\r\n            _optionsDate.push({\r\n              v: new Date(_v.v),\r\n              f: _v.f,\r\n            })\r\n          }\r\n        }\r\n      }\r\n      //nếu có hAis thì thêm ticks\r\n      if (_options.hAxis) {\r\n        _options.hAxis.ticks = _optionsDate\r\n      } else {\r\n        //không có hAxis thì thêm hAis\r\n        _options.hAxis = {\r\n          format: \"d-MMMyy\",\r\n          ticks: _optionsDate,\r\n        }\r\n      }\r\n    }\r\n    if (_chartMore && _chartMore.colorsFollowTitle) {\r\n      if (\r\n        _options.colors == null &&\r\n        this._colorsFollowTitle &&\r\n        this._colorsFollowTitle.length > 0\r\n      ) {\r\n        _options.colors = this._colorsFollowTitle\r\n      }\r\n    }\r\n    // console.log(`options chart:`,_options);\r\n    return _options\r\n  }\r\n\r\n  countfY = ({ dataTable, valueX, fX, fY }) => {\r\n    let _count = 0\r\n    // console.warn('dataTable,valueX,fX,fY',dataTable,valueX,fX,fY);\r\n    if (dataTable) {\r\n      let _arrValueY = []\r\n      for (let i = 0; i < dataTable.length; i++) {\r\n        let _item = dataTable[i]\r\n        if (_item[fX] == valueX) {\r\n          if (_item[fY] != null && _arrValueY.indexOf(_item[fY]) == -1) {\r\n            _count++\r\n            _arrValueY.push(_item[fY])\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return _count\r\n  }\r\n  sumfY = ({ dataTable, valueX, fX, fY }) => {\r\n    let _sum = 0\r\n    if (dataTable) {\r\n      for (let i = 0; i < dataTable.length; i++) {\r\n        let _item = dataTable[i]\r\n        if (_item[fX] == valueX) {\r\n          if (_item[fY] != null && typeof _item[fY] == \"number\") {\r\n            _sum += _item[fY]\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return _sum\r\n  }\r\n  buidRowDataForChart = ({ arrfX, dataTable, row, fX, fY, more }) => {\r\n    let _seperator = this.getSeperator()\r\n    // console.warn(\"buidRowDataForChart\",fX,fY,row,dataTable,arrfX);\r\n    let _valueX = (row[fX] || \"\").toString() //_valueX phải là string\r\n    if (more.distinctX == true && arrfX.indexOf(_valueX) > -1) {\r\n      return null\r\n    }\r\n    let _data = []\r\n\r\n    let _fX = fX\r\n    if (fX.startsWith(\"[org]\")) {\r\n      // console.warn('obj',_obj,row,_obj[\"v\"], _obj[\"f\"],_v, _f);\r\n      try {\r\n        _fX = fX.replace(\"[org]\", \"\") //cau hinh fX: [org]{\"v\":\"fieldV\",\"f\":\"fieldF\"}\r\n        if (row[_fX] != null) {\r\n          let _objFx = {}\r\n          if (typeof row[_fX] == \"object\") {\r\n            _objFx = row[_fX]\r\n          } else if (typeof row[_fX] == \"string\") {\r\n            _objFx = JSON.parse(row[_fX])\r\n          }\r\n          if (_objFx.v && _objFx.f) {\r\n            _data.push(_objFx)\r\n          }\r\n        } else {\r\n          let _obj = JSON.parse(_fX)\r\n          // console.warn(\"zzz\",_obj);\r\n          if (_obj.v && _obj.f) {\r\n            let _v =\r\n              _obj != null && _obj[\"v\"] != null && row[_obj[\"v\"]] != null\r\n                ? row[_obj[\"v\"]]\r\n                : \"\"\r\n            let _f =\r\n              _obj != null && _obj[\"f\"] != null && row[_obj[\"f\"]] != null\r\n                ? row[_obj[\"f\"]]\r\n                : \"\"\r\n            _data.push({\r\n              v: _v,\r\n              f: _f,\r\n            })\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.warn(\"Parser json more in Type error:\", error)\r\n        _data.push(\"\")\r\n      }\r\n    } else if (fX.startsWith(\"[date]\")) {\r\n      let _vf = fX.replace(\"[date]\", \"\") //fieldname\r\n      let _v = null //value\r\n      if (_vf) {\r\n        _v = row[_vf]\r\n      }\r\n      if (_v == null) {\r\n        _v = new Date()\r\n      } else {\r\n        _v = new Date(_v)\r\n      }\r\n      _data.push(_v)\r\n    } else {\r\n      _data.push(_valueX)\r\n    }\r\n    // _data.push(_valueX);\r\n    arrfX.push(_valueX)\r\n    let _arrfY = fY.split(_seperator)\r\n    for (let _fY of _arrfY) {\r\n      if (_fY.startsWith(\"[count]\")) {\r\n        let _count = this.countfY({\r\n          dataTable,\r\n          valueX: _valueX,\r\n          fX,\r\n          fY: _fY.replace(\"[count]\", \"\"),\r\n        })\r\n        _data.push(_count)\r\n      } else if (_fY.startsWith(\"[sum]\")) {\r\n        let _sum = this.sumfY({\r\n          dataTable,\r\n          valueX: _valueX,\r\n          fX,\r\n          fY: _fY.replace(\"[sum]\", \"\"),\r\n        })\r\n        _data.push(_sum)\r\n      } else if (_fY.startsWith(\"[num]\")) {\r\n        let _num = parseInt(_fY.replace(\"[num]\", \"\"))\r\n        _data.push(_num)\r\n      } else if (_fY.startsWith(\"[color]\")) {\r\n        let _v = _fY.replace(\"[color]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n        //add to colorsFollowTitle\r\n        if (this._colorsFollowTitle.length < _arrfY.length) {\r\n          this._colorsFollowTitle.push(_v)\r\n        }\r\n      } else if (_fY.startsWith(\"[style]\")) {\r\n        let _v = _fY.replace(\"[style]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[annotation]\")) {\r\n        let _v = _fY.replace(\"[annotation]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        } else {\r\n          _v = null\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[annotationText]\")) {\r\n        let _v = _fY.replace(\"[annotationText]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        } else {\r\n          _v = null\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[date]\")) {\r\n        let _v = _fY.replace(\"[date]\", \"\")\r\n        if (_v) {\r\n          _v = row[_v]\r\n        }\r\n        if (_v == null) {\r\n          _v = new Date()\r\n        } else {\r\n          _v = new Date(_v)\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[tooltip]\")) {\r\n        let _v = _fY.replace(\"[tooltip]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[string]\")) {\r\n        let _v = _fY.replace(\"[string]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[org]\")) {\r\n        let _v = _fY.replace(\"[org]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        if ((_v === null || _v === \"\") && more[KMore.isEmptyIsRoot]) {\r\n          _v = \"_root_\"\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[tooltip_html]\")) {\r\n        let _v = _fY.replace(\"[tooltip_html]\", \"\")\r\n        if (_v && row[_v] != null) {\r\n          _v = row[_v]\r\n        }\r\n        _data.push(_v)\r\n      } else if (_fY.startsWith(\"[arr]\")) {\r\n        let _v = _fY.replace(\"[arr]\", \"\")\r\n        // if(_v && row[_v]!=null){\r\n        //   _v = row[_v];\r\n        // }\r\n        // if(Array.isArray(_v)){\r\n        //   _data = _data.concat(_v);\r\n        // }\r\n        // else if(typeof _v == 'string'){\r\n        //   _data = _data.concat(_v.split(_seperator));\r\n        // }\r\n        let _arrInField = []\r\n        if (_v && row[_v]) {\r\n          //fix loi check array row[_v] chu ko the la _v duoc\r\n          if (Array.isArray(row[_v])) {\r\n            _arrInField = row[_v]\r\n          } else if (typeof row[_v] == \"string\") {\r\n            _arrInField = row[_v].split(_seperator)\r\n          }\r\n        }\r\n        for (let j = 0; j < _arrInField.length; j++) {\r\n          let _jv = _arrInField[j]\r\n          //neu _jv la object\r\n          if (_jv != null && !Array.isArray(_jv) && typeof _jv == \"object\") {\r\n            _jv = this.getArrayFieldsInMore(_v)\r\n          }\r\n          if (_jv.startsWith(\"[style]\")) {\r\n            _data.push(_jv.replace(\"[style]\", \"\"))\r\n          } else if (_jv.startsWith(\"[color]\")) {\r\n            let _fjv = _jv.replace(\"[color]\", \"\")\r\n            let _addValue = \"\"\r\n            if (row && row.hasOwnProperty(_fjv)) {\r\n              _addValue = row[_fjv]\r\n            } else {\r\n              _addValue = _fjv\r\n            }\r\n            _data.push(_addValue)\r\n            if (\r\n              this._colorsFollowTitle.length <\r\n              _arrfY.length + _arrInField.length - 1\r\n            ) {\r\n              this._colorsFollowTitle.push(_addValue)\r\n            }\r\n          } else if (_jv.startsWith(\"[annotation]\")) {\r\n            let _fjv = _jv.replace(\"[annotation]\", \"\")\r\n            if (row && row.hasOwnProperty(_fjv)) {\r\n              _data.push(row[_fjv])\r\n            } else {\r\n              _data.push(_fjv)\r\n            }\r\n          } else if (_jv.startsWith(\"[field]\")) {\r\n            //bo sung kieu field trong arr\r\n            let _fjv = _jv.replace(\"[field]\", \"\")\r\n            if (row && row.hasOwnProperty(_fjv)) {\r\n              _data.push(row[_fjv])\r\n            } else {\r\n              _data.push(_fjv)\r\n            }\r\n          } else {\r\n            if (!isNaN(Number(_jv))) {\r\n              _data.push(Number(_jv))\r\n            } else {\r\n              _data.push(_jv)\r\n            }\r\n          }\r\n        }\r\n      } else if (_fY.startsWith(\"{\") && _fY.endsWith(\"}\")) {\r\n        try {\r\n          let _objHeader = JSON.parse(_fY)\r\n          if (_objHeader.fieldName) {\r\n            _data.push(row[_objHeader.fieldName])\r\n          } else if (_objHeader.value) {\r\n            _data.push(_objHeader.value)\r\n          }\r\n        } catch (error) {\r\n          console.error(\"parse json header chart error:\", _fY)\r\n        }\r\n      } else {\r\n        //Dam bao gia tri phai la so\r\n        if (typeof row[_fY] == \"number\") {\r\n          _data.push(row[_fY])\r\n        } else if (typeof row[_fY] == \"string\") {\r\n          var _num = Number(row[_fY])\r\n          isNaN(_num) ? _data.push(0) : _data.push(_num)\r\n        } else {\r\n          _data.push(0)\r\n        }\r\n      }\r\n    }\r\n    if (more.hasStyle == true) {\r\n      let _style = \"\"\r\n      if (more.fStyle && row[more.fStyle]) {\r\n        _style = row[more.fStyle]\r\n      } else if (row[\"UI_GoogleChartStyle\"]) {\r\n        _style = row[\"UI_GoogleChartStyle\"]\r\n      }\r\n      if (more.fColor && row[more.fColor]) {\r\n        if (_style.length == 0) {\r\n          // console.warn('fColor:',more.fColor,row[more.fColor]);\r\n          _style = `${row[more.fColor]}`\r\n        } else {\r\n          _style += `;color: ${row[more.fColor]}`\r\n        }\r\n      }\r\n      _data.push(_style)\r\n    }\r\n    if (more.hasAnnotation == true) {\r\n      let _annotation = \"\"\r\n      if (more.fAnnotation && row[more.fAnnotation]) {\r\n        _annotation = row[more.fAnnotation]\r\n      }\r\n      _data.push(_annotation)\r\n    }\r\n\r\n    return _data\r\n  }\r\n  buidHeaderDataForChart = ({ dataTable, titleX, titleY, fX, fY, more }) => {\r\n    const { chartConfig, fnList } = this.props\r\n    let _seperator = this.getSeperator()\r\n    let _arrTitleY = titleY.split(_seperator)\r\n    let _arrFY = fY.split(_seperator)\r\n    let _arrHeaderY = []\r\n    if (_arrFY.length == _arrTitleY.length) {\r\n      for (let i = 0; i < _arrFY.length; i++) {\r\n        let _h = _arrFY[i]\r\n        // console.warn('_h',_h,_arrTitleY);\r\n        if (_h.startsWith(\"[color]\") || _h.startsWith(\"[style]\")) {\r\n          _arrHeaderY.push({ role: \"style\" })\r\n        } else if (_h.startsWith(\"[annotation]\")) {\r\n          _arrHeaderY.push({ role: \"annotation\" })\r\n        } else if (_h.startsWith(\"[annotationText]\")) {\r\n          _arrHeaderY.push({ role: \"annotationText\" })\r\n        } else if (_h.startsWith(\"[date]\")) {\r\n          _arrHeaderY.push({ type: \"date\" })\r\n        } else if (_h.startsWith(\"[tooltip]\")) {\r\n          _arrHeaderY.push({ type: \"string\", role: \"tooltip\" })\r\n        } else if (_h.startsWith(\"[tooltip_html]\")) {\r\n          _arrHeaderY.push({\r\n            type: \"string\",\r\n            role: \"tooltip\",\r\n            p: { html: true },\r\n          })\r\n        } else if (\r\n          _h.startsWith(\"[arr]\") &&\r\n          _arrTitleY[i].startsWith(\"[arr]\")\r\n        ) {\r\n          //voi [arr] thi su dung _arrHeaderY de xu ly\r\n          let _arrItem = []\r\n          let _v = _arrTitleY[i].replace(\"[arr]\", \"\")\r\n          if (dataTable && dataTable.length > 0) {\r\n            let _row = dataTable[0]\r\n            let _arrInField = []\r\n            if (_row[_v]) {\r\n              //fix loi check array row[_v] chu ko the la _v duoc\r\n              if (Array.isArray(_row[_v])) {\r\n                _arrInField = _row[_v]\r\n              } else if (typeof _row[_v] == \"string\") {\r\n                _arrInField = _row[_v].split(_seperator)\r\n              }\r\n            }\r\n            for (let j = 0; j < _arrInField.length; j++) {\r\n              let _jv = _arrInField[j]\r\n              //neu _jv la object\r\n              if (\r\n                _jv != null &&\r\n                !Array.isArray(_jv) &&\r\n                typeof _jv == \"object\"\r\n              ) {\r\n                _jv = this.getArrayTitleFieldsInMore(_v)\r\n              }\r\n              if (\r\n                _jv.startsWith(\"[color]\") ||\r\n                _jv.startsWith(\"[style]\") ||\r\n                _jv.startsWith(\"[c]\")\r\n              ) {\r\n                _arrItem.push({ role: \"style\" })\r\n              } else if (_jv.startsWith(\"[annotation]\")) {\r\n                _arrItem.push({ role: \"annotation\" })\r\n              } else if (_jv.startsWith(\"[field]\")) {\r\n                //bo sung kieu field trong arr\r\n                let _fjv = _jv.replace(\"[field]\", \"\")\r\n                if (_row && _row[_fjv]) {\r\n                  _arrItem.push(_row[_fjv])\r\n                } else {\r\n                  _arrItem.push(\"\")\r\n                }\r\n              } else {\r\n                _arrItem.push(_jv)\r\n              }\r\n            }\r\n          }\r\n          _arrHeaderY = _arrHeaderY.concat(_arrItem)\r\n        } else if (_h.startsWith(\"{\") && _h.endsWith(\"}\")) {\r\n          try {\r\n            let _objHeader = JSON.parse(_h)\r\n            if (_objHeader.header) {\r\n              _arrHeaderY.push(_objHeader.header)\r\n            }\r\n          } catch (error) {\r\n            console.error(\"parse json header chart error:\", _h)\r\n          }\r\n        } else {\r\n          let _ttY = _arrTitleY[i]\r\n          if (_ttY.startsWith(\"[field]\")) {\r\n            let _v = _ttY.replace(\"[field]\", \"\")\r\n            let _hThis = \"\"\r\n            if (dataTable && dataTable.length > 0) {\r\n              let _row = dataTable[0]\r\n              if (_row[_v]) {\r\n                _hThis = _row[_v]\r\n              }\r\n            }\r\n            _arrHeaderY.push(_hThis)\r\n            // console.warn(\"_arrHeaderY\",_arrHeaderY);\r\n          } else {\r\n            _arrHeaderY.push(_ttY)\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      console.warn(\r\n        \"Array fY and titleY not same size!!!\",\r\n        _arrFY.length,\r\n        _arrTitleY.length\r\n      )\r\n    }\r\n    let _titleX = titleX\r\n    if (fX.startsWith(\"[date]\")) {\r\n      _titleX = { type: \"date\" }\r\n    }\r\n    let _header = [_titleX, ..._arrHeaderY]\r\n    if (more.hasStyle == true) {\r\n      _header.push({ role: \"style\" })\r\n    }\r\n    if (more.hasAnnotation == true) {\r\n      _header.push({ role: \"annotation\" })\r\n    }\r\n    return _header\r\n  }\r\n  buildDataForChart = () => {\r\n    const { chartConfig, fnList } = this.props\r\n    // console.warn('buildDataForChart this.props', this.props);\r\n    let _chartConfig = chartConfig || {}\r\n    let _fX = _chartConfig.fX\r\n    let _fY = _chartConfig.fY\r\n    let _titleX = (_chartConfig.titleX || _fX || \"\").toString() //_titleX phải là string\r\n    let _titleY = _chartConfig.titleY || _fY\r\n    let _chartMore = this.getChartConfigMore()\r\n    // let _options = _chartConfig.options;\r\n    let _dataTable = []\r\n    let _dataForChart = []\r\n    if ((_fX, _fY)) {\r\n      _dataTable = this.getDataForChart()\r\n      // console.warn(\"_dataTable\",_dataTable);\r\n      if (\r\n        _chartMore.showWithoutData == true ||\r\n        (_dataTable && _dataTable.length > 0)\r\n      ) {\r\n        let _header = this.buidHeaderDataForChart({\r\n          titleX: _titleX,\r\n          titleY: _titleY,\r\n          dataTable: _dataTable,\r\n          fX: _fX,\r\n          fY: _fY,\r\n          more: _chartMore,\r\n        })\r\n\r\n        // console.warn(\"_header\",_header,_chartMore,_chartConfig);\r\n        _dataForChart.push(_header)\r\n        // console.warn(\"_dataForChart\",_chartMore,_dataForChart);\r\n\r\n        //bo sung data fix tu more\r\n        if (_chartMore[KMore.fixDataAfterHeader]) {\r\n          _dataForChart = [\r\n            ..._dataForChart,\r\n            ..._chartMore[KMore.fixDataAfterHeader],\r\n          ]\r\n        }\r\n\r\n        let _arrfX = []\r\n        if (_dataTable && _dataTable.length > 0) {\r\n          for (let i = 0; i < _dataTable.length; i++) {\r\n            let _item = _dataTable[i]\r\n            let _dataRow = this.buidRowDataForChart({\r\n              arrfX: _arrfX,\r\n              dataTable: _dataTable,\r\n              row: _item,\r\n              fX: _fX,\r\n              fY: _fY,\r\n              more: _chartMore,\r\n            })\r\n            if (_dataRow) {\r\n              _dataForChart.push(_dataRow)\r\n            }\r\n          }\r\n        }\r\n        // console.warn(\"_dataForChart\",_chartMore,_dataForChart);\r\n      }\r\n    } else {\r\n      console.warn(\"Missing fX or fY\")\r\n    }\r\n    console.log(\"_dataForChart\", _dataForChart)\r\n    return _dataForChart\r\n  }\r\n\r\n  getStyle = () => {\r\n    const { style } = this.props\r\n    let _style = style || {}\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.style) {\r\n      _style = Object.assign(_style, _more.style)\r\n    }\r\n    return _style\r\n  }\r\n  getArrayFieldsInMore = fieldName => {\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.arrByFieldName && _more.arrByFieldName[fieldName]) {\r\n      return _more.arrByFieldName[fieldName]\r\n    }\r\n    return []\r\n  }\r\n  getArrayTitleFieldsInMore = fieldName => {\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.arrTitleByFieldName && _more.arrTitleByFieldName[fieldName]) {\r\n      return _more.arrTitleByFieldName[fieldName]\r\n    }\r\n    return []\r\n  }\r\n  getClassName = () => {\r\n    const { className } = this.props\r\n    let _className = className || \"\"\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.className) {\r\n      _className += ` ${_more.className}`\r\n    }\r\n    return _className\r\n  }\r\n\r\n  getMorePropsFromMore = () => {\r\n    const { morePropsChart } = this.props\r\n    let _props = {}\r\n    let _more = this.getChartConfigMore()\r\n    if (_more.props) {\r\n      _props = _more.props\r\n    }\r\n    if (morePropsChart && morePropsChart.graph_id && _more.prefixId) {\r\n      _props.graph_id = `${_more.prefixId}_${morePropsChart.graph_id}`\r\n    }\r\n    return _props\r\n  }\r\n\r\n  renderChart = () => {\r\n    const { morePropsChart } = this.props\r\n    let _chartType = \"BarChart\"\r\n    if (this._myChartType) {\r\n      _chartType = this._myChartType()\r\n    }\r\n    let _dataForChart = this.buildDataForChart()\r\n    let _chartMore = this.getChartConfigMore()\r\n    console.warn(\"_dataForChart\", _dataForChart)\r\n    // console.warn('optons for chart',this.getOptionsForChart(),_dataForChart);\r\n    if (_dataForChart && _dataForChart.length > 0) {\r\n      return (\r\n        <WrapChart className=\"mch-container\" style={_chartMore.styleContainer}>\r\n          <Chart\r\n            key={_chartType}\r\n            chartType={_chartType}\r\n            data={_dataForChart}\r\n            style={this.getStyle()}\r\n            className={this.getClassName()}\r\n            options={this.getOptionsForChart()}\r\n            graph_id={_chartType}\r\n            {...morePropsChart}\r\n            {...this.getMorePropsFromMore()}\r\n          />\r\n        </WrapChart>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className=\"mch-container\" style={_chartMore.styleContainerEmpty}>\r\n          {_chartMore.textEmpty || \"No Data for chart\"}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  _renderContain = () => {}\r\n\r\n  render() {\r\n    return <div></div>\r\n  }\r\n}\r\n\r\nexport default GoogleChart\r\n"],"sourceRoot":""}