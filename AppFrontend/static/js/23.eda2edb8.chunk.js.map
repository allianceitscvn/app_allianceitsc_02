{"version":3,"sources":["core/modules/setting2fa/MyComponent/SelectMethodOneVerify.tsx","core/modules/setting2fa/MyComponent/SelectMethod.tsx","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","core/hook/useRequestAxios/useRequestAxios.tsx","../node_modules/react-i18next/dist/es/utils.js","../node_modules/react-i18next/dist/es/useTranslation.js"],"names":["SelectMethodOne2FA","props","currentMethodId","currentMethod","FA2MethodId","defaultMethodId","useState","code","setCode","t","useTranslation","requestOTPRequest","useRequestAxios","requestAfterInit","path","name","data","UniqueId","Setting2FAHelpers","HAuth","getInfo2FA","cbSuccess","response","HUtils","runFuntion","get","Data","requestVerify","url","InputCode","VerifyToken","HUI","hideInMyModalFromProps","HConstant","Auth","dispatchLoginSuccess","TagRequestOTPRequest","Tag","store","className","style","fontSize","responseData","FA2Description","InputGroup","marginBottom","InputGroupText","Input","placeholder","value","disabled","isLoading","autoFocus","onChange","ev","currentTarget","onKeyDown","onKeyDownEnter","request","Button","color","onClick","SelectMethod2FA","setCurrentMethod","canChangeMethod","setCanChangeMethod","showChooseMethod","setShowChooseMethod","listMethod","setListMethod","needEnable","needVerify","requestUserSetting","Id","updateSettingByResponse","FA2Methods","useEffect","TagRequestUserSetting","kMsgBottom","K","t_bottom_2fa_setup","t_bottom_2fa_verify","msgBottom","HCF","getCF","length","map","v","i","IsEnable","seletedMethod","showToast","type","width","overflow","size","FA2MethodName","SelectMethodOneVerify","fnList","onUpdate","console","warn","backSelectMethod","html","module","exports","arr","len","arr2","Array","__esModule","arrayLikeToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","from","test","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","push","err","TypeError","configRequest","initialState","state","setState","newState","prevState","assign","useMergeState","error","useRef","children","_msg","role","uiEmpty","HApi","apiPost","then","catch","a","current","_console","_len","arguments","args","_key","concat","apply","alreadyWarned","warnOnce","_len2","_key2","Date","loadNamespaces","i18n","ns","cb","isInitialized","on","initialized","setTimeout","off","hasLoadedNamespace","options","undefined","languages","lng","fallbackLng","lastLng","toLowerCase","loadNotPending","l","loadState","services","backendConnector","bindI18n","indexOf","backend","isLanguageChangingTo","hasResourceBundle","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","i18nFromProps","_ref","useContext","I18nContext","i18nFromContext","defaultNSFromContext","defaultNS","getI18n","reportNamespaces","ReportNamespaces","notReadyT","k","retNotReady","ready","react","wait","i18nOptions","getDefaults","useSuspense","keyPrefix","namespaces","addUsedNamespaces","initializedStoreOnce","every","getT","getFixedT","nsMode","_useState","_useState2","_slicedToArray","setT","isMounted","bindI18nStore","boundReset","split","e","join","isInitial","ret","Promise","resolve"],"mappings":"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","file":"static/js/23.eda2edb8.chunk.js","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { Button, Input, InputGroup, InputGroupText } from \"reactstrap\"\r\nimport { MyIcon } from \"src/core/components\"\r\nimport { HAuth, HConstant, HUI, HUtils } from \"src/core/helpers\"\r\nimport useRequestAxios from \"src/core/hook/useRequestAxios/useRequestAxios\"\r\nimport Setting2FAHelpers from \"../helpers\"\r\n\r\nfunction SelectMethodOne2FA(props) {\r\n  let currentMethodId = \"\"\r\n  if (props) {\r\n    if (props.currentMethod) {\r\n      currentMethodId = props.currentMethod.FA2MethodId\r\n    } else if (props.defaultMethodId) {\r\n      currentMethodId = props.defaultMethodId\r\n    }\r\n  }\r\n  const [code, setCode] = useState(\"\")\r\n  const { t } = useTranslation()\r\n\r\n  const requestOTPRequest = useRequestAxios({\r\n    requestAfterInit: true,\r\n    path: \"Aauth2FA\",\r\n    name: \"OTPRequest\",\r\n    data: {\r\n      FA2MethodId: currentMethodId,\r\n      UniqueId:\r\n        Setting2FAHelpers.UniqueId || HAuth.getInfo2FA()[\"user_uniqueid\"],\r\n    },\r\n    cbSuccess: response => {\r\n      // updateSettingByResponse(response)\r\n      HUtils.runFuntion(HUtils.get(props, \"fnList\"), \"onUpdate\", [\r\n        response.Data,\r\n      ])\r\n    },\r\n  })\r\n\r\n  const requestVerify = useRequestAxios({\r\n    url: \"/oauth2/2FAVerify\",\r\n    data: {\r\n      FA2MethodId: currentMethodId,\r\n      UniqueId:\r\n        Setting2FAHelpers.UniqueId || HAuth.getInfo2FA()[\"user_uniqueid\"],\r\n      InputCode: code,\r\n      VerifyToken: HAuth.getInfo2FA()[\"fa2_token\"],\r\n    },\r\n    cbSuccess: response => {\r\n      // updateSettingByResponse(response)\r\n      // HAuth.authLoginWithRes(response)//dispatchLoginSuccess se goi len App Reducer login, tranh viec login 2 lan\r\n      HUI.hideInMyModalFromProps(props) //hide modal if in modal\r\n      HUtils.runFuntion(\r\n        HUtils.get(props, \"fnList\"),\r\n        HConstant.Auth.dispatchLoginSuccess,\r\n        [response]\r\n      )\r\n    },\r\n  })\r\n\r\n  // useEffect(() => {\r\n  //   requestOTPRequest.request()\r\n  // }, [])\r\n\r\n  const TagRequestOTPRequest = requestOTPRequest.Tag\r\n\r\n  return (\r\n    <TagRequestOTPRequest store={requestOTPRequest}>\r\n      <div>\r\n        <div className=\"text-center mb-3\" style={{ fontSize: \"1.5rem\" }}>\r\n          {t(\"setting2fa:title.verify\")}\r\n        </div>\r\n        <div className=\"mb-1 text-dark-25\">\r\n          {requestOTPRequest.responseData?.FA2Description}\r\n        </div>\r\n        <InputGroup style={{ marginBottom: \"1rem\" }}>\r\n          <InputGroupText>\r\n            <MyIcon data=\"type:HiOutlineLockClosed\" />\r\n          </InputGroupText>\r\n          <Input\r\n            placeholder={t(\"setting2fa:generation.placeHolderVerify\")}\r\n            value={code}\r\n            disabled={requestVerify.isLoading}\r\n            autoFocus\r\n            onChange={ev => {\r\n              setCode(ev.currentTarget.value)\r\n            }}\r\n            onKeyDown={ev => {\r\n              HUtils.onKeyDownEnter(ev, () => {\r\n                requestVerify.request()\r\n              })\r\n            }}\r\n          />\r\n        </InputGroup>\r\n        <div className=\"d-grid\">\r\n          <Button\r\n            color=\"success\"\r\n            disabled={requestVerify.isLoading}\r\n            onClick={() => {\r\n              requestVerify.request()\r\n            }}\r\n          >\r\n            {t(\"btn.verify\")}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </TagRequestOTPRequest>\r\n  )\r\n}\r\n\r\nexport default SelectMethodOne2FA\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { useTranslation } from \"react-i18next\"\r\nimport { HCF } from \"@macashipo/mlib\"\r\nimport { MyIcon, MyUI } from \"src/core/components\"\r\nimport { HAuth, HConstant, HUI, HUtils } from \"src/core/helpers\"\r\nimport useRequestAxios from \"src/core/hook/useRequestAxios/useRequestAxios\"\r\nimport Setting2FAHelpers, { updateSettingByResponse, K } from \"../helpers\"\r\nimport SelectMethodOneVerify from \"./SelectMethodOneVerify\"\r\n// class B extends React.Component {\r\n//   render() {\r\n//     console.warn(\"render B\")\r\n//     return this.props.children\r\n//   }\r\n// }\r\n\r\n// const A = function (props) {\r\n//   console.warn(\"render A\")\r\n//   return props.children\r\n// }\r\n\r\n//input ben trong Component thi ko bi lost focus khi setState change, bên trong 1 function component thì có\r\n//van de la function do bi thay doi\r\nfunction SelectMethod2FA(props) {\r\n  // const dispatchLoginSuccess = HUtils.get(props, \"fnList.dispatchLoginSuccess\")\r\n  const [currentMethod, setCurrentMethod] = useState<any>(null)\r\n  const [canChangeMethod, setCanChangeMethod] = useState(false)\r\n  const [showChooseMethod, setShowChooseMethod] = useState(false)\r\n  const [listMethod, setListMethod] = useState<any[]>([])\r\n  const { t } = useTranslation()\r\n  const defaultMethodId = HAuth.getInfo2FA()[\"fa2_method\"]\r\n  const needEnable = HAuth.getInfo2FA()[\"fa2_needenable\"]\r\n  const needVerify = HAuth.getInfo2FA()[\"fa2_needverify\"]\r\n\r\n  //request khi needEnable\r\n  const requestUserSetting = useRequestAxios({\r\n    path: \"Aauth2FA\",\r\n    name: \"UserSetting\",\r\n    data: {\r\n      Id: HAuth.getInfo2FA()[\"user_id\"],\r\n      UniqueId:\r\n        Setting2FAHelpers.UniqueId || HAuth.getInfo2FA()[\"user_uniqueid\"],\r\n    },\r\n    cbSuccess: response => {\r\n      updateSettingByResponse(response)\r\n      setListMethod(Setting2FAHelpers.FA2Methods)\r\n      setShowChooseMethod(true)\r\n    },\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (needEnable === true) {\r\n      requestUserSetting.request()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const TagRequestUserSetting = requestUserSetting.Tag\r\n  let kMsgBottom = K.t_bottom_2fa_setup\r\n  if (needVerify === true) {\r\n    kMsgBottom = K.t_bottom_2fa_verify\r\n  }\r\n  const msgBottom = HCF.getCF(kMsgBottom) || Setting2FAHelpers[kMsgBottom]\r\n  return (\r\n    <div>\r\n      {showChooseMethod === true && currentMethod === null ? (\r\n        <div>\r\n          <div className=\"text-center mb-3\" style={{ fontSize: \"1.5rem\" }}>\r\n            {needEnable === true\r\n              ? t(\"setting2fa:title.setup\")\r\n              : t(\"setting2fa:title.verify\")}\r\n          </div>\r\n          <div className=\"mb-1 text-dark-25\">\r\n            {t(\"setting2fa:des.choosemethod\")}\r\n          </div>\r\n          <div className=\"list-group\">\r\n            {listMethod != null &&\r\n              listMethod.length > 0 &&\r\n              listMethod.map((v: any, i) => {\r\n                return (\r\n                  <div\r\n                    key={i}\r\n                    className=\"list-group-item list-group-item-action cursor-pointer\"\r\n                    onClick={() => {\r\n                      if (\r\n                        (needVerify && v.IsEnable === true) ||\r\n                        (needEnable && v.IsEnable !== true)\r\n                      ) {\r\n                        Setting2FAHelpers.seletedMethod = v\r\n                        setCurrentMethod(v)\r\n                        setCanChangeMethod(true)\r\n                      } else {\r\n                        HUI.showToast(\"Something went wrong\", {\r\n                          type: \"warning\",\r\n                        })\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div className=\"d-flex flex-row\">\r\n                      <div\r\n                        className=\"d-flex flex-row align-items-center justify-content-center me-3\"\r\n                        style={{ width: \"30px\", overflow: \"hidden\" }}\r\n                      >\r\n                        <MyIcon\r\n                          size={30}\r\n                          data={HUtils.get(v, \"Configs.Icon\") || \"fa fa-lock\"}\r\n                          style={{ fontSize: \"30px\", color: \"#285988\" }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"d-flex flex-column flex-grow-1\">\r\n                        <div>{v.FA2MethodName}</div>\r\n                        <div className=\"font-size-sm text-dark-25\">\r\n                          {HUtils.get(v, \"Configs.Instruction\")}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n          </div>\r\n        </div>\r\n      ) : needVerify && defaultMethodId ? (\r\n        <SelectMethodOneVerify\r\n          defaultMethodId={defaultMethodId}\r\n          currentMethod={currentMethod}\r\n          fnList={{\r\n            onUpdate: (data: any) => {\r\n              console.warn(\"onUpdate:\", data)\r\n              setListMethod(data.FA2Methods)\r\n              setCanChangeMethod(\r\n                HUtils.get(data, \"OTPConfigs.CanChangeMethod\") || false\r\n              )\r\n            },\r\n            dispatchLoginSuccess: response => {\r\n              HUtils.runFuntion(\r\n                HUtils.get(props, \"fnList\"),\r\n                HConstant.Auth.dispatchLoginSuccess,\r\n                [response]\r\n              )\r\n            },\r\n          }}\r\n        />\r\n      ) : (\r\n        <TagRequestUserSetting store={requestUserSetting}>\r\n          {currentMethod != null && needEnable === true ? (\r\n            <div>\r\n              <MyUI\r\n                type=\"setting2fa_generation2fa\"\r\n                fnList={{\r\n                  dispatchLoginSuccess: response => {\r\n                    HUtils.runFuntion(\r\n                      HUtils.get(props, \"fnList\"),\r\n                      HConstant.Auth.dispatchLoginSuccess,\r\n                      [response]\r\n                    )\r\n                  },\r\n                  backSelectMethod: () => {\r\n                    setCurrentMethod(null)\r\n                  },\r\n                }}\r\n              ></MyUI>\r\n            </div>\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n        </TagRequestUserSetting>\r\n      )}\r\n      {canChangeMethod === true &&\r\n        (showChooseMethod !== true ||\r\n          (currentMethod !== null && needVerify === true) ||\r\n          (currentMethod !== null && needEnable === true)) && (\r\n          <div>\r\n            <hr />\r\n            <div className=\"font-weight-bolder\">Having problem?</div>\r\n            <div\r\n              className=\"text-link cursor-pointer\"\r\n              onClick={() => {\r\n                setShowChooseMethod(true)\r\n                setCurrentMethod(null)\r\n              }}\r\n            >\r\n              Change authentication method\r\n            </div>\r\n          </div>\r\n        )}\r\n      {msgBottom && <MyUI type=\"html\" html={msgBottom} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SelectMethod2FA\r\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { HApi, HUtils } from \"src/core/helpers\"\r\nimport { MyLoading } from \"src/core/components\"\r\nfunction useMergeState(initialState) {\r\n  const [state, setState] = useState(initialState)\r\n  const setMergedState = newState =>\r\n    setState(prevState => Object.assign({}, prevState, newState))\r\n  return [state, setMergedState]\r\n}\r\n\r\ninterface ConfigRequest {\r\n  requestAfterInit?: boolean\r\n  path?: any\r\n  name?: any\r\n  url?: any\r\n  method?: any\r\n  data?: any\r\n  cbSuccess?: (response: any) => void\r\n}\r\n\r\nfunction useRequestAxios(configRequest: ConfigRequest) {\r\n  const [state, setState] = useMergeState({\r\n    isLoading: false,\r\n    error: null,\r\n    response: null,\r\n  })\r\n  const Tag = useRef(props => {\r\n    const store = props.store || {}\r\n    // console.warn(\"state:\", store)\r\n    if (store.response) {\r\n      return props.children\r\n    } else if (store.isLoading) {\r\n      const uiLoading = (\r\n        <div>\r\n          <MyLoading />\r\n        </div>\r\n      )\r\n      return uiLoading\r\n    } else if (store.error != null) {\r\n      let _msg = HUtils.get(store.error, \"msg\") || \"Error unkown!\"\r\n      return (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {_msg}\r\n        </div>\r\n      )\r\n    } else {\r\n      if (props.uiEmpty) {\r\n        return props.uiEmpty\r\n      }\r\n      return <div>...</div>\r\n    }\r\n  })\r\n  const request = () => {\r\n    setState({ isLoading: true })\r\n    HApi.apiPost(configRequest)\r\n      .then(response => {\r\n        if (configRequest.cbSuccess) {\r\n          configRequest.cbSuccess(response)\r\n        }\r\n        setState({\r\n          isLoading: false,\r\n          error: null,\r\n          response: response,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        setState({\r\n          isLoading: false,\r\n          error: error,\r\n        })\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (configRequest && configRequest.requestAfterInit === true) {\r\n      request()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return {\r\n    isLoading: state.isLoading,\r\n    error: state.error,\r\n    response: state.response,\r\n    responseData: state.response != null ? state.response.Data : null,\r\n    request,\r\n    test: a => {\r\n      console.warn(a, \"state:\", state)\r\n    },\r\n    Tag: Tag.current,\r\n  }\r\n}\r\n\r\nexport default useRequestAxios\r\n","export function warn() {\n  if (console && console.warn) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'string') args[0] = \"react-i18next:: \".concat(args[0]);\n\n    (_console = console).warn.apply(_console, args);\n  }\n}\nvar alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn.apply(void 0, args);\n}\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, function () {\n    if (i18n.isInitialized) {\n      cb();\n    } else {\n      var initialized = function initialized() {\n        setTimeout(function () {\n          i18n.off('initialized', initialized);\n        }, 0);\n        cb();\n      };\n\n      i18n.on('initialized', initialized);\n    }\n  });\n}\nexport function hasLoadedNamespace(ns, i18n) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n\n  var lng = i18n.languages[0];\n  var fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  var lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n\n  var loadNotPending = function loadNotPending(l, n) {\n    var loadState = i18n.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n    return loadState === -1 || loadState === 2;\n  };\n\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context';\nimport { warnOnce, loadNamespaces, hasLoadedNamespace } from './utils';\nexport function useTranslation(ns) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var i18nFromProps = props.i18n;\n\n  var _ref = useContext(I18nContext) || {},\n      i18nFromContext = _ref.i18n,\n      defaultNSFromContext = _ref.defaultNS;\n\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n\n    var notReadyT = function notReadyT(k) {\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n\n    var retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n\n  var i18nOptions = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), i18n.options.react), props);\n\n  var useSuspense = i18nOptions.useSuspense,\n      keyPrefix = i18nOptions.keyPrefix;\n  var namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  var ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(function (n) {\n    return hasLoadedNamespace(n, i18n, i18nOptions);\n  });\n\n  function getT() {\n    return i18n.getFixedT(null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n\n  var _useState = useState(getT),\n      _useState2 = _slicedToArray(_useState, 2),\n      t = _useState2[0],\n      setT = _useState2[1];\n\n  var isMounted = useRef(true);\n  useEffect(function () {\n    var bindI18n = i18nOptions.bindI18n,\n        bindI18nStore = i18nOptions.bindI18nStore;\n    isMounted.current = true;\n\n    if (!ready && !useSuspense) {\n      loadNamespaces(i18n, namespaces, function () {\n        if (isMounted.current) setT(getT);\n      });\n    }\n\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return function () {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(function (e) {\n        return i18n.off(e, boundReset);\n      });\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(function (e) {\n        return i18n.store.off(e, boundReset);\n      });\n    };\n  }, [i18n, namespaces.join()]);\n  var isInitial = useRef(true);\n  useEffect(function () {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n\n    isInitial.current = false;\n  }, [i18n]);\n  var ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(function (resolve) {\n    loadNamespaces(i18n, namespaces, function () {\n      resolve();\n    });\n  });\n}"],"sourceRoot":""}