{"version":3,"sources":["libs/ReactBootstrapTable/Const.js","libs/ReactBootstrapTable/util.js","libs/ReactBootstrapTable/filters/Date.js","libs/ReactBootstrapTable/filters/Text.js","libs/ReactBootstrapTable/filters/Regex.js","libs/ReactBootstrapTable/filters/Select.js","libs/ReactBootstrapTable/filters/Number.js","libs/ReactBootstrapTable/TableHeaderColumn.js","libs/ReactBootstrapTable/SelectRowHeaderColumn.js","libs/ReactBootstrapTable/ExpandRowHeaderColumn.js","libs/ReactBootstrapTable/TableHeader.js","libs/ReactBootstrapTable/TableFooter.js","libs/ReactBootstrapTable/TableRow.js","libs/ReactBootstrapTable/TableColumn.js","libs/ReactBootstrapTable/Editor.js","libs/ReactBootstrapTable/Notification.js","libs/ReactBootstrapTable/TableEditColumn.js","libs/ReactBootstrapTable/ExpandComponent.js","libs/ReactBootstrapTable/TableBody.js","libs/ReactBootstrapTable/pagination/PageButton.js","libs/ReactBootstrapTable/pagination/SizePerPageDropDown.js","libs/ReactBootstrapTable/pagination/PaginationList.js","libs/ReactBootstrapTable/toolbar/InsertModalHeader.js","libs/ReactBootstrapTable/toolbar/InsertModalFooter.js","libs/ReactBootstrapTable/toolbar/InsertModalBody.js","libs/ReactBootstrapTable/toolbar/InsertModal.js","libs/ReactBootstrapTable/toolbar/InsertButton.js","libs/ReactBootstrapTable/toolbar/DeleteButton.js","libs/ReactBootstrapTable/toolbar/ExportCSVButton.js","libs/ReactBootstrapTable/toolbar/ShowSelectedOnlyButton.js","libs/ReactBootstrapTable/toolbar/SearchField.js","libs/ReactBootstrapTable/toolbar/ClearSearchButton.js","libs/ReactBootstrapTable/toolbar/ToolBar.js","libs/ReactBootstrapTable/TableFilter.js","libs/ReactBootstrapTable/store/TableDataStore.js","libs/ReactBootstrapTable/csv_export_util.js","libs/ReactBootstrapTable/Filter.js","libs/ReactBootstrapTable/BootstrapTable.js","libs/ReactBootstrapTable/toolbar/ButtonGroup.js","libs/ReactBootstrapTable/index.js","helpers/Flows/TableFooter.js","modules/adminpanel/MyUI/Types/admintable_table.js","modules/adminpanel/MyUI/Types/admintable_table_details.js","../node_modules/events/events.js","libs/ReactBootstrapTable/filesaver.js"],"names":["CONST_VAR","SORT_DESC","SORT_ASC","AWAIT_BEFORE_CELL_EDIT","SIZE_PER_PAGE","NEXT_PAGE","NEXT_PAGE_TITLE","LAST_PAGE","LAST_PAGE_TITLE","PRE_PAGE","PRE_PAGE_TITLE","FIRST_PAGE","FIRST_PAGE_TITLE","PAGE_START_INDEX","ROW_SELECT_BG_COLOR","ROW_SELECT_NONE","ROW_SELECT_SINGLE","ROW_SELECT_MULTI","CELL_EDIT_NONE","CELL_EDIT_CLICK","CELL_EDIT_DBCLICK","SIZE_PER_PAGE_LIST","PAGINATION_SIZE","PAGINATION_POS_TOP","PAGINATION_POS_BOTTOM","PAGINATION_POS_BOTH","TOOLBAR_POS_TOP","TOOLBAR_POS_BOTTOM","TOOLBAR_POS_BOTH","NO_DATA_TEXT","SHOW_ONLY_SELECT","SHOW_ALL","EXPORT_CSV_TEXT","INSERT_BTN_TEXT","DELETE_BTN_TEXT","SAVE_BTN_TEXT","CLOSE_BTN_TEXT","FILTER_DELAY","SCROLL_TOP","SCROLL_BOTTOM","FILTER_TYPE","TEXT","REGEX","SELECT","NUMBER","DATE","CUSTOM","ARRAY","FILTER_COND_EQ","FILTER_COND_LIKE","EXPAND_BY_ROW","EXPAND_BY_COL","REMOTE_SORT","REMOTE_PAGE","REMOTE_CELL_EDIT","REMOTE_INSERT_ROW","REMOTE_DROP_ROW","REMOTE_FILTER","REMOTE_SEARCH","REMOTE_EXPORT_CSV","INSERT_FAIL_INDICATOR","DEFAULT_CSV_SEPARATOR","CSV_STRING_TYPE","CSV_NUMBER_TYPE","AUTO_COLLAPSE_WHEN_SORT","AUTO_COLLAPSE_WHEN_SEARCH","AUTO_COLLAPSE_WHEN_FILTER","REMOTE","renderReactSortCaret","order","isBootstrap4","orderClass","classSet","Const","className","style","margin","isFunction","obj","getScrollBarWidth","inner","document","createElement","width","height","outer","position","top","left","visibility","overflow","appendChild","body","w1","getBoundingClientRect","w2","clientWidth","removeChild","canUseDOM","window","getNormalizedPage","pageStartIndex","page","this","getFirstPage","undefined","Math","abs","version","isSelectRowDefined","mode","renderColGroup","columns","selectRow","expandColumnOptions","selectRowHeader","expandRowHeader","columnWidth","minWidth","hideSelectColumn","expandColumnVisible","theader","map","column","i","display","hidden","isNaN","indexOf","expandColumnBeforeSelectColumn","legalComparators","dateParser","d","getFullYear","getMonth","slice","getDate","DateFilter","props","dateComparators","filter","bind","onChangeComparator","defaultDate","defaultValue","date","Date","event","inputDate","value","comparator","target","filterHandler","optionTags","push","length","dateFilterComparator","dateValue","setDefaultDate","setState","isPlaceholderSelected","filterDateObj","ref","n","onChange","getComparatorOptions","type","Component","defaultProps","TextFilter","timeout","state","clearTimeout","filterValue","setTimeout","delay","filterText","inputText","nextProps","applyFilter","placeholder","columnName","RegexFilter","filterRegx","SelectFilter","options","hasOwnProperty","currentSelectValue","selectInput","prevProps","needFilter","options1","options2","keys","Object","k","optionsEquals","filterOption","selectText","selectTextValue","withoutEmptyOption","key","selectClass","getOptions","NumberFilter","numberComparators","number","onChangeNumber","onChangeNumberSet","numberFilterComparator","numberFilter","filterObj","withoutEmptyComparatorOption","withoutEmptyNumberOption","getNumberOptions","TableHeaderColumn","handleColumnClick","isOnlyHead","dataSort","sort","defaultASC","onSort","dataField","handleFilter","reset","cleanFiltered","emitter","currentFilter","getFilters","refs","headerText","children","Text","textFilter","Regex","regexFilter","Select","selectFilter","dateFilter","elm","getElement","customFilterParameters","React","cloneElement","customFilter","headerCol","setAttribute","color","defaultCaret","sortCaret","sortClass","dataAlign","headerAlign","headerTitle","sortIndicator","caretRender","customSortClass","sortHeaderColumnClassName","thStyle","textAlign","Util","renderDefaultCaret","classes","attr","title","node","onClick","rowSpan","colSpan","e","stopPropagation","val","filterTypeArray","dataFormat","csvFormat","csvHeader","csvFieldType","isKey","editable","hiddenOnInsert","searchable","columnTitle","sortFunc","columnClassName","editColumnClassName","invalidEditColumnClassName","filterFormatted","formatExtraData","sortFuncExtraData","expandable","tdAttr","editTdAttr","tdStyle","keyValidator","SelectRowHeaderColumn","rowCount","ExpandRowHeaderColumn","toggleExpandAllChilds","expandedColumnHeaderComponent","noAnyExpand","expandAll","expandedHeaderComponent","ExpandedColumnHeaderComponent","anyExpand","Checkbox","update","checked","ReactDOM","findDOMNode","indeterminate","TableHeader","getHeaderColGrouop","headerGrp","childNodes","sortList","condensed","bordered","containerClasses","headerContainerClass","customTableClasses","Utils","tableClasses","tableHeaderClass","max","Children","row","Number","rows","rowKey","renderSelectRowHeader","forEach","field","enableSort","result","sortObj","sortField","getSortOrder","rowIndex","trs","indexRow","container","colGroups","header","customComponent","CustomComponent","isSelectAll","disabled","onSelectAllRow","rowSelectType","TableFooter","tableFooterClass","footerItem","footerItemIndex","footer","renderSelectionOrExpandCol","columnItem","colIndex","footerData","footerObj","item","columnIndex","thAlignment","align","formatter","footerFormatterReturnData","label","TableRow","rowClick","index","cellIndex","onRowClick","unselectableRow","isSelected","onSelectRow","onExpandRow","dbClickToEdit","clickToSelect","clickToSelectAndEditCell","clickNum","expandRow","rowDoubleClick","tagName","onRowDoubleClick","rowMouseOut","onRowMouseOut","rowMouseOver","onRowMouseOver","backgroundColor","selectRowClass","bgColor","trCss","onMouseOver","onMouseOut","onDoubleClick","TableColumn","handleCellEdit","cellEdit","selection","empty","getSelection","removeAllRanges","err","onEdit","rIndex","currentTarget","handleCellClick","handleKeyDown","keyBoardNav","onKeyDown","nextState","isLastCol","shouldUpdated","isFocus","toString","cell","dom","focus","blur","attrs","tabIndex","customNavStyle","withoutTabIndex","opts","cusmtStyle","editor","format","editorClass","ignoreEditable","trim","text","values","textKey","valueKey","Array","isArray","option","saveBtn","cols","keyUpHandler","keyCode","replace","split","defaultChecked","notice","msg","titleHTML","bodyHTML","Alert","error","html","effect","TableEditColumn","handleKeyPress","_getCheckBoxValue","blurToSave","validator","completeEdit","onTab","preventDefault","parentElement","firstChild","handleBlur","blurToEscape","handleCustomUpdate","notifyToastr","message","toastr","beforeShowError","handleClick","getInputRef","userRef","inputRef","Error","getHandleKeyPress","customHandler","getHandleBlur","timeouteClear","fieldValue","focusInEditor","shakeEditor","ts","valid","checkVal","responseType","isValid","notification","invalidColumnClassName","customEditor","customStyleWithNav","onBlur","console","warn","cellEditor","customEditorProps","valueShortCircuit","customEditorParameters","customStyle","ExpandComponent","TableBody","handleCellKeyDown","lastEditCell","offset","onNavigateCell","selectedRowKeys","x","y","enterToEdit","enterToExpand","enterToSelect","handleEditCell","handleClickCell","data","keyField","handleSelectRow","handleRowMouseOut","targetRow","handleRowMouseOver","handleRowClick","_isExpandColumnVisible","handleRowDoubleClick","selectedRow","handleSelectRowColumChange","expandBy","expandableRow","clickToExpand","onlyOneExpanding","selectRowAndExpand","expanding","isRowExpanding","onExpand","action","defineSelectRow","handleCompleteEditCell","nextEditableCell","nextRIndex","nextCIndex","stateObj","currEditCell","rid","cid","selected","cIndex","readOnly","name","newVal","onEditCell","cancelEditCell","handleClickonSelectColumn","isSelect","unselectable","trStyle","striped","hover","tableBodyClass","noneditableRows","nonEditableRows","tableHeader","inputType","enableKeyBoardNav","customEditAndNavStyle","customStyleOnEditCell","ExpandColumnCustomComponent","expandColumnComponent","expandColSpan","col","tableRows","r","tableColumns","_","allCol","isFocusCell","editAttrs","editClassName","formattedValue","columnChild","tdClassName","tdStyles","isValidElement","dangerouslySetInnerHTML","__html","_attrs","disable","selectRowColumn","renderSelectRowColumn","expandedRowColumn","renderExpandRowColumn","haveExpandContent","isExpanding","hideRowOnExpand","trClassName","expandParentClass","enableCellEdit","expandBodyClass","expandRowBgColor","expandComponent","withoutNoDataText","c","noDataText","bodyContainerClass","tbody","isExpandableRow","isExpanded","content","PageButton","pageBtnClick","changePage","pageNumber","active","href","SizePerPageDropDown","open","variation","btnContextual","currSizePerPage","openClass","id","role","renderOptions","PaginationList","prePage","currPage","nextPage","lastPage","firstPage","sizePerPage","keepSizePerPageState","parseInt","closeDropDown","changeSizePerPage","pageNum","selectSize","totalPages","ceil","dataSize","onSizePerPageList","toggleDropDown","sizePerPageList","paginationShowsTotal","paginationPanel","hidePageListOnlyOnePage","pageBtns","makePage","dropdown","makeDropDown","start","to","min","total","components","totalText","sizePerPageDropdown","pageList","hidePageList","marginTop","dropdownProps","sizePerPageText","sizePerPageDropDown","hideSizePerPage","String","sizePerPageOptions","_sizePerPage","pageText","onMouseDown","isCustomPagingPanel","pages","getPages","isStart","isEnd","alwaysShowAllBtns","isActive","isDisabled","nextPageTitle","prePageTitle","firstPageTitle","lastPageTitle","getLastPage","classname","endPage","startPage","floor","paginationSize","withFirstAndLast","InsertModalHeader","handleCloseBtnClick","onModalClose","beforeClose","closeBtn","titleText","hideClose","renderContent","InsertModalFooter","handleSaveBtnClick","beforeSave","onSave","saveBtnText","closeBtnText","closeBtnContextual","saveBtnContextual","closeBtnClass","saveBtnClass","InsertModalBody","newRow","inputVal","autoValue","time","getTime","customInsertEditor","getFieldValue","validateState","fieldElement","InsertModal","handleSave","headerComponent","footerComponent","bodyComponent","bodyAttr","eventProps","InsertButton","btnGlyphicon","btnText","rest","DeleteButton","ExportCSVButton","ShowSelectedOnlyButton","toggle","showAllText","showOnlySelectText","SearchField","onKeyUp","zIndex","ClearSearchButton","ToolBar","displayCommonMessage","insertFailIndicator","validateNewRow","onAddRow","afterHandleSaveBtnClick","isInsertModalOpen","handleModalClose","handleModalOpen","handleShowOnlyToggle","showSelected","onShowOnlySelected","handleDropRowBtnClick","onDropRow","handleDebounce","func","wait","immediate","callNow","apply","appy","handleKeyUp","persist","debounceCallback","handleExportCSV","onExportCSV","handleClearBtnClick","seachInput","setValue","onSearch","modalClassName","searchDelayTime","getValue","setSearchInput","tempMsg","isValidKey","modalSeq","toolbar","btnGroup","insertBtn","deleteBtn","exportCSVBtn","showSelectedOnlyBtn","enableInsert","renderCustomBtn","insertText","enableDelete","deleteText","enableShowOnlySelected","enableExportCSV","exportCSVText","renderSearchPanel","searchPanel","searchField","clearBtn","modal","renderInsertRowModal","toolBar","openInsertModal","closeInsertModal","dropRow","showOnlyToogle","exportCSV","search","searchPosition","enableSearch","classNames","clearSearch","clearSearchBtn","defaultSearch","searchPlaceholder","clearBtnClick","insertModalHeader","insertModalBody","insertModalFooter","insertModal","Modal","isOpen","ariaHideApp","onRequestClose","contentLabel","cb","params","componentName","eventName","element","saveText","closeText","TableFilter","onFilter","paddingLeft","paddingRight","filterField","size","borderBottomStyle","TableDataStore","getCurrentDisplayData","find","filteredData","isOnFilter","searchText","pageObj","showOnlySelected","enablePagination","isPagination","colInfos","remote","multiColumnSearch","strictSearch","multiColumnSort","_refresh","reverse","sortFieldInHistory","unshift","skipSorting","currentDisplayData","_sort","end","fieldName","rowKeyCache","newObj","_search","source","_filter","targetVal","filterVal","filterDate","filterMonth","filterYear","targetDate","targetMonth","targetYear","RegExp","test","callbackInfo","cond","callback","callbackParameters","toLowerCase","filterNumber","filterRegex","filterCustom","filterArray","searchTextArray","searchTermCount","multipleTerms","nonStrictMultiCol","nonStrictSingleCol","searchTerms","keysLength","colInfo","j","splice","arr","a","b","sortDetails","isDesc","valueA","valueB","localeCompare","_data","saveAs","require","filename","separator","noAutoBOM","excludeCSVHeader","dataString","headCells","join","extraData","Blob","Filter","filterType","condition","hasValue","prop","emit","EventEmitter","BootstrapTable","handleSort","autoCollapse","onSortChange","store","setSortInfo","allowRemote","get","newState","handleExpandRow","_adjustHeaderWidth","handlePaginationData","onPageChange","emptyTable","isEmpty","handleMouseLeave","onMouseLeave","handleMouseEnter","onMouseEnter","handleNavigateCell","offSetX","offSetY","pagination","getColInfos","visibleRowSize","visibleColumnSize","clickToNav","handleSelectAllRow","getKeyField","onSelectAll","onlyUnselectVisible","getRowByKey","currentRowKeys","concat","setSelectedRowKey","handleShowOnlySelected","ignoreNonSelected","currSelected","getSelectedRowKeys","onSelect","beforeSaveCell","getColumnsDescription","invalid","editCell","handleAddRow","isAsync","afterHandleAddRow","errMsg","afterAddRowCB","afterInsertRow","add","_handleAfterAddingRow","getPageByRowKey","currentData","findIndex","handleDropRow","rowKeys","dropRowKeys","handleConfirmDeleteRow","deleteRow","handleFilterData","onFilterChange","afterColumnFilter","getDataIgnoringPagination","getSortInfo","csvFileName","onExportToCSV","exportCSVSeparator","export","csvFormatExtraData","exportCSVUtil","handleSearch","onSearchChange","afterSearch","_scrollTop","scrollTop","scrollHeight","_scrollHeader","scrollLeft","_scrollFooter","isIE","documentMode","isVerticalScroll","initTable","copy","_adjustHeight","_adjustTable","expandedKeys","expandAllChilds","getAllRowkey","getTableData","nextDataFields","includes","isKeyFieldDefined","removeAllListeners","on","reduce","prev","curr","setProps","sortName","defaultSortName","sortOrder","defaultSortOrder","isChangedPage","columnDescription","getColumnDescription","only","clean","setData","isRemoteDataSource","currentOptions","isSearching","isFiltering","addEventListener","removeEventListener","afterTableComplete","maxHeight","renderPagination","renderToolBar","tableFilter","renderTableFilter","tableFooter","renderTableFooter","paginationPosition","showPaginationOnTop","showPaginationOnBottom","toolbarPosition","showToolbarOnTop","showToolbarOnBottom","customRender","uiCustomRender","containerClass","containerStyle","table","tableContainerClass","tableStyle","headerStyle","isFiltered","bodyStyle","allRowKeys","defaultSelectRowKeys","match","noFound","unSelectableCnt","cleanSortInfo","onCellEdit","afterSaveCell","edit","addAtBegin","onDeleteRow","afterDeleteRow","remove","currLastPage","getDataNum","fetchInfo","dataTotalSize","ignoreSinglePage","insertRow","print","printToolBar","columnFilter","showStickyColumn","printable","bodyHeader","firstRow","isScroll","parentNode","scrollBarWidth","cells","computedStyle","getComputedStyle","parseFloat","borderRightWidth","borderLeftWidth","lastPadding","child","offsetHeight","atTheBeginning","renderAlert","ButtonGroup","sizeClass","FlowGetMorePropsTableToShowFooter","fnList","_more","_showTotal","fnListMyPage","fnGetConfigPageTable","KConfigPageTable","showTotal","_footerData","FlowGetFooterData","_cols","fnGetTableCols","_configTotal","configTotal","_defaultAlign","_defaultFormatNumber","HCF","getCF","KConfigApp","numeralFormat","_configColTotal","_prefix","_suffix","defaultAlign","defaultFormatNumber","configColTotal","prefix","suffix","_styleAllCol","styleAllCol","_dataTotal","fnGetDataTotal","_item","_dataItem","_keyOfItem","ki","_keyKI","_index","kc","_keyKC","_colConfig","_styleOfCol","_colPrefix","_colSuffix","tableData","_value","fShow","_format","HFormat","isHide","WrapContainer","styled","div","fixHeightTable","MUIATTable","getClassName","_configPageTable","cfp","classnames","classNameTable","getHasExpand","FlowGetClassNameTable","hasExpand","getHasPagingRemote","hasPagingRemote","getConfigSelectRow","configSelectRow","getOptionsTable","getData","_optionsTable","log","onePage","_configPagination","_pageSize","go","FlowUpdateConfigInLocalStorageOfPageWithKey","configPageExt","_oneFilters","updateCurrentSort","optionsTable","_pageCurrent","Id","getDataList","updateOffsetTopOfTable","offsetTopOfTable","K","fixHeightScrollTable","_height","getShowPagination","_showPagination","getMoreProps","moreProps","_moreProps","_selectRow","renderExpand","_totalItems","_morePropsForFooter","renderTableCols","_ui","_defaultCol","canSort","_itemCol","_header","colProps","assign","componentHeader","uiCols","_currentSwitchView","fnGetCurrentSwitchView","info","countReloadList","offsetTop","_cTable","HUtils","runFuntion","kfnGetDataTableFilterd","getTableDataIgnorePaging","kfnGetComponentTable","cleanSort","_classRow","IsDeleted","tableProps","i18next","t","MUIATTableDetailOne","configExpand","_requestData","queryFromParent","minHeight","configPage","APIName","controller","Config","screenCode","RequestData","ScreenCode","Title","titleField","UIType","fnGetIsInTableExpand","MUIATTableDetails","useState","keyTime","setKeyTime","allExpand","useForceUpdate","FlowGetAllExpandItemOfRow","v","V","TableExpand_IsShowExpandItem","configItemExpand","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","args","Function","prototype","call","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","init","module","exports","once","Promise","resolve","reject","errorListener","removeListener","resolver","arguments","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","create","newListener","warned","w","count","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","listenerCount","wrapListener","arg","defineProperty","enumerable","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","len","listeners","addListener","prependListener","prependOnceListener","list","originalListener","shift","pop","spliceOne","off","rawListeners","eventNames","view","navigator","userAgent","doc","get_URL","URL","webkitURL","save_link","createElementNS","can_use_save_link","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","ex","setImmediate","revoke","file","revokeObjectURL","auto_bom","blob","fromCharCode","FileSaver","no_auto_bom","object_url","filesaver","force","dispatch_all","event_types","dispatch","readyState","INIT","createObjectURL","download","MouseEvent","dispatchEvent","click","DONE","FileReader","reader","onloadend","url","location","readAsDataURL","fs_error","FS_proto","msSaveOrOpenBlob","abort","WRITING","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend"],"mappings":"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","file":"static/js/9.7509fa4c.chunk.js","sourcesContent":["const CONST_VAR = {\n  SORT_DESC: 'desc',\n  SORT_ASC: 'asc',\n  AWAIT_BEFORE_CELL_EDIT: 1,\n  SIZE_PER_PAGE: 10,\n  NEXT_PAGE: '>',\n  NEXT_PAGE_TITLE: 'next page',\n  LAST_PAGE: '>>',\n  LAST_PAGE_TITLE: 'last page',\n  PRE_PAGE: '<',\n  PRE_PAGE_TITLE: 'previous page',\n  FIRST_PAGE: '<<',\n  FIRST_PAGE_TITLE: 'first page',\n  PAGE_START_INDEX: 1,\n  ROW_SELECT_BG_COLOR: '',\n  ROW_SELECT_NONE: 'none',\n  ROW_SELECT_SINGLE: 'radio',\n  ROW_SELECT_MULTI: 'checkbox',\n  CELL_EDIT_NONE: 'none',\n  CELL_EDIT_CLICK: 'click',\n  CELL_EDIT_DBCLICK: 'dbclick',\n  SIZE_PER_PAGE_LIST: [ 10, 25, 30, 50 ],\n  PAGINATION_SIZE: 5,\n  PAGINATION_POS_TOP: 'top',\n  PAGINATION_POS_BOTTOM: 'bottom',\n  PAGINATION_POS_BOTH: 'both',\n  TOOLBAR_POS_TOP: 'top',\n  TOOLBAR_POS_BOTTOM: 'bottom',\n  TOOLBAR_POS_BOTH: 'both',\n  NO_DATA_TEXT: 'There is no data to display',\n  SHOW_ONLY_SELECT: 'Show Selected Only',\n  SHOW_ALL: 'Show All',\n  EXPORT_CSV_TEXT: 'Export to CSV',\n  INSERT_BTN_TEXT: 'New',\n  DELETE_BTN_TEXT: 'Delete',\n  SAVE_BTN_TEXT: 'Save',\n  CLOSE_BTN_TEXT: 'Close',\n  FILTER_DELAY: 500,\n  SCROLL_TOP: 'Top',\n  SCROLL_BOTTOM: 'Bottom',\n  FILTER_TYPE: {\n    TEXT: 'TextFilter',\n    REGEX: 'RegexFilter',\n    SELECT: 'SelectFilter',\n    NUMBER: 'NumberFilter',\n    DATE: 'DateFilter',\n    CUSTOM: 'CustomFilter',\n    ARRAY: 'ArrayFilter'\n  },\n  FILTER_COND_EQ: 'eq',\n  FILTER_COND_LIKE: 'like',\n  EXPAND_BY_ROW: 'row',\n  EXPAND_BY_COL: 'column',\n  REMOTE_SORT: 'sort',\n  REMOTE_PAGE: 'pagination',\n  REMOTE_CELL_EDIT: 'cellEdit',\n  REMOTE_INSERT_ROW: 'insertRow',\n  REMOTE_DROP_ROW: 'dropRow',\n  REMOTE_FILTER: 'filter',\n  REMOTE_SEARCH: 'search',\n  REMOTE_EXPORT_CSV: 'exportCSV',\n  INSERT_FAIL_INDICATOR: 'Validation errors, please check!',\n  DEFAULT_CSV_SEPARATOR: ',',\n  CSV_STRING_TYPE: 'string',\n  CSV_NUMBER_TYPE: 'number',\n  AUTO_COLLAPSE_WHEN_SORT: false,\n  AUTO_COLLAPSE_WHEN_SEARCH: false,\n  AUTO_COLLAPSE_WHEN_FILTER: false\n};\n\nCONST_VAR.REMOTE = {};\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_SORT] = false;\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_PAGE] = false;\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_CELL_EDIT] = false;\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_INSERT_ROW] = false;\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_DROP_ROW] = false;\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_FILTER] = false;\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_SEARCH] = false;\nCONST_VAR.REMOTE[CONST_VAR.REMOTE_EXPORT_CSV] = false;\n\nexport default CONST_VAR;\n","/* eslint react/display-name: 0 */\nimport React from 'react';\nimport Const from './Const';\nimport classSet from 'classnames';\n\nexport default {\n  renderReactSortCaret(order, isBootstrap4) {\n    let orderClass;\n    if (isBootstrap4) {\n      orderClass = classSet('fa', {\n        'fa-sort-asc': order === Const.SORT_ASC,\n        'fa-sort-desc': order === Const.SORT_DESC\n      });\n      return (\n        <span className={ orderClass } style={ { margin: '10px 5px' } }></span>\n      );\n    } else {\n      orderClass = classSet('order', {\n        'dropup': order === Const.SORT_ASC\n      });\n      return (\n        <span className={ orderClass }>\n          <span className='caret' style={ { margin: '10px 5px' } }></span>\n        </span>\n      );\n    }\n  },\n\n  isFunction(obj) {\n    return obj && (typeof obj === 'function');\n  },\n\n  getScrollBarWidth() {\n    const inner = document.createElement('p');\n    inner.style.width = '100%';\n    inner.style.height = '200px';\n\n    const outer = document.createElement('div');\n    outer.style.position = 'absolute';\n    outer.style.top = '0px';\n    outer.style.left = '0px';\n    outer.style.visibility = 'hidden';\n    outer.style.width = '200px';\n    outer.style.height = '150px';\n    outer.style.overflow = 'hidden';\n    outer.appendChild(inner);\n\n    document.body.appendChild(outer);\n    const w1 = inner.getBoundingClientRect().width;\n    outer.style.overflow = 'scroll';\n    let w2 = inner.getBoundingClientRect().width;\n\n    if (w1 === w2) w2 = outer.clientWidth;\n\n    document.body.removeChild(outer);\n\n    return (w1 - w2);\n  },\n\n  canUseDOM() {\n    return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  },\n\n  // We calculate an offset here in order to properly fetch the indexed data,\n  // despite the page start index not always being 1\n  getNormalizedPage(pageStartIndex, page) {\n    pageStartIndex = this.getFirstPage(pageStartIndex);\n    if (page === undefined) page = pageStartIndex;\n    const offset = Math.abs(Const.PAGE_START_INDEX - pageStartIndex);\n    return page + offset;\n  },\n\n  getFirstPage(pageStartIndex) {\n    return pageStartIndex !== undefined ? pageStartIndex : Const.PAGE_START_INDEX;\n  },\n\n  isBootstrap4(version) {\n    return version === '4';\n  },\n\n  isSelectRowDefined(mode) {\n    return mode === Const.ROW_SELECT_SINGLE || mode === Const.ROW_SELECT_MULTI;\n  },\n\n  renderColGroup(columns, selectRow, expandColumnOptions = {}, version) {\n    let selectRowHeader = null;\n    let expandRowHeader = null;\n    const isBootstrap4 = this.isBootstrap4(version);\n    const isSelectRowDefined = this.isSelectRowDefined(selectRow.mode);\n    const columnWidth = isBootstrap4 ? '38px' : '30px';\n    if (isSelectRowDefined) {\n      const style = {\n        width: selectRow.columnWidth || columnWidth,\n        minWidth: selectRow.columnWidth || columnWidth\n      };\n      if (!selectRow.hideSelectColumn) {\n        selectRowHeader = (<col key='select-col' style={ style }></col>);\n      }\n    }\n    if (expandColumnOptions.expandColumnVisible) {\n      const style = {\n        width: expandColumnOptions.columnWidth || columnWidth,\n        minWidth: expandColumnOptions.columnWidth || columnWidth\n      };\n      expandRowHeader = (<col key='expand-col' style={ style }></col>);\n    }\n    const theader = columns.map(function(column, i) {\n      const style = {\n        display: column.hidden ? 'none' : null\n      };\n      if (column.width) {\n        const width = !isNaN(column.width) ? column.width + 'px' : column.width;\n        style.width = width;\n        /** add min-wdth to fix user assign column width\n        not eq offsetWidth in large column table **/\n        style.minWidth = width;\n        //custom neu width la percent thi minWidth la px\n        if(width && width.indexOf(\"%\")>-1){\n          style.minWidth = \"35px\"\n        }\n      }\n      //custom Bổ sung className cho việc no-print\n      return (<col style={ style } key={ i } className={column.className}></col>);\n    });\n\n    return (\n      <colgroup>\n        { expandColumnOptions.expandColumnVisible &&\n            expandColumnOptions.expandColumnBeforeSelectColumn &&\n            expandRowHeader }\n        { selectRowHeader }\n        { expandColumnOptions.expandColumnVisible &&\n            !expandColumnOptions.expandColumnBeforeSelectColumn &&\n            expandRowHeader }\n        { theader }\n      </colgroup>\n    );\n  }\n};\n","/* eslint quotes: 0 */\n/* eslint max-len: 0 */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nconst legalComparators = [ '=', '>', '>=', '<', '<=', '!=' ];\n\nfunction dateParser(d) {\n  return `${d.getFullYear()}-${(\"0\" + (d.getMonth() + 1)).slice(-2)}-${(\"0\" + d.getDate()).slice(-2)}`;\n}\n\nclass DateFilter extends Component {\n  constructor(props) {\n    super(props);\n    this.dateComparators = this.props.dateComparators || legalComparators;\n    this.filter = this.filter.bind(this);\n    this.onChangeComparator = this.onChangeComparator.bind(this);\n  }\n\n  setDefaultDate() {\n    let defaultDate = '';\n    const { defaultValue } = this.props;\n    if (defaultValue && defaultValue.date) {\n      // Set the appropriate format for the input type=date, i.e. \"YYYY-MM-DD\"\n      defaultDate = dateParser(new Date(defaultValue.date));\n    }\n    return defaultDate;\n  }\n\n  onChangeComparator(event) {\n    let date = this.inputDate.value;\n    const comparator = event.target.value;\n    if (date === '') {\n      return;\n    }\n    date = new Date(date);\n    this.props.filterHandler({ date, comparator }, Const.FILTER_TYPE.DATE);\n  }\n\n  getComparatorOptions() {\n    const optionTags = [];\n    optionTags.push(<option key='-1'></option>);\n    for (let i = 0; i < this.dateComparators.length; i++) {\n      optionTags.push(\n        <option key={ i } value={ this.dateComparators[i] }>\n          { this.dateComparators[i] }\n        </option>\n      );\n    }\n    return optionTags;\n  }\n\n  filter(event) {\n    const comparator = this.dateFilterComparator.value;\n    const dateValue = event.target.value;\n    if (dateValue) {\n      this.props.filterHandler({ date: new Date(dateValue), comparator }, Const.FILTER_TYPE.DATE);\n    } else {\n      this.props.filterHandler(null, Const.FILTER_TYPE.DATE);\n    }\n  }\n\n  cleanFiltered() {\n    const value = this.setDefaultDate();\n    const comparator = (this.props.defaultValue) ? this.props.defaultValue.comparator : '';\n    this.setState(() => { return { isPlaceholderSelected: (value === '') }; });\n    this.dateFilterComparator.value = comparator;\n    this.inputDate.value = value;\n    this.props.filterHandler({ date: new Date(value), comparator }, Const.FILTER_TYPE.DATE);\n  }\n\n  applyFilter(filterDateObj) {\n    const { date, comparator } = filterDateObj;\n    this.setState(() => { return { isPlaceholderSelected: (date === '') }; });\n    this.dateFilterComparator.value = comparator;\n    this.inputDate.value = dateParser(date);\n    this.props.filterHandler({ date, comparator }, Const.FILTER_TYPE.DATE);\n  }\n\n  componentDidMount() {\n    const comparator = this.dateFilterComparator.value;\n    const dateValue = this.inputDate.value;\n    if (comparator && dateValue) {\n      this.props.filterHandler({ date: new Date(dateValue), comparator }, Const.FILTER_TYPE.DATE);\n    }\n  }\n\n  render() {\n    const { defaultValue, style: { date, comparator } } = this.props;\n    return (\n      <div className='filter date-filter'>\n        <select ref={ n => this.dateFilterComparator = n }\n                style={ comparator }\n                className='date-filter-comparator form-control'\n                onChange={ this.onChangeComparator }\n                defaultValue={ (defaultValue) ? defaultValue.comparator : '' }>\n          { this.getComparatorOptions() }\n        </select>\n        <input ref={ n => this.inputDate = n }\n           className='filter date-filter-input form-control'\n           style={ date }\n           type='date'\n           onChange={ this.filter }\n           defaultValue={ this.setDefaultDate() } />\n      </div>\n    );\n  }\n}\n\nDateFilter.propTypes = {\n  filterHandler: PropTypes.func.isRequired,\n  defaultValue: PropTypes.shape({\n    date: PropTypes.object,\n    comparator: PropTypes.oneOf(legalComparators)\n  }),\n  style: PropTypes.shape({\n    date: PropTypes.oneOfType([ PropTypes.object ]),\n    comparator: PropTypes.oneOfType([ PropTypes.object ])\n  }),\n  /* eslint consistent-return: 0 */\n  dateComparators: function(props, propName) {\n    if (!props[propName]) {\n      return;\n    }\n    for (let i = 0; i < props[propName].length; i++) {\n      let comparatorIsValid = false;\n      for (let j = 0; j < legalComparators.length; j++) {\n        if (legalComparators[j] === props[propName][i]) {\n          comparatorIsValid = true;\n          break;\n        }\n      }\n      if (!comparatorIsValid) {\n        return new Error(`Date comparator provided is not supported.\n          Use only ${legalComparators}`);\n      }\n    }\n  },\n  columnName: PropTypes.any\n};\n\nDateFilter.defaultProps = {\n  style: {\n    date: null,\n    comparator: null\n  }\n};\n\n\nexport default DateFilter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nclass TextFilter extends Component {\n  constructor(props) {\n    super(props);\n    this.filter = this.filter.bind(this);\n    this.timeout = null;\n    this.state = {\n      value: this.props.defaultValue || ''\n    };\n  }\n\n  filter(event) {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n    const filterValue = event.target.value;\n    this.setState(() => { return { value: filterValue }; });\n    this.timeout = setTimeout(() => {\n      this.props.filterHandler(filterValue, Const.FILTER_TYPE.TEXT);\n    }, this.props.delay);\n  }\n\n  cleanFiltered() {\n    const value = this.props.defaultValue ? this.props.defaultValue : '';\n    this.setState(() => { return { value }; });\n    this.props.filterHandler(value, Const.FILTER_TYPE.TEXT);\n  }\n\n  applyFilter(filterText) {\n    this.setState(() => { return { value: filterText }; });\n    this.props.filterHandler(filterText, Const.FILTER_TYPE.TEXT);\n  }\n\n  componentDidMount() {\n    const defaultValue = this.inputText.value;\n    if (defaultValue) {\n      this.props.filterHandler(defaultValue, Const.FILTER_TYPE.TEXT);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.defaultValue !== this.props.defaultValue) {\n      this.applyFilter(nextProps.defaultValue || '');\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeout);\n  }\n\n  render() {\n    const { placeholder, columnName, style } = this.props;\n    return (\n      <input ref={ n => this.inputText = n }\n        className='filter text-filter form-control'\n        type='text'\n        style={ style }\n        onChange={ this.filter }\n        placeholder={ placeholder || `Enter ${columnName}...` }\n        value={ this.state.value } />\n    );\n  }\n}\n\nTextFilter.propTypes = {\n  filterHandler: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string,\n  delay: PropTypes.number,\n  placeholder: PropTypes.string,\n  columnName: PropTypes.any,\n  style: PropTypes.oneOfType([ PropTypes.object ])\n};\n\nTextFilter.defaultProps = {\n  delay: Const.FILTER_DELAY\n};\n\nexport default TextFilter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nclass RegexFilter extends Component {\n  constructor(props) {\n    super(props);\n    this.filter = this.filter.bind(this);\n    this.timeout = null;\n  }\n\n  filter(event) {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n    const filterValue = event.target.value;\n    this.timeout = setTimeout(() => {\n      this.props.filterHandler(filterValue, Const.FILTER_TYPE.REGEX);\n    }, this.props.delay);\n  }\n\n  cleanFiltered() {\n    const value = this.props.defaultValue ? this.props.defaultValue : '';\n    this.inputText.value = value;\n    this.props.filterHandler(value, Const.FILTER_TYPE.TEXT);\n  }\n\n  applyFilter(filterRegx) {\n    this.inputText.value = filterRegx;\n    this.props.filterHandler(filterRegx, Const.FILTER_TYPE.REGEX);\n  }\n\n  componentDidMount() {\n    const value = this.inputText.value;\n    if (value) {\n      this.props.filterHandler(value, Const.FILTER_TYPE.REGEX);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeout);\n  }\n\n  render() {\n    const { defaultValue, placeholder, columnName, style } = this.props;\n    return (\n      <input ref={ n => this.inputText = n }\n          className='filter text-filter form-control'\n          type='text'\n          style={ style }\n          onChange={ this.filter }\n          placeholder={ placeholder || `Enter Regex for ${columnName}...` }\n          defaultValue={ (defaultValue) ? defaultValue : '' } />\n    );\n  }\n}\n\nRegexFilter.propTypes = {\n  filterHandler: PropTypes.func.isRequired,\n  defaultValue: PropTypes.string,\n  delay: PropTypes.number,\n  placeholder: PropTypes.string,\n  columnName: PropTypes.any,\n  style: PropTypes.oneOfType([ PropTypes.object ])\n};\n\nRegexFilter.defaultProps = {\n  delay: Const.FILTER_DELAY\n};\n\nexport default RegexFilter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classSet from 'classnames';\nimport Const from '../Const';\n\nfunction optionsEquals(options1, options2) {\n  const keys = Object.keys(options1);\n  for (const k in keys) {\n    if (options1[k] !== options2[k]) {\n      return false;\n    }\n  }\n  return Object.keys(options1).length === Object.keys(options2).length;\n}\n\nclass SelectFilter extends Component {\n  constructor(props) {\n    super(props);\n    this.filter = this.filter.bind(this);\n    this.state = {\n      isPlaceholderSelected: (this.props.defaultValue === undefined ||\n              !this.props.options.hasOwnProperty(this.props.defaultValue))\n    };\n  }\n\n  componentWillReceiveProps() {\n    const currentSelectValue = this.selectInput.value;\n    const isPlaceholderSelected = !currentSelectValue || currentSelectValue === '';\n    this.setState(() => {\n      return {\n        isPlaceholderSelected\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    let needFilter = false;\n    if (this.props.defaultValue !== prevProps.defaultValue) {\n      needFilter = true;\n    } else if (!optionsEquals(this.props.options, prevProps.options)) {\n      needFilter = true;\n    }\n    if (needFilter) {\n      const value = this.selectInput.value;\n      if (value) {\n        this.props.filterHandler(value, Const.FILTER_TYPE.SELECT);\n      }\n    }\n  }\n\n  filter(event) {\n    const { value } = event.target;\n    this.setState(() => { return { isPlaceholderSelected: (value === '') }; });\n    this.props.filterHandler(value, Const.FILTER_TYPE.SELECT);\n  }\n\n  cleanFiltered() {\n    const value = (this.props.defaultValue !== undefined) ? this.props.defaultValue : '';\n    this.setState(() => { return { isPlaceholderSelected: (value === '') }; });\n    this.selectInput.value = value;\n    this.props.filterHandler(value, Const.FILTER_TYPE.SELECT);\n  }\n\n  applyFilter(filterOption) {\n    filterOption = filterOption + '';\n    this.setState(() => { return { isPlaceholderSelected: (filterOption === '') }; });\n    this.selectInput.value = filterOption;\n    this.props.filterHandler(filterOption, Const.FILTER_TYPE.SELECT);\n  }\n\n  getOptions() {\n    const optionTags = [];\n    const { options, placeholder, columnName, selectText, withoutEmptyOption } = this.props;\n    const selectTextValue = (selectText !== undefined) ? selectText : 'Select';\n    if (!withoutEmptyOption) {\n      optionTags.push((\n        <option key='-1' value=''>{ placeholder || `${selectTextValue} ${columnName}...` }</option>\n      ));\n    }\n    Object.keys(options).map(key => {\n      optionTags.push(<option key={ key } value={ key }>{ options[key] + '' }</option>);\n    });\n    return optionTags;\n  }\n\n  componentDidMount() {\n    const value = this.selectInput.value;\n    if (value) {\n      this.props.filterHandler(value, Const.FILTER_TYPE.SELECT);\n    }\n  }\n\n  render() {\n    const selectClass = classSet('filter', 'select-filter', 'form-control',\n              { 'placeholder-selected': this.state.isPlaceholderSelected });\n\n    return (\n      <select ref={ n => this.selectInput = n }\n          style={ this.props.style }\n          className={ selectClass }\n          onChange={ this.filter }\n          defaultValue={ (this.props.defaultValue !== undefined) ? this.props.defaultValue : '' } >\n        { this.getOptions() }\n      </select>\n    );\n  }\n}\n\nSelectFilter.propTypes = {\n  filterHandler: PropTypes.func.isRequired,\n  options: PropTypes.object.isRequired,\n  placeholder: PropTypes.string,\n  columnName: PropTypes.any,\n  style: PropTypes.oneOfType([ PropTypes.object ])\n};\n\nexport default SelectFilter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classSet from 'classnames';\nimport Const from '../Const';\n\nconst legalComparators = [ '=', '>', '>=', '<', '<=', '!=' ];\n\nclass NumberFilter extends Component {\n  constructor(props) {\n    super(props);\n    this.numberComparators = this.props.numberComparators || legalComparators;\n    this.timeout = null;\n    this.state = {\n      isPlaceholderSelected: (this.props.defaultValue === undefined ||\n        this.props.defaultValue.number === undefined ||\n        (this.props.options &&\n          this.props.options.indexOf(this.props.defaultValue.number) === -1))\n    };\n    this.onChangeNumber = this.onChangeNumber.bind(this);\n    this.onChangeNumberSet = this.onChangeNumberSet.bind(this);\n    this.onChangeComparator = this.onChangeComparator.bind(this);\n  }\n\n  onChangeNumber(event) {\n    const comparator = this.numberFilterComparator.value;\n    if (comparator === '') {\n      return;\n    }\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n    const filterValue = event.target.value;\n    this.timeout = setTimeout(() => {\n      this.props.filterHandler({ number: filterValue, comparator }, Const.FILTER_TYPE.NUMBER);\n    }, this.props.delay);\n  }\n\n  onChangeNumberSet(event) {\n    const comparator = this.numberFilterComparator.value;\n    const { value } = event.target;\n    this.setState(() => { return { isPlaceholderSelected: (value === '') }; });\n    if (comparator === '') {\n      return;\n    }\n    this.props.filterHandler({ number: value, comparator }, Const.FILTER_TYPE.NUMBER);\n  }\n\n  onChangeComparator(event) {\n    const value = this.numberFilter.value;\n    const comparator = event.target.value;\n    if (value === '') {\n      return;\n    }\n    this.props.filterHandler({ number: value, comparator }, Const.FILTER_TYPE.NUMBER);\n  }\n\n  cleanFiltered() {\n    const value = (this.props.defaultValue) ? this.props.defaultValue.number : '';\n    const comparator = (this.props.defaultValue) ? this.props.defaultValue.comparator : '';\n    this.setState(() => { return { isPlaceholderSelected: (value === '') }; });\n    this.numberFilterComparator.value = comparator;\n    this.numberFilter.value = value;\n    this.props.filterHandler({ number: value, comparator }, Const.FILTER_TYPE.NUMBER);\n  }\n\n  applyFilter(filterObj) {\n    const { number, comparator } = filterObj;\n    this.setState(() => { return { isPlaceholderSelected: (number === '') }; });\n    this.numberFilterComparator.value = comparator;\n    this.numberFilter.value = number;\n    this.props.filterHandler({ number, comparator }, Const.FILTER_TYPE.NUMBER);\n  }\n\n  getComparatorOptions() {\n    const optionTags = [];\n    const { withoutEmptyComparatorOption } = this.props;\n    if (!withoutEmptyComparatorOption) {\n      optionTags.push(<option key='-1'></option>);\n    }\n    for (let i = 0; i < this.numberComparators.length; i++) {\n      optionTags.push(\n        <option key={ i } value={ this.numberComparators[i] }>\n          { this.numberComparators[i] }\n        </option>\n      );\n    }\n    return optionTags;\n  }\n\n  getNumberOptions() {\n    const optionTags = [];\n    const { options, withoutEmptyNumberOption } = this.props;\n    if (!withoutEmptyNumberOption) {\n      optionTags.push(\n        <option key='-1' value=''>\n          { this.props.placeholder || `Select ${this.props.columnName}...` }\n        </option>\n      );\n    }\n    for (let i = 0; i < options.length; i++) {\n      optionTags.push(<option key={ i } value={ options[i] }>{ options[i] }</option>);\n    }\n    return optionTags;\n  }\n\n  componentDidMount() {\n    const comparator = this.numberFilterComparator.value;\n    const number = this.numberFilter.value;\n    if (comparator && number) {\n      this.props.filterHandler({ number, comparator }, Const.FILTER_TYPE.NUMBER);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeout);\n  }\n\n  render() {\n    const selectClass = classSet(\n      'select-filter', 'number-filter-input', 'form-control',\n      { 'placeholder-selected': this.state.isPlaceholderSelected });\n\n    return (\n      <div className='filter number-filter'>\n        <select ref={ n => this.numberFilterComparator = n }\n                style={ this.props.style.comparator }\n                className='number-filter-comparator form-control'\n                onChange={ this.onChangeComparator }\n                defaultValue={\n                  (this.props.defaultValue) ? this.props.defaultValue.comparator : ''\n                }>\n          { this.getComparatorOptions() }\n        </select>\n        {\n          (this.props.options) ?\n            <select ref={ n => this.numberFilter = n }\n              className={ selectClass }\n              onChange={ this.onChangeNumberSet }\n              defaultValue={\n                (this.props.defaultValue) ? this.props.defaultValue.number : ''\n              }>\n              { this.getNumberOptions() }\n            </select> :\n            <input ref={ n => this.numberFilter = n }\n                   type='number'\n                   style={ this.props.style.number }\n                   className='number-filter-input form-control'\n                   placeholder={ this.props.placeholder || `Enter ${this.props.columnName}...` }\n                   onChange={ this.onChangeNumber }\n                   defaultValue={\n                     (this.props.defaultValue) ? this.props.defaultValue.number : ''\n                   } />\n        }\n      </div>\n    );\n  }\n}\n\nNumberFilter.propTypes = {\n  filterHandler: PropTypes.func.isRequired,\n  options: PropTypes.arrayOf(PropTypes.number),\n  defaultValue: PropTypes.shape({\n    number: PropTypes.number,\n    comparator: PropTypes.oneOf(legalComparators)\n  }),\n  style: PropTypes.shape({\n    number: PropTypes.oneOfType([ PropTypes.object ]),\n    comparator: PropTypes.oneOfType([ PropTypes.object ])\n  }),\n  delay: PropTypes.number,\n  /* eslint consistent-return: 0 */\n  numberComparators: function(props, propName) {\n    if (!props[propName]) {\n      return;\n    }\n    for (let i = 0; i < props[propName].length; i++) {\n      let comparatorIsValid = false;\n      for (let j = 0; j < legalComparators.length; j++) {\n        if (legalComparators[j] === props[propName][i]) {\n          comparatorIsValid = true;\n          break;\n        }\n      }\n      if (!comparatorIsValid) {\n        return new Error(`Number comparator provided is not supported.\n          Use only ${legalComparators}`);\n      }\n    }\n  },\n  placeholder: PropTypes.string,\n  columnName: PropTypes.any,\n  withoutEmptyComparatorOption: PropTypes.bool,\n  withoutEmptyNumberOption: PropTypes.bool\n};\n\nNumberFilter.defaultProps = {\n  delay: Const.FILTER_DELAY,\n  withoutEmptyComparatorOption: false,\n  withoutEmptyNumberOption: false,\n  style: {\n    number: null,\n    comparator: null\n  }\n};\n\nexport default NumberFilter;\n","/* eslint default-case: 0 */\r\n/* eslint guard-for-in: 0 */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classSet from 'classnames';\r\nimport Const from './Const';\r\nimport Util from './util';\r\nimport DateFilter from './filters/Date';\r\nimport TextFilter from './filters/Text';\r\nimport RegexFilter from './filters/Regex';\r\nimport SelectFilter from './filters/Select';\r\nimport NumberFilter from './filters/Number';\r\n\r\nclass TableHeaderColumn extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleFilter = this.handleFilter.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.reset) {\r\n      this.cleanFiltered();\r\n    }\r\n\r\n    // If column not displaying the same dataField, reset the filter accordingly\r\n    if (nextProps.filter && nextProps.dataField !== this.props.dataField) {\r\n      const emitter = nextProps.filter.emitter || {};\r\n      const currentFilter = emitter.currentFilter || {};\r\n      const filter = currentFilter[nextProps.dataField];\r\n      const value = filter ? filter.value : '';\r\n\r\n      const { ref } = this.getFilters(nextProps) || {};\r\n      if (this.refs[ref]) {\r\n        this.refs[ref].setState({ value });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleColumnClick = () => {\r\n    if (this.props.isOnlyHead || !this.props.dataSort) return;\r\n    let { sort: order } = this.props;\r\n    if (!order && this.props.defaultASC) order = Const.SORT_ASC;\r\n    else order = this.props.sort === Const.SORT_DESC ? Const.SORT_ASC : Const.SORT_DESC;\r\n    this.props.onSort(order, this.props.dataField);\r\n  }\r\n\r\n  handleFilter(value, type) {\r\n    const { filter } = this.props;\r\n    filter.emitter.handleFilter(this.props.dataField, value, type, filter);\r\n  }\r\n\r\n  getFilters(props = this.props) {\r\n    const { headerText, children } = props;\r\n    switch (props.filter.type) {\r\n    case Const.FILTER_TYPE.TEXT: {\r\n      return (\r\n        <TextFilter ref={ n => this.textFilter = n } { ...props.filter }\r\n          columnName={ headerText || children } filterHandler={ this.handleFilter } />\r\n      );\r\n    }\r\n    case Const.FILTER_TYPE.REGEX: {\r\n      return (\r\n        <RegexFilter ref={ n => this.regexFilter = n } { ...props.filter }\r\n          columnName={ headerText || children } filterHandler={ this.handleFilter } />\r\n      );\r\n    }\r\n    case Const.FILTER_TYPE.SELECT: {\r\n      return (\r\n        <SelectFilter ref={ n => this.selectFilter = n } { ...props.filter }\r\n          columnName={ headerText || children } filterHandler={ this.handleFilter } />\r\n      );\r\n    }\r\n    case Const.FILTER_TYPE.NUMBER: {\r\n      return (\r\n        <NumberFilter ref={ n => this.numberFilter = n } { ...props.filter }\r\n          columnName={ headerText || children } filterHandler={ this.handleFilter } />\r\n      );\r\n    }\r\n    case Const.FILTER_TYPE.DATE: {\r\n      return (\r\n        <DateFilter ref={ n => this.dateFilter = n } { ...props.filter }\r\n          columnName={ headerText || children } filterHandler={ this.handleFilter } />\r\n      );\r\n    }\r\n    case Const.FILTER_TYPE.CUSTOM: {\r\n      const elm = props.filter.getElement(this.handleFilter,\r\n          props.filter.customFilterParameters);\r\n\r\n      return React.cloneElement(elm, { ref: n => this.customFilter = n });\r\n    }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.headerCol.setAttribute('data-field', this.props.dataField);\r\n  }\r\n\r\n  renderDefaultCaret(dataSort, isBootstrap4) {\r\n    if (!dataSort) return null;\r\n    if (isBootstrap4) {\r\n      return (\r\n        <span className='order fa fa-sort'\r\n          style={ { margin: '10px 0 10px 5px', color: '#ccc' } }></span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span className='order'>\r\n          <span className='dropdown'>\r\n            <span className='caret' style={ { margin: '10px 0 10px 5px', color: '#ccc' } }></span>\r\n          </span>\r\n          <span className='dropup'>\r\n            <span className='caret' style={ { margin: '10px 0', color: '#ccc' } }></span>\r\n          </span>\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let defaultCaret;\r\n    let sortCaret;\r\n    let sortClass;\r\n    const {\r\n      headerText,\r\n      dataAlign,\r\n      dataField,\r\n      headerAlign,\r\n      headerTitle,\r\n      hidden,\r\n      sort,\r\n      dataSort,\r\n      sortIndicator,\r\n      children,\r\n      caretRender,\r\n      className,\r\n      isOnlyHead,\r\n      version,\r\n      sortHeaderColumnClassName: customSortClass,\r\n      thStyle: style\r\n    } = this.props;\r\n    const thStyle = {\r\n      textAlign: headerAlign || dataAlign,\r\n      display: hidden ? 'none' : null,\r\n      ...style\r\n    };\r\n    const isBootstrap4 = Util.isBootstrap4(version);\r\n    if (!isOnlyHead) {\r\n      if (sortIndicator) {\r\n        defaultCaret = this.renderDefaultCaret(dataSort, isBootstrap4);\r\n      }\r\n      sortCaret = sort ? Util.renderReactSortCaret(sort, isBootstrap4) : defaultCaret;\r\n      if (caretRender) {\r\n        sortCaret = caretRender(sort, dataField);\r\n      }\r\n    }\r\n\r\n    if (sort) {\r\n      sortClass = Util.isFunction(customSortClass) ?\r\n        customSortClass(sort, dataField) : customSortClass;\r\n    }\r\n    const classes = classSet(\r\n      Util.isFunction(className) ? className() : className,\r\n      !isOnlyHead && dataSort ? 'sort-column' : '',\r\n      sortClass);\r\n\r\n    const attr = {};\r\n    if (headerTitle) {\r\n      if (typeof children === 'string' && !headerText) {\r\n        attr.title = children;\r\n      } else {\r\n        attr.title = headerText;\r\n      }\r\n    }\r\n    return (\r\n      <th ref={ node => this.headerCol = node }\r\n          className={ classes }\r\n          style={ thStyle }\r\n          onClick={ this.handleColumnClick }\r\n          rowSpan={ this.props.rowSpan }\r\n          colSpan={ this.props.colSpan }\r\n          data-is-only-head={ this.props.isOnlyHead }\r\n          { ...attr }>\r\n        { children }{ sortCaret }\r\n        <div onClick={ e => e.stopPropagation() }>\r\n          { this.props.filter && !isOnlyHead ? this.getFilters() : null }\r\n        </div>\r\n      </th>\r\n    );\r\n  }\r\n\r\n  cleanFiltered() {\r\n    if (!this.props.filter) return;\r\n\r\n    switch (this.props.filter.type) {\r\n    case Const.FILTER_TYPE.TEXT: {\r\n      this.textFilter.cleanFiltered();\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.REGEX: {\r\n      this.regexFilter.cleanFiltered();\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.SELECT: {\r\n      this.selectFilter.cleanFiltered();\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.NUMBER: {\r\n      this.numberFilter.cleanFiltered();\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.DATE: {\r\n      this.dateFilter.cleanFiltered();\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.CUSTOM: {\r\n      this.customFilter.cleanFiltered();\r\n      break;\r\n    }\r\n    }\r\n  }\r\n\r\n  applyFilter(val) {\r\n    if (!this.props.filter) return;\r\n    switch (this.props.filter.type) {\r\n    case Const.FILTER_TYPE.TEXT: {\r\n      this.textFilter.applyFilter(val);\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.REGEX: {\r\n      this.regexFilter.applyFilter(val);\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.SELECT: {\r\n      this.selectFilter.applyFilter(val);\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.NUMBER: {\r\n      this.numberFilter.applyFilter(val);\r\n      break;\r\n    }\r\n    case Const.FILTER_TYPE.DATE: {\r\n      this.dateFilter.applyFilter(val);\r\n      break;\r\n    }\r\n    }\r\n  }\r\n}\r\n\r\nconst filterTypeArray = [];\r\nfor (const key in Const.FILTER_TYPE) {\r\n  filterTypeArray.push(Const.FILTER_TYPE[key]);\r\n}\r\n\r\nTableHeaderColumn.propTypes = {\r\n  dataField: PropTypes.string,\r\n  dataAlign: PropTypes.string,\r\n  headerAlign: PropTypes.string,\r\n  headerTitle: PropTypes.bool,\r\n  headerText: PropTypes.string,\r\n  dataSort: PropTypes.bool,\r\n  onSort: PropTypes.func,\r\n  dataFormat: PropTypes.func,\r\n  csvFormat: PropTypes.func,\r\n  csvHeader: PropTypes.string,\r\n  csvFieldType: PropTypes.oneOf([ Const.CSV_STRING_TYPE, Const.CSV_NUMBER_TYPE ]),\r\n  isKey: PropTypes.bool,\r\n  editable: PropTypes.any,\r\n  hidden: PropTypes.bool,\r\n  hiddenOnInsert: PropTypes.bool,\r\n  searchable: PropTypes.bool,\r\n  className: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.func\r\n  ]),\r\n  width: PropTypes.string,\r\n  sortFunc: PropTypes.func,\r\n  sortFuncExtraData: PropTypes.any,\r\n  sortHeaderColumnClassName: PropTypes.any,\r\n  columnClassName: PropTypes.any,\r\n  editColumnClassName: PropTypes.any,\r\n  invalidEditColumnClassName: PropTypes.any,\r\n  columnTitle: PropTypes.oneOfType([\r\n    PropTypes.bool,\r\n    PropTypes.func,\r\n    PropTypes.string\r\n  ]),\r\n  filterFormatted: PropTypes.bool,\r\n  filterValue: PropTypes.func,\r\n  sort: PropTypes.string,\r\n  caretRender: PropTypes.func,\r\n  formatExtraData: PropTypes.any,\r\n  csvFormatExtraData: PropTypes.any,\r\n  filter: PropTypes.shape({\r\n    type: PropTypes.oneOf(filterTypeArray),\r\n    delay: PropTypes.number,\r\n    options: PropTypes.oneOfType([\r\n      PropTypes.object, // for SelectFilter\r\n      PropTypes.arrayOf(PropTypes.number) // for NumberFilter\r\n    ]),\r\n    numberComparators: PropTypes.arrayOf(PropTypes.string),\r\n    emitter: PropTypes.object,\r\n    placeholder: PropTypes.string,\r\n    getElement: PropTypes.func,\r\n    customFilterParameters: PropTypes.object,\r\n    condition: PropTypes.oneOf([ Const.FILTER_COND_EQ, Const.FILTER_COND_LIKE ])\r\n  }),\r\n  sortIndicator: PropTypes.bool,\r\n  export: PropTypes.bool,\r\n  expandable: PropTypes.bool,\r\n  tdAttr: PropTypes.object,\r\n  editTdAttr: PropTypes.object,\r\n  tdStyle: PropTypes.oneOfType([ PropTypes.func, PropTypes.object ]),\r\n  thStyle: PropTypes.object,\r\n  keyValidator: PropTypes.bool,\r\n  defaultASC: PropTypes.bool\r\n};\r\n\r\nTableHeaderColumn.defaultProps = {\r\n  dataAlign: 'left',\r\n  headerAlign: undefined,\r\n  headerTitle: true,\r\n  dataSort: false,\r\n  dataFormat: undefined,\r\n  csvFormat: undefined,\r\n  csvHeader: undefined,\r\n  csvFieldType: Const.CSV_STRING_TYPE,\r\n  isKey: false,\r\n  editable: true,\r\n  onSort: undefined,\r\n  hidden: false,\r\n  hiddenOnInsert: false,\r\n  searchable: true,\r\n  className: '',\r\n  columnTitle: false,\r\n  width: null,\r\n  sortFunc: undefined,\r\n  columnClassName: '',\r\n  editColumnClassName: '',\r\n  invalidEditColumnClassName: '',\r\n  filterFormatted: false,\r\n  filterValue: undefined,\r\n  sort: undefined,\r\n  formatExtraData: undefined,\r\n  sortFuncExtraData: undefined,\r\n  filter: undefined,\r\n  sortIndicator: true,\r\n  expandable: true,\r\n  tdAttr: undefined,\r\n  editTdAttr: undefined,\r\n  tdStyle: undefined,\r\n  thStyle: undefined,\r\n  keyValidator: false,\r\n  defaultASC: false\r\n};\r\n\r\nexport default TableHeaderColumn;\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass SelectRowHeaderColumn extends Component {\n\n  render() {\n    return (\n      <th rowSpan={ this.props.rowCount } style={ { textAlign: 'center' } }\n        data-is-only-head={ false }>\n        { this.props.children }\n      </th>\n    );\n  }\n}\nSelectRowHeaderColumn.propTypes = {\n  children: PropTypes.node,\n  rowCount: PropTypes.number\n};\nexport default SelectRowHeaderColumn;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ExpandRowHeaderColumn extends Component {\n\n  constructor(props) {\n    super(props);\n    this.toggleExpandAllChilds = this.toggleExpandAllChilds.bind(this);\n  }\n\n  toggleExpandAllChilds() {\n    this.props.toggleExpandAllChilds();\n  }\n\n  render() {\n    const {\n      expandedColumnHeaderComponent,\n      noAnyExpand,\n      expandAll\n    } = this.props;\n    const expandedHeaderComponent = noAnyExpand ?\n      <span className='fa fa-plus glyphicon glyphicon-plus'></span> :\n      <span className='fa fa-minus glyphicon glyphicon-minus'></span>;\n    const ExpandedColumnHeaderComponent = expandedColumnHeaderComponent;\n\n    return (\n      <th rowSpan={ this.props.rowCount } style={ { textAlign: 'center' } }\n        className='react-bs-table-expand-cell'\n        data-is-only-head={ false }>\n        {\n          expandAll ? <div onClick={ this.toggleExpandAllChilds }>\n          { expandedColumnHeaderComponent ?\n            <ExpandedColumnHeaderComponent\n              anyExpand={ !noAnyExpand } /> : expandedHeaderComponent }\n          </div> : null\n        }\n      </th>\n    );\n  }\n}\nExpandRowHeaderColumn.propTypes = {\n  expandedColumnHeaderComponent: PropTypes.func,\n  rowCount: PropTypes.number,\n  noAnyExpand: PropTypes.bool,\n  expandAll: PropTypes.bool,\n  toggleExpandAllChilds: PropTypes.func\n};\nexport default ExpandRowHeaderColumn;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Const from './Const';\nimport classSet from 'classnames';\nimport SelectRowHeaderColumn from './SelectRowHeaderColumn';\nimport ExpandRowHeaderColumn from './ExpandRowHeaderColumn';\nimport Utils from './util';\n\nclass Checkbox extends Component {\n  componentDidMount() { this.update(this.props.checked); }\n  componentWillReceiveProps(props) { this.update(props.checked); }\n  update(checked) {\n    ReactDOM.findDOMNode(this).indeterminate = checked === 'indeterminate';\n  }\n  render() {\n    return (\n      <input className='react-bs-select-all'\n        type='checkbox'\n        checked={ this.props.checked }\n        onChange={ this.props.onChange } />\n    );\n  }\n}\n\nfunction getSortOrder(sortList, field, enableSort) {\n  if (!enableSort) return undefined;\n  const result = sortList.filter(sortObj => {\n    return sortObj.sortField === field;\n  });\n  if (result.length > 0) {\n    return result[0].order;\n  } else {\n    return undefined;\n  }\n}\n\nclass TableHeader extends Component {\n\n  render() {\n    const { sortIndicator, sortList, onSort, reset, version, condensed, bordered,\n      expandedColumnHeaderComponent, noAnyExpand, toggleExpandAllChilds, expandAll\n    } = this.props;\n    const containerClasses = classSet(\n      'react-bs-container-header',\n      'table-header-wrapper',\n      this.props.headerContainerClass);\n    const customTableClasses = {\n      'table-bordered': bordered\n    };\n    if (condensed) {\n      if (Utils.isBootstrap4(version)) customTableClasses['table-sm'] = true;\n      else customTableClasses['table-condensed'] = true;\n    }\n    const tableClasses = classSet(\n      'table', 'table-hover', customTableClasses, this.props.tableHeaderClass);\n\n    const rowCount = Math.max(...React.Children.map(this.props.children, elm =>\n      (elm && elm.props.row) ? Number(elm.props.row) : 0\n    ));\n\n    const rows = [];\n    let rowKey = 0;\n\n    rows[0] = [];\n    rows[0].push( [\n      this.props.expandColumnVisible &&\n        this.props.expandColumnBeforeSelectColumn &&\n          <ExpandRowHeaderColumn key='expandCol' rowCount={ rowCount + 1 }\n            expandedColumnHeaderComponent={ expandedColumnHeaderComponent }\n            noAnyExpand={ noAnyExpand }\n            expandAll={ expandAll }\n            toggleExpandAllChilds={ toggleExpandAllChilds }/>\n    ], [\n      this.renderSelectRowHeader(rowCount + 1, rowKey++)\n    ], [\n      this.props.expandColumnVisible &&\n        !this.props.expandColumnBeforeSelectColumn &&\n          <ExpandRowHeaderColumn key='expandCol' rowCount={ rowCount + 1 }\n            expandedColumnHeaderComponent={ expandedColumnHeaderComponent }\n            noAnyExpand={ noAnyExpand }\n            expandAll={ expandAll }\n            toggleExpandAllChilds={ toggleExpandAllChilds }/>\n    ]);\n\n    React.Children.forEach(this.props.children, (elm) => {\n      if (elm === null || elm === undefined) {\n        // Skip null or undefined elements.\n        return;\n      }\n      const { dataField, dataSort } = elm.props;\n      const sort = getSortOrder(sortList, dataField, dataSort);\n      const rowIndex = elm.props.row ? Number(elm.props.row) : 0;\n      const rowSpan = elm.props.rowSpan ? Number(elm.props.rowSpan) : 1;\n      if (rows[rowIndex] === undefined) {\n        rows[rowIndex] = [];\n      }\n      if ((rowSpan + rowIndex) === (rowCount + 1)) {\n        rows[rowIndex].push(React.cloneElement(\n          elm, { reset, key: rowKey++, onSort, sort, sortIndicator, isOnlyHead: false, version }\n          ));\n      } else {\n        rows[rowIndex].push(React.cloneElement(\n          elm, { key: rowKey++, isOnlyHead: true, version }\n          ));\n      }\n    });\n\n    const trs = rows.map((row, indexRow)=>{\n      return (\n        <tr key={ indexRow }>\n          { row }\n        </tr>\n      );\n    });\n\n    return (\n      <div\n        ref={ node => this.container = node }\n        className={ containerClasses }\n        style={ this.props.style }>\n        <table className={ tableClasses }>\n          { React.cloneElement(this.props.colGroups, { ref: node => this.headerGrp = node }) }\n          <thead ref={ node => this.header = node }>\n            { trs }\n          </thead>\n        </table>\n      </div>\n    );\n  }\n\n  getHeaderColGrouop = () => {\n    return this.headerGrp.childNodes;\n  }\n\n  renderSelectRowHeader(rowCount, rowKey) {\n    if (this.props.hideSelectColumn) {\n      return null;\n    } else if (this.props.customComponent) {\n      const CustomComponent = this.props.customComponent;\n      return (\n        <SelectRowHeaderColumn key={ rowKey } rowCount={ rowCount }>\n          <CustomComponent type='checkbox' checked={ this.props.isSelectAll }\n            indeterminate={ this.props.isSelectAll === 'indeterminate' } disabled={ false }\n            onChange={ this.props.onSelectAllRow } rowIndex='Header'/>\n        </SelectRowHeaderColumn>\n      );\n    } else if (this.props.rowSelectType === Const.ROW_SELECT_SINGLE) {\n      return (<SelectRowHeaderColumn key={ rowKey } rowCount={ rowCount }/>);\n    } else if (this.props.rowSelectType === Const.ROW_SELECT_MULTI) {\n      return (\n        <SelectRowHeaderColumn key={ rowKey } rowCount={ rowCount }>\n          <Checkbox\n            onChange={ this.props.onSelectAllRow }\n            checked={ this.props.isSelectAll }/>\n        </SelectRowHeaderColumn>\n      );\n    } else {\n      return null;\n    }\n  }\n}\nTableHeader.propTypes = {\n  headerContainerClass: PropTypes.string,\n  tableHeaderClass: PropTypes.string,\n  style: PropTypes.object,\n  rowSelectType: PropTypes.string,\n  onSort: PropTypes.func,\n  onSelectAllRow: PropTypes.func,\n  sortList: PropTypes.array,\n  hideSelectColumn: PropTypes.bool,\n  bordered: PropTypes.bool,\n  condensed: PropTypes.bool,\n  isFiltered: PropTypes.bool,\n  isSelectAll: PropTypes.oneOf([ true, 'indeterminate', false ]),\n  sortIndicator: PropTypes.bool,\n  customComponent: PropTypes.func,\n  colGroups: PropTypes.element,\n  reset: PropTypes.bool,\n  expandColumnVisible: PropTypes.bool,\n  expandColumnComponent: PropTypes.func,\n  expandedColumnHeaderComponent: PropTypes.func,\n  expandColumnBeforeSelectColumn: PropTypes.bool,\n  version: PropTypes.string,\n  noAnyExpand: PropTypes.bool,\n  expandAll: PropTypes.bool,\n  toggleExpandAllChilds: PropTypes.func\n};\n\nexport default TableHeader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classSet from 'classnames';\n\nclass TableFooter extends Component {\n\n  render() {\n    const { hideSelectColumn, expandColumnVisible } = this.props;\n    const containerClasses = classSet('react-bs-container-footer', 'table-footer-wrapper');\n    const tableClasses = classSet('table', 'table-hover', {\n      'table-bordered': this.props.bordered,\n      'table-condensed': this.props.condensed\n    }, this.props.tableFooterClass);\n    return (\n      <div\n        ref={ node => this.container = node }\n        className={ containerClasses }\n        style={ this.props.style } >\n        {\n          this.props.children.map((footerItem, footerItemIndex) => {\n            return (\n              <span key={ footerItemIndex }>\n                <table className={ tableClasses }>\n                  { React.cloneElement(this.props.colGroups) }\n                  <tfoot>\n                    <tr ref={ node => this.footer = node }>\n                      { hideSelectColumn ? null : this.renderSelectionOrExpandCol() }\n                      { !expandColumnVisible ? null : this.renderSelectionOrExpandCol() }\n                      {\n                        this.props.columns.map((columnItem, colIndex) => {\n                          if ( !columnItem.hidden ) {\n                            const footerObj = footerItem.filter((item) => {\n                              return item.columnIndex === colIndex;\n                            });\n                            let footerData;\n                            let thAlignment = 'left';\n                            if (footerObj.length) {\n                              thAlignment = footerObj[0].align;\n                              if (footerObj[0].formatter) {\n                                footerData = footerObj[0].formatter(\n                                  this.props.footerFormatterReturnData\n                                );\n                              } else {\n                                footerData = footerObj[0].label;\n                              }\n                            } else {\n                              footerData = '';\n                            }\n                            return (\n                              <th\n                                key={ colIndex }\n                                style={ {\n                                  minWidth: `${this.props.columns[colIndex].width}px`,\n                                  textAlign: thAlignment\n                                } }>\n                                  {\n                                    footerData\n                                  }\n                              </th>\n                            );\n                          }\n                        })\n                      }\n                    </tr>\n                  </tfoot>\n                </table>\n              </span>\n            );\n          })\n        }\n      </div>\n    );\n  }\n\n  renderSelectionOrExpandCol() {\n    return (<th></th>);\n  }\n}\nTableFooter.propTypes = {\n  tableHeaderClass: PropTypes.string,\n  style: PropTypes.object,\n  hideSelectColumn: PropTypes.bool,\n  expandColumnVisible: PropTypes.bool,\n  bordered: PropTypes.bool,\n  condensed: PropTypes.bool,\n  isFiltered: PropTypes.bool,\n  sortIndicator: PropTypes.bool\n};\n\nexport default TableFooter;\n","/* eslint no-nested-ternary: 0 */\nimport classSet from 'classnames';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Utils from './util';\n\nclass TableRow extends Component {\n\n  constructor(props) {\n    super(props);\n    this.clickNum = 0;\n  }\n\n  rowClick = e => {\n    const rowIndex = this.props.index + 1;\n    const cellIndex = e.target.cellIndex;\n    if (this.props.onRowClick) this.props.onRowClick(rowIndex, cellIndex, e);\n    const {\n      selectRow, unselectableRow, isSelected, onSelectRow, onExpandRow, dbClickToEdit\n    } = this.props;\n    if (selectRow) {\n      if (selectRow.clickToSelect && !unselectableRow) {\n        onSelectRow(rowIndex, !isSelected, e);\n      } else if (selectRow.clickToSelectAndEditCell && !unselectableRow) {\n        this.clickNum++;\n        /** if clickToSelectAndEditCell is enabled,\n         *  there should be a delay to prevent a selection changed when\n         *  user dblick to edit cell on same row but different cell\n        **/\n        setTimeout(() => {\n          if (this.clickNum === 1) {\n            onSelectRow(rowIndex, !isSelected, e);\n            onExpandRow(e, rowIndex, cellIndex);\n          }\n          this.clickNum = 0;\n        }, 200);\n      } else {\n        if (dbClickToEdit) {\n          this.expandRow(e, rowIndex, cellIndex);\n        }\n      }\n    }\n  }\n\n  expandRow = (event, rowIndex, cellIndex) => {\n    this.clickNum++;\n    setTimeout(() => {\n      if (this.clickNum === 1) {\n        this.props.onExpandRow(event, rowIndex, cellIndex);\n      }\n      this.clickNum = 0;\n    }, 200);\n  }\n\n  rowDoubleClick = e => {\n    if (e.target.tagName !== 'INPUT' &&\n        e.target.tagName !== 'SELECT' &&\n        e.target.tagName !== 'TEXTAREA') {\n      if (this.props.onRowDoubleClick) {\n        this.props.onRowDoubleClick(this.props.index, e);\n      }\n    }\n  }\n\n  rowMouseOut = e => {\n    const rowIndex = this.props.index;\n    if (this.props.onRowMouseOut) {\n      this.props.onRowMouseOut(rowIndex, e);\n    }\n  }\n\n  rowMouseOver = e => {\n    const rowIndex = this.props.index;\n    if (this.props.onRowMouseOver) {\n      this.props.onRowMouseOver(rowIndex, e);\n    }\n  }\n\n  render() {\n    this.clickNum = 0;\n    const { selectRow, row, isSelected, className, index, hidden } = this.props;\n    let { style } = this.props;\n    let backgroundColor = null;\n    let selectRowClass = null;\n\n    if (selectRow) {\n      backgroundColor = Utils.isFunction(selectRow.bgColor) ?\n        selectRow.bgColor(row, isSelected) : ( isSelected ? selectRow.bgColor : null);\n\n      selectRowClass = Utils.isFunction(selectRow.className) ?\n        selectRow.className(row, isSelected) : ( isSelected ? selectRow.className : null);\n    }\n\n    if (Utils.isFunction(style)) {\n      style = style(row, index);\n    } else {\n      style = { ...style } || {};\n    }\n    // the bgcolor of row selection always overwrite the bgcolor defined by global.\n    if (style && backgroundColor && isSelected) {\n      style.backgroundColor = backgroundColor;\n    }\n    const trCss = {\n      style: { ...style },\n      className: classSet(selectRowClass, className)\n    };\n\n    return (\n      <tr { ...trCss }\n          onMouseOver={ this.rowMouseOver }\n          onMouseOut={ this.rowMouseOut }\n          onClick={ this.rowClick }\n          hidden={ hidden }\n          onDoubleClick={ this.rowDoubleClick }>{ this.props.children }</tr>\n    );\n  }\n}\nTableRow.propTypes = {\n  index: PropTypes.number,\n  row: PropTypes.any,\n  style: PropTypes.any,\n  isSelected: PropTypes.bool,\n  enableCellEdit: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onRowDoubleClick: PropTypes.func,\n  onSelectRow: PropTypes.func,\n  onExpandRow: PropTypes.func,\n  onRowMouseOut: PropTypes.func,\n  onRowMouseOver: PropTypes.func,\n  unselectableRow: PropTypes.bool,\n  hidden: PropTypes.bool\n};\nTableRow.defaultProps = {\n  onRowClick: undefined,\n  onRowDoubleClick: undefined,\n  hidden: false\n};\nexport default TableRow;\n","import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Const from \"./Const\"\r\nimport Util from \"./util\"\r\n\r\nclass TableColumn extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  /* eslint no-unused-vars: [0, { \"args\": \"after-used\" }] */\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    // console.warn(\"shouldComponentUpdate column\", this.props)\r\n    // if (this.props.cIndex == 9) {\r\n    //   console.warn(\"aaa\",this.props.row,nextProps.row)\r\n    // }\r\n    if (nextProps.row && nextProps.row[\"_UI_NeedUpdateUI\"] == true) {\r\n      if (nextProps.isLastCol) {\r\n        delete nextProps.row[\"_UI_NeedUpdateUI\"]\r\n      }\r\n      return true\r\n    }\r\n    else if(nextProps.row[\"_UI_CountReloadList\"]!=null && nextProps.row[\"_UI_CountReloadList\"]!=this.props.row[\"_UI_CountReloadList\"]){\r\n      return true\r\n    }\r\n    const { children } = this.props\r\n    let shouldUpdated =\r\n      this.props.width !== nextProps.width ||\r\n      this.props.className !== nextProps.className ||\r\n      this.props.hidden !== nextProps.hidden ||\r\n      this.props.dataAlign !== nextProps.dataAlign ||\r\n      this.props.isFocus !== nextProps.isFocus ||\r\n      typeof children !== typeof nextProps.children ||\r\n      (\"\" + this.props.onEdit).toString() !== (\"\" + nextProps.onEdit).toString()\r\n\r\n    if (shouldUpdated) {\r\n      return shouldUpdated\r\n    }\r\n\r\n    if (\r\n      typeof children === \"object\" &&\r\n      children !== null &&\r\n      children.props !== null\r\n    ) {\r\n      // if (\r\n      //   children.props.type === \"checkbox\" ||\r\n      //   children.props.type === \"radio\"\r\n      // ) {\r\n      //   shouldUpdated =\r\n      //     shouldUpdated ||\r\n      //     children.props.cell !== nextProps.children.props.cell || //moi bo sung vi kieu checkbox no ko update\r\n      //     children.props.type !== nextProps.children.props.type ||\r\n      //     children.props.checked !== nextProps.children.props.checked ||\r\n      //     children.props.disabled !== nextProps.children.props.disabled\r\n      // } else {\r\n      //   shouldUpdated = true\r\n      // }\r\n      shouldUpdated =\r\n        shouldUpdated ||\r\n        children.props.cell !== nextProps.children.props.cell || //moi bo sung vi kieu checkbox no ko update\r\n        children.props.type !== nextProps.children.props.type ||\r\n        children.props.checked !== nextProps.children.props.checked ||\r\n        children.props.disabled !== nextProps.children.props.disabled\r\n    } else {\r\n      shouldUpdated = shouldUpdated || children !== nextProps.children\r\n    }\r\n\r\n    if (shouldUpdated) {\r\n      return shouldUpdated\r\n    }\r\n\r\n    if (!(this.props.cellEdit && nextProps.cellEdit)) {\r\n      return false\r\n    } else {\r\n      return (\r\n        shouldUpdated || this.props.cellEdit.mode !== nextProps.cellEdit.mode\r\n      )\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const dom = ReactDOM.findDOMNode(this)\r\n    if (this.props.isFocus) {\r\n      dom.focus()\r\n    } else {\r\n      dom.blur()\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const dom = ReactDOM.findDOMNode(this)\r\n    if (this.props.isFocus) {\r\n      dom.focus()\r\n    } else {\r\n      dom.blur()\r\n    }\r\n  }\r\n\r\n  handleCellEdit = e => {\r\n    try {\r\n      if (this.props.cellEdit.mode === Const.CELL_EDIT_DBCLICK) {\r\n        if (document.selection && document.selection.empty) {\r\n          document.selection.empty()\r\n        } else if (window.getSelection) {\r\n          const sel = window.getSelection()\r\n          sel.removeAllRanges()\r\n        }\r\n      }\r\n    } catch (err) {} /* eslint no-empty: 0 */\r\n    this.props.onEdit(this.props.rIndex + 1, e.currentTarget.cellIndex, e)\r\n    if (this.props.cellEdit.mode !== Const.CELL_EDIT_DBCLICK) {\r\n      this.props.onClick(e, this.props.rIndex + 1, e.currentTarget.cellIndex)\r\n    }\r\n  }\r\n\r\n  handleCellClick = e => {\r\n    const { onClick, rIndex } = this.props\r\n    if (onClick) {\r\n      onClick(e, rIndex + 1, e.currentTarget.cellIndex)\r\n    }\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (this.props.keyBoardNav) {\r\n      this.props.onKeyDown(e)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // console.warn(\"render column\", this.props)\r\n    const {\r\n      children,\r\n      columnTitle,\r\n      dataAlign,\r\n      hidden,\r\n      cellEdit,\r\n      attrs,\r\n      style,\r\n      isFocus,\r\n      keyBoardNav,\r\n      tabIndex,\r\n      customNavStyle,\r\n      withoutTabIndex,\r\n      row,\r\n    } = this.props\r\n\r\n    let { className } = this.props\r\n\r\n    let tdStyle = {\r\n      textAlign: dataAlign,\r\n      display: hidden ? \"none\" : null,\r\n      ...style,\r\n    }\r\n\r\n    const opts = {}\r\n\r\n    if (cellEdit) {\r\n      if (cellEdit.mode === Const.CELL_EDIT_CLICK) {\r\n        opts.onClick = this.handleCellEdit\r\n      } else if (cellEdit.mode === Const.CELL_EDIT_DBCLICK) {\r\n        opts.onDoubleClick = this.handleCellEdit\r\n      } else {\r\n        opts.onClick = this.handleCellClick\r\n      }\r\n    }\r\n\r\n    if (keyBoardNav && isFocus) {\r\n      opts.onKeyDown = this.handleKeyDown\r\n    }\r\n\r\n    if (isFocus) {\r\n      if (customNavStyle) {\r\n        const cusmtStyle = Util.isFunction(customNavStyle)\r\n          ? customNavStyle(children, row)\r\n          : customNavStyle\r\n        tdStyle = {\r\n          ...tdStyle,\r\n          ...cusmtStyle,\r\n        }\r\n      } else {\r\n        className = `${className} default-focus-cell`\r\n      }\r\n    }\r\n\r\n    const attr = {}\r\n    if (!withoutTabIndex) attr.tabIndex = tabIndex\r\n    return (\r\n      <td\r\n        {...attr}\r\n        style={tdStyle}\r\n        title={columnTitle}\r\n        className={className}\r\n        {...opts}\r\n        {...attrs}\r\n      >\r\n        {typeof children === \"boolean\" ? children.toString() : children}\r\n      </td>\r\n    )\r\n  }\r\n}\r\nTableColumn.propTypes = {\r\n  rIndex: PropTypes.number,\r\n  dataAlign: PropTypes.string,\r\n  hidden: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  columnTitle: PropTypes.string,\r\n  children: PropTypes.node,\r\n  onClick: PropTypes.func,\r\n  attrs: PropTypes.object,\r\n  style: PropTypes.object,\r\n  isFocus: PropTypes.bool,\r\n  onKeyDown: PropTypes.func,\r\n  tabIndex: PropTypes.string,\r\n  withoutTabIndex: PropTypes.bool,\r\n  keyBoardNav: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\r\n  customNavStyle: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\r\n  row: PropTypes.any /* only used on custom styling for navigation */,\r\n}\r\n\r\nTableColumn.defaultProps = {\r\n  dataAlign: \"left\",\r\n  withoutTabIndex: false,\r\n  hidden: false,\r\n  className: \"\",\r\n  isFocus: false,\r\n  keyBoardNav: false,\r\n}\r\nexport default TableColumn\r\n","import Utils from './util';\nimport React from 'react';\n\nconst editor = function(editable, attr, format, editorClass, defaultValue, ignoreEditable, row) {\n  if (editable === true ||\n    (editable === false && ignoreEditable) ||\n    typeof editable === 'string') { // simple declare\n    const type = editable ? 'text' : editable;\n    return (\n      <input { ...attr } type={ type } defaultValue={ defaultValue }\n          className={ ( editorClass || '') + ' form-control editor edit-text' } />\n    );\n  } else if (!editable) {\n    const type = editable ? 'text' : editable;\n    return (\n        <input { ...attr } type={ type } defaultValue={ defaultValue }\n          disabled='disabled'\n          className={ ( editorClass || '') + ' form-control editor edit-text' } />\n    );\n  } else if (editable && (editable.type === undefined ||\n             editable.type === null ||\n             editable.type.trim() === '')) {\n    const type = editable ? 'text' : editable;\n    return (\n      <input { ...attr } type={ type } defaultValue={ defaultValue }\n        className={ ( editorClass || '') + ' form-control editor edit-text' } />\n    );\n  } else if (editable.type) {// standard declare\n    // put style if exist\n    editable.style && (attr.style = editable.style);\n    // put class if exist\n    attr.className = (editorClass || '') +\n                     ' form-control editor edit-' +\n                     editable.type +\n                     (editable.className ? (' ' + editable.className) : '');\n\n    if (editable.type === 'select') {// process select input\n      let options = [];\n      let { values } = editable.options;\n      const { textKey, valueKey } = editable.options;\n      if (Utils.isFunction(values)) {\n        values = values(row);\n      }\n      if (Array.isArray(values)) {// only can use arrray data for options\n        let text;\n        let value;\n        options = values.map((option, i) => {\n          if (typeof option === 'object') {\n            text = textKey ? option[textKey] : option.text;\n            value = valueKey ? option[valueKey] : option.value;\n          } else {\n            text = format ? format(option) : option;\n            value = option;\n          }\n          return (\n            <option key={ 'option' + i } value={ value }>{ text }</option>\n          );\n        }\n        );\n      }\n      return (\n        <select { ...attr } defaultValue={ defaultValue }>\n          { options }\n        </select>\n      );\n    } else if (editable.type === 'textarea') {// process textarea input\n      // put other if exist\n      editable.cols && (attr.cols = editable.cols);\n      editable.rows && (attr.rows = editable.rows);\n      let saveBtn;\n      const keyUpHandler = attr.onKeyDown;\n      if (keyUpHandler) {\n        attr.onKeyDown = function(e) {\n          if (e.keyCode !== 13) { // not Pressed ENTER\n            keyUpHandler(e);\n          }\n        };\n        saveBtn = (\n          <button\n            className='btn btn-info btn-xs textarea-save-btn'\n            onClick={ keyUpHandler }>\n            save\n          </button>\n        );\n      }\n      return (\n        <div>\n          <textarea { ...attr } defaultValue={ defaultValue }></textarea>\n          { saveBtn }\n        </div>\n      );\n    } else if (editable.type === 'checkbox') {\n      let values = 'true:false';\n      if (editable.options && editable.options.values) {\n        // values = editable.options.values.split(':');\n        values = editable.options.values;\n      }\n      attr.className = attr.className.replace('form-control', '');\n      attr.className += ' checkbox pull-right';\n\n      const checked = defaultValue &&\n        defaultValue.toString() === values.split(':')[0] ? true : false;\n\n      return (\n        <input { ...attr } type='checkbox'\n          value={ values } defaultChecked={ checked }/>\n      );\n    } else if (editable.type === 'datetime') {\n      return (\n        <input { ...attr } type='datetime-local' defaultValue={ defaultValue }/>\n      );\n    } else {// process other input type. as password,url,email...\n      return (\n        <input { ...attr } type={ editable.type } defaultValue={ defaultValue }/>\n      );\n    }\n  }\n  // default return for other case of editable\n  return (\n    <input {...attr} type='text'\n      className={ (editorClass || '') + ' form-control editor edit-text' }/>\n  );\n};\n\nexport default editor;\n","// import Alert from 'react-s-alert';\nimport {CAlert as Alert} from './_libs';\n\nconst notice = (type, msg, title) => {\n  const titleHTML = title ? `<h4><strong>${ title }</strong></h4>` : '';\n\n  const bodyHTML = `\n    ${ titleHTML }\n    <div>\n      <span class='fa fa-exclamation-triangle glyphicon glyphicon-alert'></span>&nbsp;\n      <span>${ msg }</span>\n    </div>\n  `;\n\n  Alert.error(bodyHTML, {\n    position: 'top-right',\n    timeout: 3000,\n    html: true,\n    effect: 'scale'\n  });\n};\n\nexport { notice };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport editor from './Editor';\nimport { notice } from './Notification.js';\nimport classSet from 'classnames';\nimport Util from './util';\n\nclass TableEditColumn extends Component {\n  constructor(props) {\n    super(props);\n    this.timeouteClear = 0;\n    const { fieldValue, row, className } = this.props;\n    this.focusInEditor = this.focusInEditor.bind(this);\n    this.state = {\n      shakeEditor: false,\n      className: Util.isFunction(className) ? className(fieldValue, row) : className\n    };\n  }\n\n  valueShortCircuit(value) {\n    return value === null || typeof value === 'undefined' ? '' : value;\n  }\n\n  handleKeyPress = e => {\n    if (e.keyCode === 13 || e.keyCode === 9) {\n      // Pressed ENTER or TAB\n      const value = e.currentTarget.type === 'checkbox' ?\n                      this._getCheckBoxValue(e) : e.currentTarget.value;\n\n      if ((e.keyCode === 9 && this.props.blurToSave) ||\n        (!this.validator(value))) {\n        return;\n      }\n\n      if (e.keyCode === 13) {\n        this.props.completeEdit(value, this.props.rowIndex, this.props.colIndex);\n      } else {\n        this.props.onTab(this.props.rowIndex + 1, this.props.colIndex + 1, 'tab', e);\n        e.preventDefault();\n      }\n    } else if (e.keyCode === 27) {\n      this.props.completeEdit(\n        null, this.props.rowIndex, this.props.colIndex);\n    } else if (e.type === 'click' && !this.props.blurToSave) {  // textarea click save button\n      const value = e.target.parentElement.firstChild.value;\n      if (!this.validator(value)) {\n        return;\n      }\n      this.props.completeEdit(\n          value, this.props.rowIndex, this.props.colIndex);\n    }\n  }\n\n  handleBlur = e => {\n    e.stopPropagation();\n    if (this.props.blurToSave) {\n      const value = e.currentTarget.type === 'checkbox' ?\n                      this._getCheckBoxValue(e) : e.currentTarget.value;\n      if (!this.validator(value)) {\n        return false;\n      }\n      this.props.completeEdit(\n          value, this.props.rowIndex, this.props.colIndex);\n    } else if (this.props.blurToEscape) {\n      this.props.completeEdit(null, this.props.rowIndex, this.props.colIndex);\n    }\n  }\n\n  handleCustomUpdate = value => {\n    if (!this.validator(value)) {\n      return;\n    }\n    this.props.completeEdit(value, this.props.rowIndex, this.props.colIndex);\n  }\n\n  // modified by iuculanop\n  // BEGIN\n  validator(value) {\n    const ts = this;\n    let valid = true;\n    if (ts.props.editable.validator) {\n      const checkVal = ts.props.editable.validator(value, this.props.row);\n      const responseType = typeof checkVal;\n      if (responseType !== 'object' && checkVal !== true) {\n        valid = false;\n        this.notifyToastr('error', checkVal, '');\n      } else if (responseType === 'object' && checkVal.isValid !== true) {\n        valid = false;\n        this.notifyToastr(checkVal.notification.type,\n                          checkVal.notification.msg,\n                          checkVal.notification.title);\n      }\n      if (!valid) {\n        // animate input\n        ts.clearTimeout();\n        const { invalidColumnClassName, row } = this.props;\n        const className = Util.isFunction(invalidColumnClassName) ?\n          invalidColumnClassName(value, row) :\n          invalidColumnClassName;\n        ts.setState({ shakeEditor: true, className });\n        ts.timeouteClear = setTimeout(() => {\n          ts.setState({ shakeEditor: false });\n        }, 300);\n        this.focusInEditor();\n        return valid;\n      }\n    }\n    return valid;\n  }\n  // END\n\n  notifyToastr = (type, message, title) => {\n    let toastr = true;\n    const { beforeShowError } = this.props;\n    if (beforeShowError) {\n      toastr = beforeShowError(type, message, title);\n    }\n    if (toastr) {\n      notice(type, message, title);\n    }\n  }\n\n  clearTimeout() {\n    if (this.timeouteClear !== 0) {\n      clearTimeout(this.timeouteClear);\n      this.timeouteClear = 0;\n    }\n  }\n\n  componentDidMount() {\n    this.focusInEditor();\n    const dom = ReactDOM.findDOMNode(this);\n    if (this.props.isFocus) {\n      dom.focus();\n    } else {\n      dom.blur();\n    }\n  }\n\n  componentDidUpdate() {\n    const dom = ReactDOM.findDOMNode(this);\n    if (this.props.isFocus) {\n      dom.focus();\n    } else {\n      dom.blur();\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearTimeout();\n  }\n\n  focusInEditor() {\n    if (this.inputRef && Util.isFunction(this.inputRef.focus)) {\n      this.inputRef.focus();\n    }\n  }\n\n  handleClick = e => {\n    if (e.target.tagName !== 'TD') {\n      e.stopPropagation();\n    }\n  }\n\n  getInputRef = userRef => ref => {\n    this.inputRef = ref;\n    if (Util.isFunction(userRef)) {\n      userRef(ref);\n    } else if (typeof userRef === 'string') {\n      throw new Error('Ref must be a function');\n    }\n  }\n\n  getHandleKeyPress = customHandler => e => {\n    this.handleKeyPress(e);\n    if (Util.isFunction(customHandler)) {\n      customHandler(e);\n    }\n  }\n\n  getHandleBlur = customHandler => e => {\n    this.handleBlur(e);\n    if (Util.isFunction(customHandler)) {\n      customHandler(e);\n    }\n  }\n\n  render() {\n    const {\n      editable,\n      format,\n      customEditor,\n      isFocus,\n      customStyleWithNav,\n      row,\n      attrs\n    } = this.props;\n    const { shakeEditor } = this.state;\n    const attr = {\n      ...editable.attrs,\n      ref: this.getInputRef(editable.attrs && editable.attrs.ref),\n      onKeyDown: this.getHandleKeyPress(editable.attrs && editable.attrs.onKeyDown),\n      onBlur: this.getHandleBlur(editable.attrs && editable.attrs.onBlur)\n    };\n    let style = { position: 'relative' };\n    let { fieldValue } = this.props;\n    let { className } = this.state;\n\n    if (editable.placeholder) {\n      attr.placeholder = editable.placeholder;\n      /* eslint-disable no-console */\n      console.warn(\n        'Setting editable.placeholder is deprecated. Use editable.attrs to set input attributes');\n      /* eslint-enable no-console */\n    }\n\n    const editorClass = classSet({ 'animated': shakeEditor, 'shake': shakeEditor });\n    fieldValue = fieldValue === 0 ? '0' : fieldValue;\n    let cellEditor;\n    if (customEditor) {\n      const customEditorProps = {\n        row,\n        ...attr,\n        defaultValue: this.valueShortCircuit(fieldValue),\n        ...customEditor.customEditorParameters\n      };\n      cellEditor = customEditor.getElement(this.handleCustomUpdate, customEditorProps);\n    } else {\n      cellEditor = editor(editable, attr, format, editorClass, this.valueShortCircuit(fieldValue),\n          null, row);\n    }\n\n    if (isFocus) {\n      if (customStyleWithNav) {\n        const customStyle = Util.isFunction(customStyleWithNav) ?\n          customStyleWithNav(fieldValue, row) : customStyleWithNav;\n        style = {\n          ...style,\n          ...customStyle\n        };\n      } else {\n        className = `${className} default-focus-cell`;\n      }\n    }\n\n    return (\n      <td\n        { ...attrs }\n        style={ style }\n        className={ className }\n        onClick={ this.handleClick }>\n        { cellEditor }\n      </td>\n    );\n  }\n\n  _getCheckBoxValue(e) {\n    let value = '';\n    const values = e.currentTarget.value.split(':');\n    value = e.currentTarget.checked ? values[0] : values[1];\n    return value;\n  }\n}\n\nTableEditColumn.propTypes = {\n  completeEdit: PropTypes.func,\n  rowIndex: PropTypes.number,\n  colIndex: PropTypes.number,\n  blurToSave: PropTypes.bool,\n  blurToEscape: PropTypes.bool,\n  editable: PropTypes.oneOfType([ PropTypes.bool, PropTypes.object ]),\n  format: PropTypes.oneOfType([ PropTypes.bool, PropTypes.func ]),\n  row: PropTypes.any,\n  fieldValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.array,\n    PropTypes.object\n  ]),\n  className: PropTypes.any,\n  beforeShowError: PropTypes.func,\n  isFocus: PropTypes.bool,\n  attrs: PropTypes.object,\n  customStyleWithNav: PropTypes.oneOfType([ PropTypes.func, PropTypes.object ])\n};\n\n\nexport default TableEditColumn;\n","/* eslint max-len: 0 */\n/* eslint no-nested-ternary: 0 */\nimport React, { Component } from 'react';\nimport classSet from 'classnames';\n\nclass ExpandComponent extends Component {\n\n  render() {\n    const { className } = this.props;\n    const trCss = {\n      style: {\n        backgroundColor: this.props.bgColor\n      },\n      className: classSet(className)\n    };\n    return (\n      <tr hidden={ this.props.hidden } width={ this.props.width } { ...trCss }>\n        <td colSpan={ this.props.colSpan }>\n          { this.props.children }\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default ExpandComponent;\n","import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport Utils from \"./util\"\r\nimport Const from \"./Const\"\r\nimport TableRow from \"./TableRow\"\r\nimport TableColumn from \"./TableColumn\"\r\nimport TableEditColumn from \"./TableEditColumn\"\r\nimport classSet from \"classnames\"\r\nimport ExpandComponent from \"./ExpandComponent\"\r\n\r\nclass TableBody extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      currEditCell: null,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { cellEdit, beforeShowError, x, y, keyBoardNav, trStyle, version } =\r\n      this.props\r\n    const customTableClasses = {\r\n      \"table-striped\": this.props.striped,\r\n      \"table-bordered\": this.props.bordered,\r\n      \"table-hover\": this.props.hover,\r\n    }\r\n    if (this.props.condensed) {\r\n      if (Utils.isBootstrap4(version)) customTableClasses[\"table-sm\"] = true\r\n      else customTableClasses[\"table-condensed\"] = true\r\n    }\r\n    const tableClasses = classSet(\r\n      \"table\",\r\n      customTableClasses,\r\n      this.props.tableBodyClass\r\n    )\r\n\r\n    const noneditableRows =\r\n      (cellEdit.nonEditableRows && cellEdit.nonEditableRows()) || []\r\n    const unselectable = this.props.selectRow.unselectable || []\r\n    const isSelectRowDefined = Utils.isSelectRowDefined(\r\n      this.props.selectRow.mode\r\n    )\r\n    const tableHeader = Utils.renderColGroup(\r\n      this.props.columns,\r\n      this.props.selectRow,\r\n      this.props.expandColumnOptions,\r\n      version\r\n    )\r\n    const inputType =\r\n      this.props.selectRow.mode === Const.ROW_SELECT_SINGLE\r\n        ? \"radio\"\r\n        : \"checkbox\"\r\n    const CustomComponent = this.props.selectRow.customComponent\r\n    const enableKeyBoardNav =\r\n      keyBoardNav === true || typeof keyBoardNav === \"object\"\r\n    const customEditAndNavStyle =\r\n      typeof keyBoardNav === \"object\" ? keyBoardNav.customStyleOnEditCell : null\r\n    const customNavStyle =\r\n      typeof keyBoardNav === \"object\" ? keyBoardNav.customStyle : null\r\n    const ExpandColumnCustomComponent =\r\n      this.props.expandColumnOptions.expandColumnComponent\r\n    let expandColSpan = this.props.columns.filter(\r\n      col => col && !col.hidden\r\n    ).length\r\n    if (isSelectRowDefined && !this.props.selectRow.hideSelectColumn) {\r\n      expandColSpan += 1\r\n    }\r\n    let tabIndex = 1\r\n    if (this.props.expandColumnOptions.expandColumnVisible) {\r\n      expandColSpan += 1\r\n    }\r\n\r\n    let tableRows = this.props.data.map(function (data, r) {\r\n      const tableColumns = this.props.columns\r\n        .filter(_ => _ != null)\r\n        .map(function (column, i, allCol) {\r\n          const fieldValue = data[column.name]\r\n          const isFocusCell = r === y && i === x\r\n          if (\r\n            column.name !== this.props.keyField && // Key field can't be edit\r\n            column.editable && // column is editable? default is true, user can set it false\r\n            column.editable.readOnly !== true &&\r\n            this.state.currEditCell !== null &&\r\n            this.state.currEditCell.rid === r &&\r\n            this.state.currEditCell.cid === i &&\r\n            noneditableRows.indexOf(data[this.props.keyField]) === -1\r\n          ) {\r\n            let editable = column.editable\r\n            const format = column.format\r\n              ? function (value) {\r\n                  return column\r\n                    .format(value, data, column.formatExtraData, r)\r\n                    .replace(/<.*?>/g, \"\")\r\n                }\r\n              : false\r\n            if (Utils.isFunction(column.editable)) {\r\n              editable = column.editable(fieldValue, data, r, i)\r\n            }\r\n\r\n            return (\r\n              <TableEditColumn\r\n                completeEdit={this.handleCompleteEditCell}\r\n                // add by bluespring for column editor customize\r\n                editable={editable}\r\n                attrs={column.editAttrs}\r\n                customEditor={column.customEditor}\r\n                format={column.format ? format : false}\r\n                key={i}\r\n                blurToSave={cellEdit.blurToSave}\r\n                blurToEscape={cellEdit.blurToEscape}\r\n                onTab={this.handleEditCell}\r\n                rowIndex={r}\r\n                colIndex={i}\r\n                row={data}\r\n                fieldValue={fieldValue}\r\n                className={column.editClassName}\r\n                invalidColumnClassName={column.invalidEditColumnClassName}\r\n                beforeShowError={beforeShowError}\r\n                isFocus={isFocusCell}\r\n                customStyleWithNav={customEditAndNavStyle}\r\n              />\r\n            )\r\n          } else {\r\n            // add by bluespring for className customize\r\n            let formattedValue\r\n            let columnChild = fieldValue && fieldValue.toString()\r\n            let columnTitle = null\r\n            let tdClassName = column.className\r\n            let tdStyles = column.style\r\n            if (Utils.isFunction(column.className)) {\r\n              tdClassName = column.className(fieldValue, data, r, i)\r\n            }\r\n\r\n            if (Utils.isFunction(column.style)) {\r\n              tdStyles = column.style(fieldValue, data, r, i)\r\n            }\r\n\r\n            if (typeof column.format !== \"undefined\") {\r\n              formattedValue = column.format(\r\n                fieldValue,\r\n                data,\r\n                column.formatExtraData,\r\n                r\r\n              )\r\n              if (!React.isValidElement(formattedValue)) {\r\n                columnChild = (\r\n                  <div\r\n                    dangerouslySetInnerHTML={{ __html: formattedValue }}\r\n                  ></div>\r\n                )\r\n              } else {\r\n                columnChild = formattedValue\r\n              }\r\n            }\r\n            if (Utils.isFunction(column.columnTitle)) {\r\n              columnTitle = column.columnTitle(fieldValue, data, r, i)\r\n            } else if (typeof column.columnTitle === \"string\") {\r\n              columnTitle = column.columnTitle\r\n            } else if (column.columnTitle) {\r\n              if (formattedValue) columnTitle = formattedValue.toString()\r\n              else if (fieldValue) columnTitle = fieldValue.toString()\r\n            }\r\n\r\n            //custom\r\n            let _attrs = { ...column.editAttrs }\r\n            // console.warn(\"data\", column, data)\r\n            if (data[\"UI_MergeRowByField\"]) {\r\n              // console.warn(\"data\", column, data)\r\n              if (typeof data[\"UI_MergeRowByField\"] == \"string\") {\r\n                if (column.name == data[\"UI_MergeRowByField\"]) {\r\n                  _attrs.colSpan = this.props.columns.length - 1\r\n                } else if (column.hidden != true) {\r\n                  _attrs.colSpan = 0\r\n                  columnChild = null\r\n                }\r\n              } else {\r\n                if (data[\"UI_MergeRowByField\"][column.name] != null) {\r\n                  _attrs.colSpan = data[\"UI_MergeRowByField\"][column.name]\r\n                } else if (column.hidden != true) {\r\n                  _attrs.colSpan = 0\r\n                  columnChild = null\r\n                }\r\n              }\r\n            }\r\n            return (\r\n              <TableColumn\r\n                key={i}\r\n                cIndex={i}\r\n                rIndex={r}\r\n                allCol={allCol} //bo sung\r\n                isLastCol={i == allCol.length - 1} //bo sung\r\n                dataAlign={column.align}\r\n                className={tdClassName}\r\n                columnTitle={columnTitle}\r\n                cellEdit={cellEdit}\r\n                hidden={column.hidden}\r\n                onEdit={this.handleEditCell}\r\n                width={column.width}\r\n                onClick={this.handleClickCell}\r\n                attrs={_attrs}\r\n                style={tdStyles}\r\n                tabIndex={tabIndex++ + \"\"}\r\n                isFocus={isFocusCell}\r\n                keyBoardNav={enableKeyBoardNav}\r\n                onKeyDown={this.handleCellKeyDown}\r\n                customNavStyle={customNavStyle}\r\n                row={data}\r\n                withoutTabIndex={this.props.withoutTabIndex}\r\n              >\r\n                {columnChild}\r\n              </TableColumn>\r\n            )\r\n          }\r\n        }, this)\r\n      const key = data[this.props.keyField]\r\n      const disable = unselectable.indexOf(key) !== -1\r\n      const selected = this.props.selectedRowKeys.indexOf(key) !== -1\r\n      const selectRowColumn =\r\n        isSelectRowDefined && !this.props.selectRow.hideSelectColumn\r\n          ? this.renderSelectRowColumn(\r\n              selected,\r\n              inputType,\r\n              disable,\r\n              CustomComponent,\r\n              r,\r\n              data\r\n            )\r\n          : null\r\n      const expandedRowColumn = this.renderExpandRowColumn(\r\n        this.props.expandableRow && this.props.expandableRow(data),\r\n        this.props.expanding.indexOf(key) > -1,\r\n        ExpandColumnCustomComponent,\r\n        r\r\n      )\r\n      const haveExpandContent =\r\n        this.props.expandableRow && this.props.expandableRow(data)\r\n      const isExpanding =\r\n        haveExpandContent && this.props.expanding.indexOf(key) > -1\r\n      const { hideRowOnExpand } = this.props\r\n      // add by bluespring for className customize\r\n      let trClassName = this.props.trClassName\r\n      if (Utils.isFunction(this.props.trClassName)) {\r\n        trClassName = this.props.trClassName(data, r)\r\n      }\r\n      if (isExpanding && this.props.expandParentClass) {\r\n        trClassName += Utils.isFunction(this.props.expandParentClass)\r\n          ? ` ${this.props.expandParentClass(data, r)}`\r\n          : ` ${this.props.expandParentClass}`\r\n      }\r\n      const result = [\r\n        <TableRow\r\n          isSelected={selected}\r\n          key={key}\r\n          className={trClassName}\r\n          index={r}\r\n          row={data}\r\n          selectRow={isSelectRowDefined ? this.props.selectRow : undefined}\r\n          enableCellEdit={cellEdit.mode !== Const.CELL_EDIT_NONE}\r\n          onRowClick={this.handleRowClick}\r\n          onRowDoubleClick={this.handleRowDoubleClick}\r\n          onRowMouseOver={this.handleRowMouseOver}\r\n          onRowMouseOut={this.handleRowMouseOut}\r\n          onSelectRow={this.handleSelectRow}\r\n          onExpandRow={this.handleClickCell}\r\n          unselectableRow={disable}\r\n          style={trStyle}\r\n          hidden={isExpanding && hideRowOnExpand}\r\n          dbClickToEdit={cellEdit.mode === Const.CELL_EDIT_DBCLICK}\r\n        >\r\n          {this.props.expandColumnOptions.expandColumnVisible &&\r\n            this.props.expandColumnOptions.expandColumnBeforeSelectColumn &&\r\n            expandedRowColumn}\r\n          {selectRowColumn}\r\n          {this.props.expandColumnOptions.expandColumnVisible &&\r\n            !this.props.expandColumnOptions.expandColumnBeforeSelectColumn &&\r\n            expandedRowColumn}\r\n          {tableColumns}\r\n        </TableRow>,\r\n      ]\r\n\r\n      if (haveExpandContent) {\r\n        const expandBodyClass = Utils.isFunction(this.props.expandBodyClass)\r\n          ? this.props.expandBodyClass(data, r, isExpanding)\r\n          : this.props.expandBodyClass\r\n        result.push(\r\n          <ExpandComponent\r\n            key={key + \"-expand\"}\r\n            row={data}\r\n            className={expandBodyClass}\r\n            bgColor={\r\n              this.props.expandRowBgColor ||\r\n              this.props.selectRow.bgColor ||\r\n              undefined\r\n            }\r\n            hidden={!isExpanding}\r\n            colSpan={expandColSpan}\r\n            width={\"100%\"}\r\n          >\r\n            {this.props.expandComponent(data)}\r\n          </ExpandComponent>\r\n        )\r\n      }\r\n      return result\r\n    }, this)\r\n\r\n    if (tableRows.length === 0 && !this.props.withoutNoDataText) {\r\n      const colSpan =\r\n        this.props.columns.filter(c => !c.hidden).length +\r\n        (isSelectRowDefined && !this.props.selectRow.hideSelectColumn ? 1 : 0) +\r\n        (this.props.expandColumnOptions.expandColumnVisible ? 1 : 0)\r\n      tableRows = [\r\n        <TableRow key=\"##table-empty##\" style={trStyle}>\r\n          <td\r\n            data-toggle=\"collapse\"\r\n            colSpan={colSpan}\r\n            className=\"react-bs-table-no-data\"\r\n          >\r\n            {this.props.noDataText || Const.NO_DATA_TEXT}\r\n          </td>\r\n        </TableRow>,\r\n      ]\r\n    }\r\n\r\n    return (\r\n      <div\r\n        ref={node => (this.container = node)}\r\n        className={classSet(\r\n          \"react-bs-container-body\",\r\n          this.props.bodyContainerClass\r\n        )}\r\n        style={this.props.style}\r\n      >\r\n        <table className={tableClasses}>\r\n          {React.cloneElement(tableHeader, {\r\n            ref: node => (this.header = node),\r\n          })}\r\n          <tbody ref={node => (this.tbody = node)}>{tableRows}</tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleCellKeyDown = (e, lastEditCell) => {\r\n    e.preventDefault()\r\n    const { keyBoardNav, onNavigateCell, cellEdit, selectedRowKeys } =\r\n      this.props\r\n    let offset\r\n    if (e.keyCode === 37) {\r\n      offset = { x: -1, y: 0 }\r\n    } else if (e.keyCode === 38) {\r\n      offset = { x: 0, y: -1 }\r\n    } else if (e.keyCode === 39 || e.keyCode === 9) {\r\n      offset = { x: 1, y: 0 }\r\n      if (e.keyCode === 9 && lastEditCell) {\r\n        offset = {\r\n          ...offset,\r\n          lastEditCell,\r\n        }\r\n      }\r\n    } else if (e.keyCode === 40) {\r\n      offset = { x: 0, y: 1 }\r\n    } else if (e.keyCode === 13) {\r\n      const rowIndex = e.target.parentElement.rowIndex + 1\r\n      const enterToEdit =\r\n        typeof keyBoardNav === \"object\" ? keyBoardNav.enterToEdit : false\r\n      const enterToExpand =\r\n        typeof keyBoardNav === \"object\" ? keyBoardNav.enterToExpand : false\r\n      const enterToSelect =\r\n        typeof keyBoardNav === \"object\" ? keyBoardNav.enterToSelect : false\r\n\r\n      if (cellEdit && enterToEdit) {\r\n        this.handleEditCell(rowIndex, e.currentTarget.cellIndex, \"\", e)\r\n      }\r\n\r\n      if (enterToExpand) {\r\n        this.handleClickCell(e, this.props.y + 1, this.props.x)\r\n      }\r\n\r\n      if (enterToSelect) {\r\n        const isSelected =\r\n          selectedRowKeys.indexOf(\r\n            this.props.data[rowIndex - 1][this.props.keyField]\r\n          ) !== -1\r\n        this.handleSelectRow(rowIndex, !isSelected, e)\r\n      }\r\n    }\r\n    if (offset && keyBoardNav) {\r\n      onNavigateCell(offset)\r\n    }\r\n  }\r\n\r\n  handleRowMouseOut = (rowIndex, event) => {\r\n    const targetRow = this.props.data[rowIndex]\r\n    this.props.onRowMouseOut(targetRow, event)\r\n  }\r\n\r\n  handleRowMouseOver = (rowIndex, event) => {\r\n    const targetRow = this.props.data[rowIndex]\r\n    this.props.onRowMouseOver(targetRow, event)\r\n  }\r\n\r\n  handleRowClick = (rowIndex, cellIndex, event) => {\r\n    const { onRowClick, selectRow } = this.props\r\n    if (Utils.isSelectRowDefined(selectRow.mode)) cellIndex--\r\n    if (this._isExpandColumnVisible()) cellIndex--\r\n    onRowClick(this.props.data[rowIndex - 1], rowIndex - 1, cellIndex, event)\r\n  }\r\n\r\n  handleRowDoubleClick = (rowIndex, event) => {\r\n    const { onRowDoubleClick } = this.props\r\n    const targetRow = this.props.data[rowIndex]\r\n    onRowDoubleClick(targetRow, event)\r\n  }\r\n\r\n  handleSelectRow = (rowIndex, isSelected, e) => {\r\n    let selectedRow\r\n    const { data, onSelectRow } = this.props\r\n    data.forEach((row, i) => {\r\n      if (i === rowIndex - 1) {\r\n        selectedRow = row\r\n        return false\r\n      }\r\n    })\r\n    onSelectRow(selectedRow, isSelected, e, rowIndex - 1)\r\n  }\r\n\r\n  handleSelectRowColumChange = (e, rowIndex) => {\r\n    if (\r\n      !this.props.selectRow.clickToSelect ||\r\n      !this.props.selectRow.clickToSelectAndEditCell\r\n    ) {\r\n      this.handleSelectRow(rowIndex + 1, e.currentTarget.checked, e)\r\n    }\r\n  }\r\n\r\n  handleClickCell = (event, rowIndex, columnIndex = -1) => {\r\n    const {\r\n      columns,\r\n      keyField,\r\n      expandBy,\r\n      expandableRow,\r\n      selectRow: { mode, clickToExpand, hideSelectColumn },\r\n      onlyOneExpanding,\r\n    } = this.props\r\n    const isSelectRowDefined = Utils.isSelectRowDefined(mode)\r\n    const selectRowAndExpand =\r\n      isSelectRowDefined && !clickToExpand ? false : true\r\n    columnIndex =\r\n      isSelectRowDefined && !hideSelectColumn ? columnIndex - 1 : columnIndex\r\n    columnIndex = this._isExpandColumnVisible() ? columnIndex - 1 : columnIndex\r\n    if (\r\n      expandableRow &&\r\n      selectRowAndExpand &&\r\n      (expandBy === Const.EXPAND_BY_ROW ||\r\n        /* Below will allow expanding trigger by clicking on selection column\r\n      if configure as expanding by column */\r\n        (expandBy === Const.EXPAND_BY_COL && columnIndex < 0) ||\r\n        (expandBy === Const.EXPAND_BY_COL && columns[columnIndex].expandable))\r\n    ) {\r\n      let expanding = this.props.expanding\r\n      const rowKey = this.props.data[rowIndex - 1][keyField]\r\n      const isRowExpanding = expanding.indexOf(rowKey) > -1\r\n\r\n      if (isRowExpanding) {\r\n        // collapse\r\n        expanding = expanding.filter(k => k !== rowKey)\r\n      } else {\r\n        // expand\r\n        if (onlyOneExpanding) expanding = [rowKey]\r\n        else expanding.push(rowKey)\r\n      }\r\n      this.props.onExpand(expanding, rowKey, isRowExpanding, event)\r\n    }\r\n  }\r\n\r\n  handleEditCell = (rowIndex, columnIndex, action, e) => {\r\n    const { selectRow } = this.props\r\n    const defineSelectRow = Utils.isSelectRowDefined(selectRow.mode)\r\n    const expandColumnVisible = this._isExpandColumnVisible()\r\n    if (defineSelectRow) {\r\n      columnIndex--\r\n      if (selectRow.hideSelectColumn) columnIndex++\r\n    }\r\n    if (expandColumnVisible) {\r\n      columnIndex--\r\n    }\r\n    rowIndex--\r\n\r\n    if (action === \"tab\") {\r\n      if (defineSelectRow && !selectRow.hideSelectColumn) columnIndex++\r\n      if (expandColumnVisible) columnIndex++\r\n      this.handleCompleteEditCell(e.target.value, rowIndex, columnIndex - 1)\r\n      if (columnIndex >= this.props.columns.length) {\r\n        this.handleCellKeyDown(e, true)\r\n      } else {\r\n        this.handleCellKeyDown(e)\r\n      }\r\n      const { nextRIndex, nextCIndex } = this.nextEditableCell(\r\n        rowIndex,\r\n        columnIndex\r\n      )\r\n      rowIndex = nextRIndex\r\n      columnIndex = nextCIndex\r\n    }\r\n\r\n    const stateObj = {\r\n      currEditCell: {\r\n        rid: rowIndex,\r\n        cid: columnIndex,\r\n      },\r\n    }\r\n\r\n    if (\r\n      this.props.selectRow.clickToSelectAndEditCell &&\r\n      this.props.cellEdit.mode !== Const.CELL_EDIT_DBCLICK\r\n    ) {\r\n      const selected =\r\n        this.props.selectedRowKeys.indexOf(\r\n          this.props.data[rowIndex][this.props.keyField]\r\n        ) !== -1\r\n      this.handleSelectRow(rowIndex + 1, !selected, e)\r\n    }\r\n    this.setState(() => stateObj)\r\n  }\r\n\r\n  nextEditableCell = (rIndex, cIndex) => {\r\n    const { keyField } = this.props\r\n    let nextRIndex = rIndex\r\n    let nextCIndex = cIndex\r\n    let row\r\n    let column\r\n    do {\r\n      if (nextCIndex >= this.props.columns.length) {\r\n        nextRIndex++\r\n        nextCIndex = 0\r\n      }\r\n      row = this.props.data[nextRIndex]\r\n      column = this.props.columns[nextCIndex]\r\n      if (!row) break\r\n      let editable = column.editable\r\n      if (Utils.isFunction(column.editable)) {\r\n        editable = column.editable(column, row, nextRIndex, nextCIndex)\r\n      }\r\n      if (\r\n        editable &&\r\n        editable.readOnly !== true &&\r\n        !column.hidden &&\r\n        keyField !== column.name\r\n      ) {\r\n        break\r\n      } else {\r\n        nextCIndex++\r\n      }\r\n    } while (row)\r\n    return { nextRIndex, nextCIndex }\r\n  }\r\n\r\n  handleCompleteEditCell = (newVal, rowIndex, columnIndex) => {\r\n    if (newVal !== null) {\r\n      const result = this.props.onEditCell(newVal, rowIndex, columnIndex)\r\n      if (result !== Const.AWAIT_BEFORE_CELL_EDIT) {\r\n        this.setState(() => {\r\n          return { currEditCell: null }\r\n        })\r\n      }\r\n    } else {\r\n      this.setState(() => {\r\n        return { currEditCell: null }\r\n      })\r\n    }\r\n  }\r\n\r\n  cancelEditCell = () => {\r\n    this.setState(() => {\r\n      return { currEditCell: null }\r\n    })\r\n  }\r\n\r\n  handleClickonSelectColumn = (e, isSelect, rowIndex, row) => {\r\n    e.stopPropagation()\r\n    if (\r\n      e.target.tagName === \"TD\" &&\r\n      (this.props.selectRow.clickToSelect ||\r\n        this.props.selectRow.clickToSelectAndEditCell)\r\n    ) {\r\n      const unselectable = this.props.selectRow.unselectable || []\r\n      if (unselectable.indexOf(row[this.props.keyField]) === -1) {\r\n        this.handleSelectRow(rowIndex + 1, isSelect, e)\r\n        this.handleClickCell(e, rowIndex + 1)\r\n      }\r\n    }\r\n  }\r\n\r\n  renderSelectRowColumn(\r\n    selected,\r\n    inputType,\r\n    disabled,\r\n    CustomComponent = null,\r\n    rowIndex = null,\r\n    row\r\n  ) {\r\n    return (\r\n      <td\r\n        onClick={e => {\r\n          this.handleClickonSelectColumn(e, !selected, rowIndex, row)\r\n        }}\r\n        style={{ textAlign: \"center\" }}\r\n      >\r\n        {CustomComponent ? (\r\n          <CustomComponent\r\n            type={inputType}\r\n            checked={selected}\r\n            disabled={disabled}\r\n            rowIndex={rowIndex}\r\n            onChange={e => this.handleSelectRowColumChange(e, rowIndex)}\r\n          />\r\n        ) : (\r\n          <input\r\n            type={inputType}\r\n            checked={selected}\r\n            disabled={disabled}\r\n            onChange={e => this.handleSelectRowColumChange(e, rowIndex)}\r\n          />\r\n        )}\r\n      </td>\r\n    )\r\n  }\r\n\r\n  renderExpandRowColumn(\r\n    isExpandableRow,\r\n    isExpanded,\r\n    CustomComponent,\r\n    rowIndex = null\r\n  ) {\r\n    let content = null\r\n    if (CustomComponent) {\r\n      content = (\r\n        <CustomComponent\r\n          isExpandableRow={isExpandableRow}\r\n          isExpanded={isExpanded}\r\n        />\r\n      )\r\n    } else if (isExpandableRow) {\r\n      content = isExpanded ? (\r\n        <span className=\"fa fa-minus glyphicon glyphicon-minus\"></span>\r\n      ) : (\r\n        <span className=\"fa fa-plus glyphicon glyphicon-plus\"></span>\r\n      )\r\n    } else {\r\n      content = \" \"\r\n    }\r\n\r\n    return (\r\n      <td\r\n        className=\"react-bs-table-expand-cell\"\r\n        onClick={e => this.handleClickCell(e, rowIndex + 1)}\r\n      >\r\n        {content}\r\n      </td>\r\n    )\r\n  }\r\n\r\n  _isExpandColumnVisible() {\r\n    return this.props.expandColumnOptions.expandColumnVisible\r\n  }\r\n\r\n  getHeaderColGrouop = () => {\r\n    return this.header.childNodes\r\n  }\r\n}\r\nTableBody.propTypes = {\r\n  version: PropTypes.string,\r\n  data: PropTypes.array,\r\n  columns: PropTypes.array,\r\n  striped: PropTypes.bool,\r\n  bordered: PropTypes.bool,\r\n  hover: PropTypes.bool,\r\n  condensed: PropTypes.bool,\r\n  keyField: PropTypes.string,\r\n  selectedRowKeys: PropTypes.array,\r\n  onRowClick: PropTypes.func,\r\n  onRowDoubleClick: PropTypes.func,\r\n  onSelectRow: PropTypes.func,\r\n  noDataText: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n  withoutNoDataText: PropTypes.bool,\r\n  style: PropTypes.object,\r\n  tableBodyClass: PropTypes.string,\r\n  bodyContainerClass: PropTypes.string,\r\n  expandableRow: PropTypes.func,\r\n  expandComponent: PropTypes.func,\r\n  expandRowBgColor: PropTypes.string,\r\n  expandBy: PropTypes.string,\r\n  expanding: PropTypes.array,\r\n  onExpand: PropTypes.func,\r\n  expandBodyClass: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  expandParentClass: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n  onlyOneExpanding: PropTypes.bool,\r\n  beforeShowError: PropTypes.func,\r\n  keyBoardNav: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\r\n  x: PropTypes.number,\r\n  y: PropTypes.number,\r\n  onNavigateCell: PropTypes.func,\r\n  withoutTabIndex: PropTypes.bool,\r\n  hideRowOnExpand: PropTypes.bool,\r\n}\r\nexport default TableBody\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classSet from 'classnames';\n\nclass PageButton extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  pageBtnClick = e => {\n    e.preventDefault();\n    this.props.changePage(this.props.pageNumber);\n  }\n\n  render() {\n    const classes = classSet({\n      'active': this.props.active,\n      'disabled': this.props.disable,\n      'hidden': this.props.hidden,\n      'page-item': true\n    });\n    return (\n      <li className={ classes } title={ this.props.title }>\n        <a href='#' onClick={ this.pageBtnClick } className='page-link'>{ this.props.children }</a>\n      </li>\n    );\n  }\n}\nPageButton.propTypes = {\n  title: PropTypes.string,\n  changePage: PropTypes.func,\n  active: PropTypes.bool,\n  disable: PropTypes.bool,\n  hidden: PropTypes.bool,\n  children: PropTypes.node,\n  pageNumber: PropTypes.number\n};\n\nexport default PageButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst sizePerPageDefaultClass = 'react-bs-table-sizePerPage-dropdown';\n\nclass SizePerPageDropDown extends Component {\n  render() {\n    const {\n      open,\n      hidden,\n      onClick,\n      onBlur,\n      options,\n      className,\n      variation,\n      btnContextual,\n      isBootstrap4,\n      currSizePerPage\n    } = this.props;\n\n    if (hidden) return null;\n\n    const openClass = open ? 'open show' : '';\n\n    const renderOptions = () => {\n      const attrs = {\n        className: `dropdown-menu ${openClass}`,\n        role: 'menu',\n        'aria-labelledby': 'pageDropDown'\n      };\n      const type = isBootstrap4 ? 'div' : 'ul';\n\n      return React.createElement(type, attrs, options);\n    };\n\n    return (\n      <span\n        className={ `${variation} ${openClass} ${className} ${sizePerPageDefaultClass}` }>\n        <button className={ `btn ${btnContextual} dropdown-toggle` }\n          id='pageDropDown' data-toggle='dropdown'\n          aria-expanded={ open }\n          aria-haspopup={ !open }\n          onClick={ onClick }\n          onBlur={ onBlur }>\n          { currSizePerPage }\n          <span>\n          { ' ' }\n          <span className='caret'/>\n          </span>\n        </button>\n        { renderOptions() }\n      </span>\n    );\n  }\n}\n\nSizePerPageDropDown.propTypes = {\n  open: PropTypes.bool,\n  hidden: PropTypes.bool,\n  btnContextual: PropTypes.string,\n  currSizePerPage: PropTypes.string,\n  options: PropTypes.array,\n  variation: PropTypes.oneOf([ 'dropdown', 'dropup' ]),\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  onBlur: PropTypes.func\n};\nSizePerPageDropDown.defaultProps = {\n  open: false,\n  hidden: false,\n  btnContextual: 'btn-default btn-secondary',\n  variation: 'dropdown',\n  className: ''\n};\n\n\nexport default SizePerPageDropDown;\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classSet from 'classnames';\r\nimport PageButton from './PageButton.js';\r\nimport SizePerPageDropDown from './SizePerPageDropDown';\r\nimport Const from '../Const';\r\nimport Util from '../util';\r\n\r\nclass PaginationList extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: this.props.open\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps() {\r\n    const { keepSizePerPageState } = this.props;\r\n    if (!keepSizePerPageState) {\r\n      this.closeDropDown();\r\n    }\r\n  }\r\n\r\n  changePage = page => {\r\n    const {\r\n      pageStartIndex,\r\n      prePage,\r\n      currPage,\r\n      nextPage,\r\n      lastPage,\r\n      firstPage,\r\n      sizePerPage,\r\n      keepSizePerPageState\r\n    } = this.props;\r\n\r\n    if (page === prePage) {\r\n      page = (currPage - 1) < pageStartIndex ? pageStartIndex : currPage - 1;\r\n    } else if (page === nextPage) {\r\n      page = (currPage + 1) > this.lastPage ? this.lastPage : currPage + 1;\r\n    } else if (page === lastPage) {\r\n      page = this.lastPage;\r\n    } else if (page === firstPage) {\r\n      page = pageStartIndex;\r\n    } else {\r\n      page = parseInt(page, 10);\r\n    }\r\n\r\n    if (keepSizePerPageState) { this.closeDropDown(); }\r\n\r\n    if (page !== currPage) {\r\n      this.props.changePage(page, sizePerPage);\r\n    }\r\n  }\r\n\r\n  changeSizePerPage = pageNum => {\r\n    const selectSize = typeof pageNum === 'string' ? parseInt(pageNum, 10) : pageNum;\r\n    let { currPage } = this.props;\r\n    if (selectSize !== this.props.sizePerPage) {\r\n      this.totalPages = Math.ceil(this.props.dataSize / selectSize);\r\n      this.lastPage = this.props.pageStartIndex + this.totalPages - 1;\r\n      if (currPage > this.lastPage) currPage = this.lastPage;\r\n      this.props.changePage(currPage, selectSize);\r\n      if (this.props.onSizePerPageList) {\r\n        this.props.onSizePerPageList(selectSize);\r\n      }\r\n    }\r\n\r\n    this.closeDropDown();\r\n  }\r\n\r\n  toggleDropDown = () => {\r\n    this.setState(() => {\r\n      return {\r\n        open: !this.state.open\r\n      };\r\n    });\r\n  }\r\n\r\n  closeDropDown = () => {\r\n    this.setState(() => {\r\n      return {\r\n        open: false\r\n      };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      currPage,\r\n      dataSize,\r\n      sizePerPage,\r\n      sizePerPageList,\r\n      paginationShowsTotal,\r\n      pageStartIndex,\r\n      paginationPanel,\r\n      hidePageListOnlyOnePage\r\n    } = this.props;\r\n    this.totalPages = Math.ceil(dataSize / sizePerPage);\r\n    this.lastPage = this.props.pageStartIndex + this.totalPages - 1;\r\n    const pageBtns = this.makePage(Util.isFunction(paginationPanel));\r\n    const dropdown = this.makeDropDown();\r\n\r\n    const offset = Math.abs(Const.PAGE_START_INDEX - pageStartIndex);\r\n    let start = ((currPage - pageStartIndex) * sizePerPage);\r\n    start = dataSize === 0 ? 0 : start + 1;\r\n    let to = Math.min((sizePerPage * (currPage + offset) - 1), dataSize);\r\n    if (to >= dataSize) to--;\r\n    let total = paginationShowsTotal ? <span>\r\n      Showing rows { start } to&nbsp;{ to + 1 } of&nbsp;{ dataSize }\r\n    </span> : null;\r\n\r\n    if (Util.isFunction(paginationShowsTotal)) {\r\n      total = paginationShowsTotal(start, to + 1, dataSize);\r\n    }\r\n\r\n    const content = paginationPanel && paginationPanel({\r\n      currPage,\r\n      sizePerPage,\r\n      sizePerPageList,\r\n      pageStartIndex,\r\n      totalPages: this.totalPages,\r\n      changePage: this.changePage,\r\n      toggleDropDown: this.toggleDropDown,\r\n      changeSizePerPage: this.changeSizePerPage,\r\n      components: {\r\n        totalText: total,\r\n        sizePerPageDropdown: dropdown,\r\n        pageList: pageBtns\r\n      }\r\n    });\r\n\r\n    const hidePageList = hidePageListOnlyOnePage && this.totalPages === 1 ? 'none' : 'block';\r\n    return (\r\n      <div className='row' style={ { marginTop: 15 } }>\r\n        {\r\n          content ||\r\n            [ (\r\n              <div key='paging-left' className='col-md-6 col-xs-6 col-sm-6 col-lg-6'>\r\n                { total }{ sizePerPageList.length > 1 ? dropdown : null }\r\n              </div>\r\n              ), (\r\n              <div key='paging-right' style={ { display: hidePageList } }\r\n                className='col-md-6 col-xs-6 col-sm-6 col-lg-6'>\r\n                { pageBtns }\r\n              </div>\r\n            ) ]\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  makeDropDown() {\r\n    let dropdown;\r\n    let dropdownProps;\r\n    let sizePerPageText = '';\r\n    const {\r\n      sizePerPageDropDown,\r\n      hideSizePerPage,\r\n      sizePerPage,\r\n      sizePerPageList\r\n    } = this.props;\r\n    if (sizePerPageDropDown) {\r\n      dropdown = sizePerPageDropDown({\r\n        open: this.state.open,\r\n        hideSizePerPage,\r\n        currSizePerPage: String(sizePerPage),\r\n        sizePerPageList,\r\n        toggleDropDown: this.toggleDropDown,\r\n        changeSizePerPage: this.changeSizePerPage,\r\n        onBlur: this.closeDropDown\r\n      });\r\n      if (dropdown.type.name === SizePerPageDropDown.name) {\r\n        dropdownProps = dropdown.props;\r\n      } else {\r\n        return dropdown;\r\n      }\r\n    }\r\n\r\n    if (dropdownProps || !dropdown) {\r\n      const isBootstrap4 = Util.isBootstrap4(this.props.version);\r\n      const sizePerPageOptions = sizePerPageList.map((_sizePerPage) => {\r\n        const pageText = _sizePerPage.text || _sizePerPage;\r\n        const pageNum = _sizePerPage.value || _sizePerPage;\r\n        if (sizePerPage === pageNum) sizePerPageText = pageText;\r\n        if (isBootstrap4) {\r\n          return (\r\n            <a\r\n              href='#'\r\n              tabIndex='-1'\r\n              key={ pageText }\r\n              className='dropdown-item'\r\n              onMouseDown={ e => {\r\n                e.preventDefault();\r\n                this.changeSizePerPage(pageNum);\r\n              } }>{ pageText }</a>\r\n          );\r\n        } else {\r\n          return (\r\n            <li key={ pageText } role='presentation' className='dropdown-item'>\r\n              <a role='menuitem'\r\n                tabIndex='-1' href='#'\r\n                data-page={ pageNum }\r\n                onMouseDown={ e => {\r\n                  e.preventDefault();\r\n                  this.changeSizePerPage(pageNum);\r\n                } }>{ pageText }</a>\r\n            </li>\r\n          );\r\n        }\r\n      });\r\n      dropdown = (\r\n        <SizePerPageDropDown\r\n          open={ this.state.open }\r\n          hidden={ hideSizePerPage }\r\n          currSizePerPage={ String(sizePerPageText) }\r\n          options={ sizePerPageOptions }\r\n          onClick={ this.toggleDropDown }\r\n          onBlur={ this.closeDropDown }\r\n          isBootstrap4={ isBootstrap4 }\r\n          { ...dropdownProps }/>\r\n      );\r\n    }\r\n    return dropdown;\r\n  }\r\n\r\n  makePage(isCustomPagingPanel = false) {\r\n    const pages = this.getPages();\r\n    const isStart = (page, { currPage, pageStartIndex, firstPage, prePage }) =>\r\n      (currPage === pageStartIndex && (page === firstPage || page === prePage));\r\n    const isEnd = (page, { currPage, nextPage, lastPage }) =>\r\n      (currPage === this.lastPage && (page === nextPage || page === lastPage ));\r\n    const pageBtns = pages\r\n      .filter(function(page) {\r\n        if (this.props.alwaysShowAllBtns) {\r\n          return true;\r\n        }\r\n        return (isStart(page, this.props) || isEnd(page, this.props)) ?\r\n          false :\r\n          true;\r\n      }, this)\r\n      .map(function(page, index) {\r\n        const isActive = page === this.props.currPage;\r\n        const isDisabled = (isStart(page, this.props) || isEnd(page, this.props)) ?\r\n          true :\r\n          false;\r\n        let title = page + '';\r\n        let pageNumber = page;\r\n\r\n        if (page === this.props.nextPage) {\r\n          title = this.props.nextPageTitle;\r\n          pageNumber = this.props.currPage + 1;\r\n        } else if (page === this.props.prePage) {\r\n          title = this.props.prePageTitle;\r\n          pageNumber = this.props.currPage - 1;\r\n        } else if (page === this.props.firstPage) {\r\n          title = this.props.firstPageTitle;\r\n          pageNumber = this.props.pageStartIndex;\r\n        } else if (page === this.props.lastPage) {\r\n          title = this.props.lastPageTitle;\r\n          pageNumber = this.getLastPage();\r\n        }\r\n\r\n        return (\r\n          <PageButton key={ index }\r\n            title={ title }\r\n            changePage={ this.changePage }\r\n            active={ isActive }\r\n            disable={ isDisabled }\r\n            pageNumber={ pageNumber }>\r\n            { page }\r\n          </PageButton>\r\n        );\r\n      }, this);\r\n    const classname = classSet(\r\n      isCustomPagingPanel ? null : 'react-bootstrap-table-page-btns-ul',\r\n      'pagination'\r\n    );\r\n    return (\r\n        <ul className={ classname }>\r\n          { pageBtns }\r\n        </ul>\r\n      );\r\n  }\r\n\r\n  getLastPage() {\r\n    return this.lastPage;\r\n  }\r\n\r\n  getPages() {\r\n    let pages;\r\n    let endPage = this.totalPages;\r\n    if (endPage <= 0) return [];\r\n    let startPage = Math.max(\r\n      this.props.currPage - Math.floor(this.props.paginationSize / 2),\r\n      this.props.pageStartIndex\r\n    );\r\n    endPage = startPage + this.props.paginationSize - 1;\r\n\r\n    if (endPage > this.lastPage) {\r\n      endPage = this.lastPage;\r\n      startPage = endPage - this.props.paginationSize + 1;\r\n    }\r\n\r\n    if (startPage !== this.props.pageStartIndex\r\n      && this.totalPages > this.props.paginationSize\r\n      && this.props.withFirstAndLast) {\r\n      pages = [ this.props.firstPage, this.props.prePage ];\r\n    } else if (this.totalPages > 1 || this.props.alwaysShowAllBtns) {\r\n      pages = [ this.props.prePage ];\r\n    } else {\r\n      pages = [];\r\n    }\r\n\r\n    for (let i = startPage; i <= endPage; i++) {\r\n      if (i >= this.props.pageStartIndex) pages.push(i);\r\n    }\r\n\r\n    if (endPage <= this.lastPage && pages.length > 1) {\r\n      pages.push(this.props.nextPage);\r\n    }\r\n    if (endPage !== this.lastPage && this.props.withFirstAndLast) {\r\n      pages.push(this.props.lastPage);\r\n    }\r\n\r\n    return pages;\r\n  }\r\n}\r\nPaginationList.propTypes = {\r\n  currPage: PropTypes.number,\r\n  sizePerPage: PropTypes.number,\r\n  dataSize: PropTypes.number,\r\n  changePage: PropTypes.func,\r\n  sizePerPageList: PropTypes.array,\r\n  paginationShowsTotal: PropTypes.oneOfType([ PropTypes.bool, PropTypes.func ]),\r\n  paginationSize: PropTypes.number,\r\n  onSizePerPageList: PropTypes.func,\r\n  prePage: PropTypes.any,\r\n  nextPage: PropTypes.any,\r\n  firstPage: PropTypes.any,\r\n  lastPage: PropTypes.any,\r\n  pageStartIndex: PropTypes.number,\r\n  hideSizePerPage: PropTypes.bool,\r\n  alwaysShowAllBtns: PropTypes.bool,\r\n  withFirstAndLast: PropTypes.bool,\r\n  sizePerPageDropDown: PropTypes.func,\r\n  paginationPanel: PropTypes.func,\r\n  prePageTitle: PropTypes.string,\r\n  nextPageTitle: PropTypes.string,\r\n  firstPageTitle: PropTypes.string,\r\n  lastPageTitle: PropTypes.string,\r\n  hidePageListOnlyOnePage: PropTypes.bool,\r\n  keepSizePerPageState: PropTypes.bool\r\n};\r\n\r\nPaginationList.defaultProps = {\r\n  sizePerPage: Const.SIZE_PER_PAGE,\r\n  pageStartIndex: Const.PAGE_START_INDEX\r\n};\r\n\r\nexport default PaginationList;\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Util from '../util';\n\nclass InsertModalHeader extends Component {\n\n  handleCloseBtnClick = e => {\n    const { onModalClose, beforeClose } = this.props;\n    beforeClose && beforeClose(e);\n    onModalClose();\n  }\n\n  renderContent(closeBtn) {\n    const { version, title: titleText } = this.props;\n    const title = <h4 key='title' className='modal-title'>{ titleText }</h4>;\n    if (Util.isBootstrap4(version)) {\n      return [ title, closeBtn ];\n    } else {\n      return (\n        <span>\n          { closeBtn }\n          { title }\n        </span>\n      );\n    }\n  }\n\n  render() {\n    const {\n      hideClose,\n      className,\n      children\n    } = this.props;\n\n    const closeBtn = hideClose ? null : (\n      <button type='button'\n        className='close' onClick={ this.handleCloseBtnClick }>\n        <span aria-hidden='true'>&times;</span>\n        <span className='sr-only'>Close</span>\n      </button>\n    );\n\n    const content = children || this.renderContent(closeBtn);\n\n    return (\n      <div className={ `modal-header ${className}` }>\n        { content }\n      </div>\n    );\n  }\n}\n\nInsertModalHeader.propTypes = {\n  version: PropTypes.string,\n  className: PropTypes.string,\n  title: PropTypes.string,\n  onModalClose: PropTypes.func,\n  hideClose: PropTypes.bool,\n  beforeClose: PropTypes.func\n};\nInsertModalHeader.defaultProps = {\n  version: '3',\n  className: '',\n  title: 'Add Row',\n  onModalClose: undefined,\n  hideClose: false,\n  beforeClose: undefined\n};\n\nexport default InsertModalHeader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nclass InsertModalFooter extends Component {\n\n  handleCloseBtnClick = e => {\n    const { beforeClose, onModalClose } = this.props;\n    beforeClose && beforeClose(e);\n    onModalClose();\n  }\n\n  handleSaveBtnClick = e => {\n    const { beforeSave, onSave } = this.props;\n    beforeSave && beforeSave(e);\n    onSave();\n  }\n\n  render() {\n    const {\n      className,\n      saveBtnText,\n      closeBtnText,\n      closeBtnContextual,\n      saveBtnContextual,\n      closeBtnClass,\n      saveBtnClass,\n      children\n    } = this.props;\n\n    const content = children || [\n          (<button\n            key='closeBtn'\n            type='button'\n            className={ `btn ${closeBtnContextual} ${closeBtnClass}` }\n            onClick={ this.handleCloseBtnClick }>{ closeBtnText }</button>),\n          (<button\n            key='saveBtn'\n            type='button'\n            className={ `btn ${saveBtnContextual} ${saveBtnClass}` }\n            onClick={ this.handleSaveBtnClick }>{ saveBtnText }</button>)\n    ];\n\n    return (\n      <div className={ `modal-footer ${className}` }>\n        { content }\n      </div>\n    );\n  }\n}\nInsertModalFooter.propTypes = {\n  className: PropTypes.string,\n  saveBtnText: PropTypes.string,\n  closeBtnText: PropTypes.string,\n  closeBtnContextual: PropTypes.string,\n  saveBtnContextual: PropTypes.string,\n  closeBtnClass: PropTypes.string,\n  saveBtnClass: PropTypes.string,\n  beforeClose: PropTypes.func,\n  beforeSave: PropTypes.func,\n  onSave: PropTypes.func,\n  onModalClose: PropTypes.func\n};\nInsertModalFooter.defaultProps = {\n  className: '',\n  saveBtnText: Const.SAVE_BTN_TEXT,\n  closeBtnText: Const.CLOSE_BTN_TEXT,\n  closeBtnContextual: 'btn-default btn-secondary',\n  saveBtnContextual: 'btn-primary',\n  closeBtnClass: '',\n  saveBtnClass: '',\n  beforeClose: undefined,\n  beforeSave: undefined\n};\n\nexport default InsertModalFooter;\n","/* eslint react/display-name: 0 */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport editor from '../Editor';\n\nclass InsertModalBody extends Component {\n\n  getFieldValue() {\n    const newRow = {};\n    this.props.columns.forEach((column, i) => {\n      let inputVal;\n      if (column.autoValue) {\n        // when you want same auto generate value and not allow edit, example ID field\n        const time = new Date().getTime();\n        inputVal = typeof column.autoValue === 'function' ?\n          column.autoValue() :\n          (`autovalue-${time}`);\n      } else if (column.hiddenOnInsert || !column.field) {\n        inputVal = '';\n      } else {\n        const dom = this.refs[column.field + i];\n        inputVal = dom.value;\n\n        if (column.editable && column.editable.type === 'checkbox') {\n          const values = inputVal.split(':');\n          inputVal = dom.checked ? values[0] : values[1];\n        } else if (column.customInsertEditor) {\n          inputVal = inputVal || dom.getFieldValue();\n        }\n      }\n      newRow[column.field] = inputVal;\n    }, this);\n    return newRow;\n  }\n\n  render() {\n    const { columns, validateState, ignoreEditable } = this.props;\n    return (\n      <div className='modal-body'>\n        {\n          columns.map((column, i) => {\n            const {\n              editable,\n              format,\n              field,\n              name,\n              autoValue,\n              hiddenOnInsert,\n              customInsertEditor\n            } = column;\n            const attr = {\n              ref: field + i,\n              placeholder: editable.placeholder ? editable.placeholder : name\n            };\n            let fieldElement;\n            const defaultValue = editable.defaultValue || undefined;\n            if (customInsertEditor) {\n              const { getElement } = customInsertEditor;\n              fieldElement = getElement(column, attr, 'form-control', ignoreEditable, defaultValue);\n            }\n\n            // fieldElement = false, means to use default editor when enable custom editor\n            // Becasuse some users want to have default editor based on some condition.\n            if (!customInsertEditor || fieldElement === false) {\n              fieldElement = editor(editable, attr, format, '', defaultValue, ignoreEditable);\n            }\n\n            if (autoValue || hiddenOnInsert || !column.field) {\n              // when you want same auto generate value\n              // and not allow edit, for example ID field\n              return null;\n            }\n            const error = validateState[field] ?\n              (<span className='help-block bg-danger'>{ validateState[field] }</span>) :\n              null;\n            return (\n              <div className='form-group' key={ field }>\n                <label>{ name }</label>\n                { fieldElement }\n                { error }\n              </div>\n            );\n          })\n        }\n      </div>\n    );\n  }\n}\nInsertModalBody.propTypes = {\n  columns: PropTypes.array,\n  validateState: PropTypes.object,\n  ignoreEditable: PropTypes.bool\n};\n\nInsertModalBody.defaultProps = {\n  validateState: {},\n  ignoreEditable: false\n};\n\nexport default InsertModalBody;\n","/* eslint no-console: 0 */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport InsertModalHeader from './InsertModalHeader';\nimport InsertModalFooter from './InsertModalFooter';\nimport InsertModalBody from './InsertModalBody';\n\nconst defaultModalClassName = 'react-bs-table-insert-modal';\n\nexport default class InsertModal extends Component {\n\n  handleSave = () => {\n    if (this.body.getFieldValue) {\n      this.props.onSave(this.body.getFieldValue());\n    } else {\n      console.error(`Custom InsertModalBody should implement getFieldValue function\n        and should return an object presented as the new row that user input.`);\n    }\n  }\n\n  render() {\n    let { headerComponent, footerComponent, bodyComponent } = this.props;\n    const {\n      columns,\n      validateState,\n      ignoreEditable,\n      onModalClose\n    } = this.props;\n    const bodyAttr = { columns, validateState, ignoreEditable };\n\n    bodyComponent = bodyComponent && bodyComponent(columns, validateState, ignoreEditable);\n\n    headerComponent = headerComponent && headerComponent(onModalClose, this.handleSave);\n\n    footerComponent = footerComponent && footerComponent(onModalClose, this.handleSave);\n\n    if (bodyComponent) {\n      bodyComponent = React.cloneElement(bodyComponent, { ref: node => this.body = node });\n    }\n\n    if (headerComponent && headerComponent.type.name === InsertModalHeader.name) {\n      const eventProps = {};\n      if (!headerComponent.props.onModalClose) eventProps.onModalClose = onModalClose;\n      if (!headerComponent.props.onSave) eventProps.onSave = this.handleSave;\n      if (Object.keys(eventProps).length > 0) {\n        headerComponent = React.cloneElement(headerComponent, eventProps);\n      }\n    } else if (headerComponent && headerComponent.type.name !== InsertModalHeader.name) {\n      const { className } = headerComponent.props;\n      if (typeof className === 'undefined' || className.indexOf('modal-header') === -1) {\n        headerComponent = (<div className='modal-header'>{ headerComponent }</div>);\n      }\n    }\n\n    if (footerComponent && footerComponent.type.name === InsertModalFooter.name) {\n      const eventProps = {};\n      if (!footerComponent.props.onModalClose) eventProps.onModalClose = onModalClose;\n      if (!footerComponent.props.onSave) eventProps.onSave = this.handleSave;\n      if (Object.keys(eventProps).length > 0) {\n        footerComponent = React.cloneElement(footerComponent, eventProps);\n      }\n    } else if (footerComponent && footerComponent.type.name !== InsertModalFooter.name) {\n      const { className } = footerComponent.props;\n      if (typeof className === 'undefined' || className.indexOf('modal-footer') === -1) {\n        footerComponent = (<div className='modal-footer'>{ footerComponent }</div>);\n      }\n    }\n\n    return (\n      <div className={ `modal-content ${defaultModalClassName}` }>\n        {\n          headerComponent ||\n          (<InsertModalHeader\n            version={ this.props.version }\n            className='react-bs-table-inser-modal-header'\n            onModalClose={ onModalClose }/>)\n        }\n        {\n          bodyComponent ||\n          (<InsertModalBody ref={ node => this.body = node } { ...bodyAttr }/>)\n        }\n        {\n          footerComponent ||\n          (<InsertModalFooter\n            className='react-bs-table-inser-modal-footer'\n            onModalClose={ onModalClose }\n            onSave={ this.handleSave }/>)\n        }\n      </div>\n    );\n  }\n}\nInsertModal.propTypes = {\n  version: PropTypes.string.isRequired,\n  columns: PropTypes.array.isRequired,\n  validateState: PropTypes.object.isRequired,\n  ignoreEditable: PropTypes.bool,\n  headerComponent: PropTypes.func,\n  bodyComponent: PropTypes.func,\n  footerComponent: PropTypes.func,\n  onModalClose: PropTypes.func,\n  onSave: PropTypes.func\n};\n\nInsertModal.defaultProps = {};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nconst insertBtnDefaultClass = 'react-bs-table-add-btn';\n\nclass InsertButton extends Component {\n  render() {\n    const {\n      btnContextual,\n      className,\n      onClick,\n      btnGlyphicon,\n      btnText,\n      children,\n      ...rest\n    } = this.props;\n    const content = children ||\n      (<span><i className={ `fa glyphicon ${btnGlyphicon}` }></i> { btnText }</span>);\n    return (\n      <button type='button'\n        className={ `btn ${btnContextual} ${insertBtnDefaultClass} ${className}` }\n        onClick={ onClick }\n        { ...rest }>\n        { content }\n      </button>\n    );\n  }\n}\n\nInsertButton.propTypes = {\n  btnText: PropTypes.string,\n  btnContextual: PropTypes.string,\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  btnGlyphicon: PropTypes.string\n};\nInsertButton.defaultProps = {\n  btnText: Const.INSERT_BTN_TEXT,\n  btnContextual: 'btn-info',\n  className: '',\n  onClick: undefined,\n  btnGlyphicon: 'glyphicon-plus fa-plus'\n};\n\nexport default InsertButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nconst deleteBtnDefaultClass = 'react-bs-table-del-btn';\n\nclass DeleteButton extends Component {\n  render() {\n    const {\n      btnContextual,\n      className,\n      onClick,\n      btnGlyphicon,\n      btnText,\n      children,\n      ...rest\n    } = this.props;\n    const content = children ||\n      (<span><i className={ `fa glyphicon ${btnGlyphicon}` }></i> { btnText }</span>);\n    return (\n      <button type='button'\n        className={ `btn ${btnContextual} ${deleteBtnDefaultClass} ${className}` }\n        onClick={ onClick }\n        { ...rest }>\n        { content }\n      </button>\n    );\n  }\n}\n\nDeleteButton.propTypes = {\n  btnText: PropTypes.string,\n  btnContextual: PropTypes.string,\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  btnGlyphicon: PropTypes.string\n};\nDeleteButton.defaultProps = {\n  btnText: Const.DELETE_BTN_TEXT,\n  btnContextual: 'btn-warning',\n  className: '',\n  onClick: undefined,\n  btnGlyphicon: 'glyphicon-trash fa-trash'\n};\n\nexport default DeleteButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nconst exportCsvBtnDefaultClass = 'react-bs-table-csv-btn';\n\nclass ExportCSVButton extends Component {\n  render() {\n    const {\n      btnContextual,\n      className,\n      onClick,\n      btnGlyphicon,\n      btnText,\n      children,\n      ...rest\n    } = this.props;\n    const content = children ||\n      (<span><i className={ `fa glyphicon ${btnGlyphicon}` }></i> { btnText }</span>);\n    return (\n      <button type='button'\n        className={ `btn ${btnContextual} ${exportCsvBtnDefaultClass} ${className} hidden-print` }\n        onClick={ onClick }\n        { ...rest }>\n        { content }\n      </button>\n    );\n  }\n}\n\nExportCSVButton.propTypes = {\n  btnText: PropTypes.string,\n  btnContextual: PropTypes.string,\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  btnGlyphicon: PropTypes.string\n};\nExportCSVButton.defaultProps = {\n  btnText: Const.EXPORT_CSV_TEXT,\n  btnContextual: 'btn-success',\n  className: '',\n  onClick: undefined,\n  btnGlyphicon: 'glyphicon-export fa-download'\n};\n\nexport default ExportCSVButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from '../Const';\n\nconst showSelectedOnlyBtnDefaultClass = 'react-bs-table-show-sel-only-btn';\n\nclass ShowSelectedOnlyButton extends Component {\n  render() {\n    const {\n      btnContextual,\n      className,\n      onClick,\n      toggle,\n      showAllText,\n      showOnlySelectText,\n      children,\n      ...rest\n    } = this.props;\n    const content = children ||\n      (<span>{ toggle ? showAllText : showOnlySelectText }</span>);\n    return (\n      <button type='button'\n        aria-pressed='false'\n        data-toggle='button'\n        className={ `btn ${btnContextual} ${showSelectedOnlyBtnDefaultClass} ${className}` }\n        onClick={ onClick }\n        { ...rest }>\n        { content }\n      </button>\n    );\n  }\n}\n\nShowSelectedOnlyButton.propTypes = {\n  showAllText: PropTypes.string,\n  showOnlySelectText: PropTypes.string,\n  toggle: PropTypes.bool,\n  btnContextual: PropTypes.string,\n  className: PropTypes.string,\n  onClick: PropTypes.func\n};\nShowSelectedOnlyButton.defaultProps = {\n  showAllText: Const.SHOW_ALL,\n  showOnlySelectText: Const.SHOW_ONLY_SELECT,\n  toggle: false,\n  btnContextual: 'btn-primary',\n  className: '',\n  onClick: undefined\n};\n\nexport default ShowSelectedOnlyButton;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nclass SearchField extends Component {\n\n  getValue() {\n    return ReactDOM.findDOMNode(this).value;\n  }\n\n  setValue(value) {\n    ReactDOM.findDOMNode(this).value = value;\n  }\n\n  render() {\n    const {\n      className,\n      defaultValue,\n      placeholder,\n      onKeyUp,\n      ...rest\n    } = this.props;\n    return (\n      <input\n        className={ `form-control ${className}` }\n        type='text'\n        defaultValue={ defaultValue }\n        placeholder={ placeholder || SearchField.defaultProps.placeholder }\n        onKeyUp={ onKeyUp }\n        style={ { zIndex: 0 } }\n        { ...rest }/>\n    );\n  }\n}\n\nSearchField.propTypes = {\n  className: PropTypes.string,\n  defaultValue: PropTypes.string,\n  placeholder: PropTypes.string,\n  onKeyUp: PropTypes.func\n};\nSearchField.defaultProps = {\n  className: '',\n  defaultValue: '',\n  placeholder: 'Search',\n  onKeyUp: undefined\n};\n\nexport default SearchField;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst clearBtnDefaultClass = 'react-bs-table-search-clear-btn';\n\nclass ClearSearchButton extends Component {\n\n  render() {\n    const {\n      btnContextual,\n      className,\n      onClick,\n      btnText,\n      children,\n      ...rest\n    } = this.props;\n    const content = children ||\n      (<span>{ btnText }</span>);\n    return (\n      <button\n        className={ `btn ${btnContextual} ${className} ${clearBtnDefaultClass}` }\n        type='button'\n        onClick={ onClick }\n        { ...rest }>\n        { content }\n      </button>\n    );\n  }\n}\n\nClearSearchButton.propTypes = {\n  btnContextual: PropTypes.string,\n  className: PropTypes.string,\n  btnText: PropTypes.string,\n  onClick: PropTypes.func\n};\nClearSearchButton.defaultProps = {\n  btnContextual: 'btn-default btn-secondary',\n  className: '',\n  btnText: 'Clear',\n  onClick: undefined\n};\n\nexport default ClearSearchButton;\n","/* eslint no-console: 0 */\n/* eslint no-alert: 0 */\n/* eslint no-unused-expressions: 0 */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n// import Modal from 'react-modal';\nimport {CModal as Modal} from '../_libs';\n// import classSet from 'classnames';\nimport Const from '../Const';\n// import editor from '../Editor';\nimport { notice } from '../Notification.js';\nimport InsertModal from './InsertModal';\nimport InsertButton from './InsertButton';\nimport DeleteButton from './DeleteButton';\nimport ExportCSVButton from './ExportCSVButton';\nimport ShowSelectedOnlyButton from './ShowSelectedOnlyButton';\nimport SearchField from './SearchField';\nimport ClearSearchButton from './ClearSearchButton';\n\nclass ToolBar extends Component {\n\n  static modalSeq = 0;\n\n  constructor(props) {\n    super(props);\n    this.timeouteClear = 0;\n    this.modalClassName;\n    this.state = {\n      isInsertModalOpen: false,\n      validateState: null,\n      shakeEditor: false,\n      showSelected: false\n    };\n  }\n\n  componentWillMount() {\n    const delay = this.props.searchDelayTime ? this.props.searchDelayTime : 0;\n    this.debounceCallback = this.handleDebounce(() => {\n      this.seachInput && this.props.onSearch(this.seachInput.getValue());\n    },\n      delay\n    );\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.reset) {\n      this.setSearchInput('');\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearTimeout();\n  }\n\n  setSearchInput(text) {\n    if (this.seachInput && this.seachInput.value !== text) {\n      this.seachInput.value = text;\n    }\n  }\n\n  clearTimeout() {\n    if (this.timeouteClear) {\n      clearTimeout(this.timeouteClear);\n      this.timeouteClear = 0;\n    }\n  }\n\n  displayCommonMessage = () => {\n    notice('error', this.props.insertFailIndicator, '');\n  }\n\n  validateNewRow(newRow) {\n    const validateState = {};\n    let isValid = true;\n    let tempMsg;\n    let responseType;\n\n    this.props.columns.forEach(column => {\n      if (column.isKey && column.keyValidator) { // key validator for checking exist key\n        tempMsg = this.props.isValidKey(newRow[column.field]);\n        if (tempMsg) {\n          this.displayCommonMessage();\n          isValid = false;\n          validateState[column.field] = tempMsg;\n        }\n      } else if (column.editable && column.editable.validator) { // process validate\n        tempMsg = column.editable.validator(newRow[column.field], newRow);\n        responseType = typeof tempMsg;\n        if (responseType !== 'object' && tempMsg !== true) {\n          this.displayCommonMessage();\n          isValid = false;\n          validateState[column.field] = tempMsg;\n        } else if (responseType === 'object' && tempMsg.isValid !== true) {\n          notice(\n            tempMsg.notification.type,\n            tempMsg.notification.msg,\n            tempMsg.notification.title);\n          isValid = false;\n          validateState[column.field] = tempMsg.notification.msg;\n        }\n      }\n    });\n\n    if (isValid) {\n      return true;\n    } else {\n      this.clearTimeout();\n      // show error in form and shake it\n      this.setState(() => { return { validateState, shakeEditor: true }; });\n      this.timeouteClear = setTimeout(() => {\n        this.setState(() => { return { shakeEditor: false }; });\n      }, 300);\n      return null;\n    }\n  }\n\n  handleSaveBtnClick = (newRow) => {\n    if (!this.validateNewRow(newRow)) { // validation fail\n      return;\n    }\n    const msg = this.props.onAddRow(newRow);\n    if (msg !== false) {\n      this.afterHandleSaveBtnClick(msg);\n    }\n  }\n\n  afterHandleSaveBtnClick = (msg) => {\n    if (msg) {\n      notice('error', msg, '');\n      this.clearTimeout();\n      // shake form and hack prevent modal hide\n      this.setState(() => {\n        return {\n          shakeEditor: true,\n          validateState: 'this is hack for prevent bootstrap modal hide'\n        };\n      });\n      // clear animate class\n      this.timeouteClear = setTimeout(() => {\n        this.setState(() => { return { shakeEditor: false }; });\n      }, 300);\n    } else {\n      // reset state and hide modal hide\n      this.setState(() => {\n        return {\n          validateState: null,\n          shakeEditor: false,\n          isInsertModalOpen: false\n        };\n      });\n    }\n  }\n\n  handleModalClose = () => {\n    this.setState(() => { return { isInsertModalOpen: false }; });\n  }\n\n  handleModalOpen = () => {\n    this.setState(() => { return { isInsertModalOpen: true }; });\n  }\n\n  handleShowOnlyToggle = () => {\n    this.setState(() => {\n      return {\n        showSelected: !this.state.showSelected\n      };\n    });\n    this.props.onShowOnlySelected();\n  }\n\n  handleDropRowBtnClick = () => {\n    this.props.onDropRow();\n  }\n\n  handleDebounce = (func, wait, immediate) => {\n    let timeout;\n\n    return () => {\n      const later = () => {\n        timeout = null;\n\n        if (!immediate) {\n          // func.apply(this, arguments);\n          func.apply(this);\n        }\n      };\n\n      const callNow = immediate && !timeout;\n\n      clearTimeout(timeout);\n\n      timeout = setTimeout(later, wait || 0);\n\n      if (callNow) {\n        // func.appy(this, arguments);\n        func.appy(this);\n      }\n    };\n  }\n\n  handleKeyUp = (event) => {\n    event.persist();\n    this.debounceCallback(event);\n  }\n\n  handleExportCSV = () => {\n    this.props.onExportCSV();\n  }\n\n  handleClearBtnClick = () => {\n    this.seachInput && this.seachInput.setValue('');\n    this.props.onSearch('');\n  }\n\n  render() {\n    this.modalClassName = 'bs-table-modal-sm' + ToolBar.modalSeq++;\n    let toolbar = null;\n    let btnGroup = null;\n    let insertBtn = null;\n    let deleteBtn = null;\n    let exportCSVBtn = null;\n    let showSelectedOnlyBtn = null;\n\n    if (this.props.enableInsert) {\n      if (this.props.insertBtn) {\n        insertBtn = this.renderCustomBtn(this.props.insertBtn,\n          [ this.handleModalOpen ], InsertButton.name, 'onClick', this.handleModalOpen);\n      } else {\n        insertBtn = (\n          <InsertButton btnText={ this.props.insertText }\n            onClick={ this.handleModalOpen }/>\n        );\n      }\n    }\n\n    if (this.props.enableDelete) {\n      if (this.props.deleteBtn) {\n        deleteBtn = this.renderCustomBtn(this.props.deleteBtn,\n          [ this.handleDropRowBtnClick ], DeleteButton.name, 'onClick', this.handleDropRowBtnClick);\n      } else {\n        deleteBtn = (\n          <DeleteButton btnText={ this.props.deleteText }\n            onClick={ this.handleDropRowBtnClick }/>\n        );\n      }\n    }\n\n    if (this.props.enableShowOnlySelected) {\n      if (this.props.showSelectedOnlyBtn) {\n        showSelectedOnlyBtn = this.renderCustomBtn(this.props.showSelectedOnlyBtn,\n          [ this.handleShowOnlyToggle, this.state.showSelected ], ShowSelectedOnlyButton.name,\n          'onClick', this.handleShowOnlyToggle);\n      } else {\n        showSelectedOnlyBtn = (\n          <ShowSelectedOnlyButton toggle={ this.state.showSelected }\n            onClick={ this.handleShowOnlyToggle }/>\n        );\n      }\n    }\n\n    if (this.props.enableExportCSV) {\n      if (this.props.exportCSVBtn) {\n        exportCSVBtn = this.renderCustomBtn(this.props.exportCSVBtn,\n          [ this.handleExportCSV ], ExportCSVButton.name, 'onClick', this.handleExportCSV);\n      } else {\n        exportCSVBtn = (\n          <ExportCSVButton btnText={ this.props.exportCSVText }\n            onClick={ this.handleExportCSV }/>\n        );\n      }\n    }\n\n    if (this.props.btnGroup) {\n      btnGroup = this.props.btnGroup({\n        exportCSVBtn,\n        insertBtn,\n        deleteBtn,\n        showSelectedOnlyBtn\n      });\n    } else {\n      btnGroup = (\n        <div className='btn-group btn-group-sm' role='group'>\n          { exportCSVBtn }\n          { insertBtn }\n          { deleteBtn }\n          { showSelectedOnlyBtn }\n        </div>\n      );\n    }\n\n    const [ searchPanel, searchField, clearBtn ] = this.renderSearchPanel();\n    const modal = this.props.enableInsert ? this.renderInsertRowModal() : null;\n\n    if (this.props.toolBar) {\n      toolbar = this.props.toolBar({\n        components: {\n          exportCSVBtn,\n          insertBtn,\n          deleteBtn,\n          showSelectedOnlyBtn,\n          searchPanel,\n          btnGroup,\n          searchField,\n          clearBtn\n        },\n        event: {\n          openInsertModal: this.handleModalOpen,\n          closeInsertModal: this.handleModalClose,\n          dropRow: this.handleDropRowBtnClick,\n          showOnlyToogle: this.handleShowOnlyToggle,\n          exportCSV: this.handleExportCSV,\n          search: this.props.onSearch\n        }\n      });\n    } else {\n      toolbar = [ (\n        <div key='toolbar-left' className='col-xs-6 col-sm-6 col-md-6 col-lg-8'>\n          { this.props.searchPosition === 'left' ? searchPanel : btnGroup }\n        </div>\n      ), (\n        <div key='toolbar-right' className='col-xs-6 col-sm-6 col-md-6 col-lg-4'>\n          { this.props.searchPosition === 'left' ? btnGroup : searchPanel }\n        </div>\n      ) ];\n    }\n\n    return (\n      <div className='row'>\n        { toolbar }\n        { modal }\n      </div>\n    );\n  }\n\n  renderSearchPanel() {\n    if (this.props.enableSearch) {\n      let classNames = 'form-group form-group-sm react-bs-table-search-form';\n      let clearBtn = null;\n      let searchField = null;\n      let searchPanel = null;\n      if (this.props.clearSearch) {\n        if (this.props.clearSearchBtn) {\n          clearBtn = this.renderCustomBtn(this.props.clearSearchBtn,\n            [ this.handleClearBtnClick ], ClearSearchButton.name, 'onClick', this.handleClearBtnClick); /* eslint max-len: 0*/\n        } else {\n          clearBtn = (\n            <ClearSearchButton onClick={ this.handleClearBtnClick }/>\n          );\n        }\n        classNames += ' input-group input-group-sm';\n      }\n\n      if (this.props.searchField) {\n        searchField = this.props.searchField({\n          search: this.handleKeyUp,\n          defaultValue: this.props.defaultSearch,\n          placeholder: this.props.searchPlaceholder\n        });\n        if (searchField.type.name === SearchField.name) {\n          searchField = React.cloneElement(searchField, {\n            ref: node => this.seachInput = node,\n            onKeyUp: this.handleKeyUp\n          });\n        } else {\n          searchField = React.cloneElement(searchField, {\n            ref: node => this.seachInput = node\n          });\n        }\n      } else {\n        searchField = (\n          <SearchField ref={ node => this.seachInput = node }\n            defaultValue={ this.props.defaultSearch }\n            placeholder={ this.props.searchPlaceholder }\n            onKeyUp={ this.handleKeyUp }/>\n        );\n      }\n      if (this.props.searchPanel) {\n        searchPanel = this.props.searchPanel({\n          searchField, clearBtn,\n          search: this.props.onSearch,\n          defaultValue: this.props.defaultSearch,\n          placeholder: this.props.searchPlaceholder,\n          clearBtnClick: this.handleClearBtnClick\n        });\n      } else {\n        searchPanel = (\n          <div className={ classNames }>\n            { searchField }\n            <span className='input-group-btn'>\n              { clearBtn }\n            </span>\n          </div>\n        );\n      }\n      return [ searchPanel, searchField, clearBtn ];\n    } else {\n      return [];\n    }\n  }\n\n  renderInsertRowModal() {\n    const validateState = this.state.validateState || {};\n    const {\n      version,\n      columns,\n      ignoreEditable,\n      insertModalHeader,\n      insertModalBody,\n      insertModalFooter,\n      insertModal\n    } = this.props;\n\n    let modal;\n    modal = insertModal && insertModal(\n      this.handleModalClose,\n      this.handleSaveBtnClick,\n      columns,\n      validateState,\n      ignoreEditable\n    );\n\n    if (!modal) {\n      modal = (\n        <InsertModal\n          version={ version }\n          columns={ columns }\n          validateState={ validateState }\n          ignoreEditable={ ignoreEditable }\n          onModalClose={ this.handleModalClose }\n          onSave={ this.handleSaveBtnClick }\n          headerComponent={ insertModalHeader }\n          bodyComponent={ insertModalBody }\n          footerComponent={ insertModalFooter }/>\n      );\n    }\n\n    return (\n      <Modal className='react-bs-insert-modal modal-dialog'\n        isOpen={ this.state.isInsertModalOpen }\n        ariaHideApp={ false }\n        onRequestClose={ this.handleModalClose }\n        contentLabel='Modal'>\n        { modal }\n      </Modal>\n    );\n  }\n\n  renderCustomBtn(cb, params, componentName, eventName, event) {\n    let element = cb.apply(null, params);\n    if (element.type.name === componentName && !element.props[eventName]) {\n      const props = {};\n      props[eventName] = event;\n      element = React.cloneElement(element, props);\n    }\n    return element;\n  }\n}\n\nToolBar.propTypes = {\n  version: PropTypes.string,\n  onAddRow: PropTypes.func,\n  onDropRow: PropTypes.func,\n  onShowOnlySelected: PropTypes.func,\n  enableInsert: PropTypes.bool,\n  enableDelete: PropTypes.bool,\n  enableSearch: PropTypes.bool,\n  enableShowOnlySelected: PropTypes.bool,\n  columns: PropTypes.array,\n  searchPlaceholder: PropTypes.string,\n  exportCSVText: PropTypes.string,\n  insertText: PropTypes.string,\n  deleteText: PropTypes.string,\n  saveText: PropTypes.string,\n  closeText: PropTypes.string,\n  clearSearch: PropTypes.bool,\n  ignoreEditable: PropTypes.bool,\n  defaultSearch: PropTypes.string,\n  insertModalHeader: PropTypes.func,\n  insertModalBody: PropTypes.func,\n  insertModalFooter: PropTypes.func,\n  insertModal: PropTypes.func,\n  insertBtn: PropTypes.func,\n  deleteBtn: PropTypes.func,\n  showSelectedOnlyBtn: PropTypes.func,\n  exportCSVBtn: PropTypes.func,\n  clearSearchBtn: PropTypes.func,\n  searchField: PropTypes.func,\n  searchPanel: PropTypes.func,\n  btnGroup: PropTypes.func,\n  toolBar: PropTypes.func,\n  searchPosition: PropTypes.string,\n  reset: PropTypes.bool,\n  isValidKey: PropTypes.func,\n  insertFailIndicator: PropTypes.string\n};\n\nToolBar.defaultProps = {\n  reset: false,\n  enableInsert: false,\n  enableDelete: false,\n  enableSearch: false,\n  enableShowOnlySelected: false,\n  clearSearch: false,\n  ignoreEditable: false,\n  exportCSVText: Const.EXPORT_CSV_TEXT,\n  insertText: Const.INSERT_BTN_TEXT,\n  deleteText: Const.DELETE_BTN_TEXT,\n  saveText: Const.SAVE_BTN_TEXT,\n  closeText: Const.CLOSE_BTN_TEXT\n};\n\nexport default ToolBar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Const from './Const';\nimport classSet from 'classnames';\n\nclass TableFilter extends Component {\n\n  constructor(props) {\n    super(props);\n    this.filterObj = {};\n  }\n\n  handleKeyUp = e => {\n    const { value, name } = e.currentTarget;\n    if (value.trim() === '') {\n      delete this.filterObj[name];\n    } else {\n      this.filterObj[name] = value;\n    }\n    this.props.onFilter(this.filterObj);\n  }\n\n  render() {\n    const { striped, condensed, rowSelectType, columns } = this.props;\n    const tableClasses = classSet('table', {\n      'table-striped': striped,\n      'table-condensed': condensed\n    });\n    let selectRowHeader = null;\n\n    if (rowSelectType === Const.ROW_SELECT_SINGLE ||\n        rowSelectType === Const.ROW_SELECT_MULTI) {\n      const style = {\n        width: 35,\n        paddingLeft: 0,\n        paddingRight: 0\n      };\n      selectRowHeader = (<th style={ style } key={ -1 }>Filter</th>);\n    }\n\n    const filterField = columns.map(function(column) {\n      const { hidden, width, name } = column;\n      const thStyle = {\n        display: hidden ? 'none' : null,\n        width\n      };\n      return (\n        <th key={ name } style={ thStyle }>\n          <div className='th-inner table-header-column'>\n            <input size='10' type='text'\n              placeholder={ name } name={ name } onKeyUp={ this.handleKeyUp }/>\n          </div>\n        </th>\n      );\n    }, this);\n\n    return (\n      <table className={ tableClasses } style={ { marginTop: 5 } }>\n        <thead>\n          <tr style={ { borderBottomStyle: 'hidden' } }>\n            { selectRowHeader }{ filterField }\n          </tr>\n        </thead>\n      </table>\n    );\n  }\n}\nTableFilter.propTypes = {\n  columns: PropTypes.array,\n  rowSelectType: PropTypes.string,\n  onFilter: PropTypes.func\n};\nexport default TableFilter;\n","/* eslint no-nested-ternary: 0 */\r\n/* eslint guard-for-in: 0 */\r\n/* eslint no-console: 0 */\r\n/* eslint eqeqeq: 0 */\r\n/* eslint one-var: 0 */\r\nimport Const from '../Const';\r\n\r\nexport class TableDataStore {\r\n\r\n  constructor(data) {\r\n    this.data = data;\r\n    this.filteredData = null;\r\n    this.isOnFilter = false;\r\n    this.filterObj = null;\r\n    this.searchText = null;\r\n    this.sortList = [];\r\n    this.pageObj = {};\r\n    this.selected = [];\r\n    this.showOnlySelected = false;\r\n  }\r\n\r\n  setProps(props) {\r\n    this.keyField = props.keyField;\r\n    this.enablePagination = props.isPagination;\r\n    this.colInfos = props.colInfos;\r\n    this.remote = props.remote;\r\n    this.multiColumnSearch = props.multiColumnSearch;\r\n    // default behaviour if strictSearch prop is not provided: !multiColumnSearch\r\n    this.strictSearch = typeof props.strictSearch === 'undefined' ?\r\n        !props.multiColumnSearch : props.strictSearch;\r\n    this.multiColumnSort = props.multiColumnSort;\r\n  }\r\n\r\n  clean() {\r\n    this.filteredData = null;\r\n    this.isOnFilter = false;\r\n    this.filterObj = null;\r\n    this.searchText = null;\r\n    this.sortList = [];\r\n    this.pageObj = {};\r\n    this.selected = [];\r\n  }\r\n\r\n  isSearching() {\r\n    return this.searchText !== null;\r\n  }\r\n\r\n  isFiltering() {\r\n    return this.filterObj !== null;\r\n  }\r\n\r\n  setData(data) {\r\n    this.data = data;\r\n    if (this.remote) {\r\n      return;\r\n    }\r\n\r\n    this._refresh(true);\r\n  }\r\n\r\n  getColInfos() {\r\n    return this.colInfos;\r\n  }\r\n\r\n  getSortInfo() {\r\n    return this.sortList;\r\n  }\r\n\r\n  setSortInfo(order, sortField) {\r\n    if (typeof order !== typeof sortField) {\r\n      throw new Error('The type of sort field and order should be both with String or Array');\r\n    }\r\n    if (Array.isArray(order) && Array.isArray(sortField)) {\r\n      if (order.length !== sortField.length) {\r\n        throw new Error('The length of sort fields and orders should be equivalent');\r\n      }\r\n      order = order.slice().reverse();\r\n      this.sortList = sortField.slice().reverse().map((field, i) => {\r\n        return {\r\n          order: order[i],\r\n          sortField: field\r\n        };\r\n      });\r\n      this.sortList = this.sortList.slice(0, this.multiColumnSort);\r\n    } else {\r\n      const sortObj = {\r\n        order: order,\r\n        sortField: sortField\r\n      };\r\n\r\n      if (this.multiColumnSort > 1) {\r\n        let i = this.sortList.length - 1;\r\n        let sortFieldInHistory = false;\r\n\r\n        for (; i >= 0; i--) {\r\n          if (this.sortList[i].sortField === sortField) {\r\n            sortFieldInHistory = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (sortFieldInHistory) {\r\n          if (i > 0) {\r\n            this.sortList = this.sortList.slice(0, i);\r\n          } else {\r\n            this.sortList = this.sortList.slice(1);\r\n          }\r\n        }\r\n\r\n        this.sortList.unshift(sortObj);\r\n        this.sortList = this.sortList.slice(0, this.multiColumnSort);\r\n      } else {\r\n        this.sortList = [ sortObj ];\r\n      }\r\n    }\r\n  }\r\n\r\n  cleanSortInfo() {\r\n    this.sortList = [];\r\n  }\r\n\r\n  setSelectedRowKey(selectedRowKeys) {\r\n    this.selected = selectedRowKeys;\r\n  }\r\n\r\n  getRowByKey(keys) {\r\n    // Bad Performance #1164\r\n    // return keys.map(key => {\r\n    //   const result = this.data.filter(d => d[this.keyField] === key);\r\n    //   if (result.length !== 0) return result[0];\r\n    // });\r\n    const result = [];\r\n    if (!keys || keys.length === 0) {\r\n      return result;\r\n    }\r\n    for (let i = 0; i < this.data.length; i++) {\r\n      const d = this.data[i];\r\n      if (keys.indexOf(d[this.keyField]) > -1) {\r\n        keys = keys.filter(k => k !== d[this.keyField]);\r\n        result.push(d);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getSelectedRowKeys() {\r\n    return this.selected;\r\n  }\r\n\r\n  getCurrentDisplayData() {\r\n    if (this.isOnFilter) return this.filteredData;\r\n    else return this.data;\r\n  }\r\n\r\n  _refresh(skipSorting) {\r\n    if (this.isOnFilter) {\r\n      if (this.filterObj !== null) this.filter(this.filterObj);\r\n      if (this.searchText !== null) this.search(this.searchText);\r\n    }\r\n    if (!skipSorting && this.sortList.length > 0) {\r\n      this.sort();\r\n    }\r\n  }\r\n\r\n  ignoreNonSelected() {\r\n    this.showOnlySelected = !this.showOnlySelected;\r\n    if (this.showOnlySelected) {\r\n      this.isOnFilter = true;\r\n      this.filteredData = this.data.filter( row => {\r\n        const result = this.selected.find(x => row[this.keyField] === x);\r\n        return typeof result !== 'undefined' ? true : false;\r\n      });\r\n    } else {\r\n      this.isOnFilter = false;\r\n    }\r\n  }\r\n\r\n  sort() {\r\n    let currentDisplayData = this.getCurrentDisplayData();\r\n\r\n    currentDisplayData = this._sort(currentDisplayData);\r\n\r\n    return this;\r\n  }\r\n\r\n  page(page, sizePerPage) {\r\n    this.pageObj.end = page * sizePerPage - 1;\r\n    this.pageObj.start = this.pageObj.end - (sizePerPage - 1);\r\n    return this;\r\n  }\r\n\r\n  edit(newVal, rowIndex, fieldName) {\r\n    const currentDisplayData = this.getCurrentDisplayData();\r\n    let rowKeyCache;\r\n    if (!this.enablePagination) {\r\n      currentDisplayData[rowIndex][fieldName] = newVal;\r\n      rowKeyCache = currentDisplayData[rowIndex][this.keyField];\r\n    } else {\r\n      currentDisplayData[this.pageObj.start + rowIndex][fieldName] = newVal;\r\n      rowKeyCache = currentDisplayData[this.pageObj.start + rowIndex][this.keyField];\r\n    }\r\n    if (this.isOnFilter) {\r\n      this.data.forEach(function(row) {\r\n        if (row[this.keyField] === rowKeyCache) {\r\n          row[fieldName] = newVal;\r\n        }\r\n      }, this);\r\n      if (this.filterObj !== null) this.filter(this.filterObj);\r\n      if (this.searchText !== null) this.search(this.searchText);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addAtBegin(newObj) {\r\n    if (!newObj[this.keyField] || newObj[this.keyField].toString() === '') {\r\n      throw new Error(`${this.keyField} can't be empty value.`);\r\n    }\r\n    const currentDisplayData = this.getCurrentDisplayData();\r\n    currentDisplayData.forEach(function(row) {\r\n      if (row[this.keyField].toString() === newObj[this.keyField].toString()) {\r\n        throw new Error(`${this.keyField} ${newObj[this.keyField]} already exists`);\r\n      }\r\n    }, this);\r\n    currentDisplayData.unshift(newObj);\r\n    if (this.isOnFilter) {\r\n      this.data.unshift(newObj);\r\n    }\r\n    this._refresh(false);\r\n  }\r\n\r\n  add(newObj) {\r\n    const e = this.isValidKey(newObj[this.keyField]);\r\n    if (e) throw new Error(e);\r\n\r\n    const currentDisplayData = this.getCurrentDisplayData();\r\n    currentDisplayData.push(newObj);\r\n    if (this.isOnFilter) {\r\n      this.data.push(newObj);\r\n    }\r\n    this._refresh(false);\r\n  }\r\n\r\n  isValidKey = key => {\r\n    if (key === null || key === undefined || key.toString() === '') {\r\n      return `${this.keyField} can't be empty value.`;\r\n    }\r\n    const currentDisplayData = this.getCurrentDisplayData();\r\n    const exist = currentDisplayData.find(row => row[this.keyField].toString() === key.toString());\r\n    if (exist) return `${this.keyField} ${key} already exists`;\r\n  }\r\n\r\n  remove(rowKey) {\r\n    const currentDisplayData = this.getCurrentDisplayData();\r\n    const result = currentDisplayData.filter(row => {\r\n      return rowKey.indexOf(row[this.keyField]) === -1;\r\n    });\r\n\r\n    if (this.isOnFilter) {\r\n      this.data = this.data.filter(row => {\r\n        return rowKey.indexOf(row[this.keyField]) === -1;\r\n      });\r\n      this.filteredData = result;\r\n    } else {\r\n      this.data = result;\r\n    }\r\n  }\r\n\r\n  filter(filterObj) {\r\n    if (Object.keys(filterObj).length === 0) {\r\n      this.filteredData = null;\r\n      this.isOnFilter = false;\r\n      this.filterObj = null;\r\n      if (this.searchText) this._search(this.data);\r\n    } else {\r\n      let source = this.data;\r\n      this.filterObj = filterObj;\r\n      if (this.searchText) {\r\n        this._search(source);\r\n        source = this.filteredData;\r\n      }\r\n      this._filter(source);\r\n    }\r\n  }\r\n\r\n  filterNumber(targetVal, filterVal, comparator) {\r\n    let valid = true;\r\n    switch (comparator) {\r\n    case '=': {\r\n      if (targetVal != filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '>': {\r\n      if (targetVal <= filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '>=': {\r\n      if (targetVal < filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '<': {\r\n      if (targetVal >= filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '<=': {\r\n      if (targetVal > filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '!=': {\r\n      if (targetVal == filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    default: {\r\n      console.error('Number comparator provided is not supported');\r\n      break;\r\n    }\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  filterDate(targetVal, filterVal, comparator) {\r\n    if (!targetVal) return false;\r\n\r\n    const filterDate = filterVal.getDate();\r\n    const filterMonth = filterVal.getMonth();\r\n    const filterYear = filterVal.getFullYear();\r\n\r\n    if (typeof targetVal !== 'object') {\r\n      targetVal = new Date(targetVal);\r\n    }\r\n\r\n    const targetDate = targetVal.getDate();\r\n    const targetMonth = targetVal.getMonth();\r\n    const targetYear = targetVal.getFullYear();\r\n\r\n    let valid = true;\r\n    switch (comparator) {\r\n    case '=': {\r\n      if (filterDate !== targetDate ||\r\n        filterMonth !== targetMonth ||\r\n        filterYear !== targetYear) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '>': {\r\n      if (targetVal <= filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '>=': {\r\n      if (targetYear < filterYear) {\r\n        valid = false;\r\n      } else if (targetYear === filterYear &&\r\n        targetMonth < filterMonth) {\r\n        valid = false;\r\n      } else if (targetYear === filterYear &&\r\n        targetMonth === filterMonth &&\r\n        targetDate < filterDate) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '<': {\r\n      if (targetVal >= filterVal) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '<=': {\r\n      if (targetYear > filterYear) {\r\n        valid = false;\r\n      } else if (targetYear === filterYear &&\r\n        targetMonth > filterMonth) {\r\n        valid = false;\r\n      } else if (targetYear === filterYear &&\r\n        targetMonth === filterMonth &&\r\n        targetDate > filterDate) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    case '!=': {\r\n      if (filterDate === targetDate &&\r\n        filterMonth === targetMonth &&\r\n        filterYear === targetYear) {\r\n        valid = false;\r\n      }\r\n      break;\r\n    }\r\n    default: {\r\n      console.error('Date comparator provided is not supported');\r\n      break;\r\n    }\r\n    }\r\n    return valid;\r\n  }\r\n\r\n  filterRegex(targetVal, filterVal) {\r\n    try {\r\n      return new RegExp(filterVal, 'i').test(targetVal);\r\n    } catch (e) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  filterCustom(targetVal, filterVal, callbackInfo, cond) {\r\n    if (callbackInfo !== null && typeof callbackInfo === 'object') {\r\n      return callbackInfo.callback(targetVal, callbackInfo.callbackParameters);\r\n    }\r\n\r\n    return this.filterText(targetVal, filterVal, cond);\r\n  }\r\n\r\n  filterText(targetVal = '', filterVal, cond = Const.FILTER_COND_LIKE) {\r\n    targetVal = targetVal === null ? '' : targetVal.toString();\r\n    filterVal = filterVal.toString();\r\n    if (cond === Const.FILTER_COND_EQ) {\r\n      return targetVal === filterVal;\r\n    } else {\r\n      targetVal = targetVal.toLowerCase();\r\n      filterVal = filterVal.toLowerCase();\r\n      return !(targetVal.indexOf(filterVal) === -1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Filter if targetVal is contained in filterVal.\r\n   */\r\n  filterArray(targetVal, filterVal) {\r\n    // case insensitive\r\n    return filterVal.indexOf(targetVal) > -1;\r\n  }\r\n\r\n  /* General search function\r\n   * It will search for the text if the input includes that text;\r\n   */\r\n  search(searchText) {\r\n    if (searchText.trim() === '') {\r\n      this.filteredData = null;\r\n      this.isOnFilter = false;\r\n      this.searchText = null;\r\n      if (this.filterObj) this._filter(this.data);\r\n    } else {\r\n      let source = this.data;\r\n      this.searchText = searchText;\r\n      if (this.filterObj) {\r\n        this._filter(source);\r\n        source = this.filteredData;\r\n      }\r\n      this._search(source);\r\n    }\r\n  }\r\n\r\n  _filter(source) {\r\n    const filterObj = this.filterObj;\r\n    this.filteredData = source.filter((row, r) => {\r\n      let valid = true;\r\n      let filterVal;\r\n      for (const key in filterObj) {\r\n        let targetVal = row[key];\r\n        if (targetVal === null || targetVal === undefined) {\r\n          targetVal = '';\r\n        }\r\n\r\n        switch (filterObj[key].type) {\r\n        case Const.FILTER_TYPE.NUMBER: {\r\n          filterVal = filterObj[key].value.number;\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.CUSTOM: {\r\n          filterVal = (typeof filterObj[key].value === 'object') ?\r\n            undefined :\r\n            (typeof filterObj[key].value === 'string') ?\r\n              filterObj[key].value.toLowerCase() :\r\n              filterObj[key].value;\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.DATE: {\r\n          filterVal = filterObj[key].value.date;\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.REGEX: {\r\n          filterVal = filterObj[key].value;\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.ARRAY: {\r\n          filterVal = filterObj[key].value;\r\n          if (!Array.isArray(filterVal)) {\r\n            throw new Error('Value must be an Array');\r\n          }\r\n          break;\r\n        }\r\n        default: {\r\n          filterVal = filterObj[key].value;\r\n          if (filterVal === undefined) {\r\n            // Support old filter\r\n            filterVal = filterObj[key];\r\n          }\r\n          break;\r\n        }\r\n        }\r\n        let format, filterFormatted, formatExtraData, filterValue;\r\n        if (this.colInfos[key]) {\r\n          format = this.colInfos[key].format;\r\n          filterFormatted = this.colInfos[key].filterFormatted;\r\n          formatExtraData = this.colInfos[key].formatExtraData;\r\n          filterValue = this.colInfos[key].filterValue;\r\n          if (filterFormatted && format) {\r\n            targetVal = format(row[key], row, formatExtraData, r);\r\n          } else if (filterValue) {\r\n            targetVal = filterValue(row[key], row);\r\n          }\r\n        }\r\n\r\n        switch (filterObj[key].type) {\r\n        case Const.FILTER_TYPE.NUMBER: {\r\n          valid = this.filterNumber(targetVal, filterVal, filterObj[key].value.comparator);\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.DATE: {\r\n          valid = this.filterDate(targetVal, filterVal, filterObj[key].value.comparator);\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.REGEX: {\r\n          valid = this.filterRegex(targetVal, filterVal);\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.CUSTOM: {\r\n          const cond = filterObj[key].props ? filterObj[key].props.cond : Const.FILTER_COND_LIKE;\r\n          valid = this.filterCustom(targetVal, filterVal, filterObj[key].value, cond);\r\n          break;\r\n        }\r\n        case Const.FILTER_TYPE.ARRAY: {\r\n          valid = this.filterArray(targetVal, filterVal);\r\n          break;\r\n        }\r\n        default: {\r\n          if (filterObj[key].type === Const.FILTER_TYPE.SELECT &&\r\n            filterFormatted && filterFormatted && format) {\r\n            filterVal = format(filterVal, row, formatExtraData, r);\r\n          }\r\n          const cond = filterObj[key].props ? filterObj[key].props.cond : Const.FILTER_COND_LIKE;\r\n          valid = this.filterText(targetVal, filterVal, cond);\r\n          break;\r\n        }\r\n        }\r\n        if (!valid) {\r\n          break;\r\n        }\r\n      }\r\n      return valid;\r\n    });\r\n    this.isOnFilter = true;\r\n  }\r\n\r\n  /*\r\n   * Four different sort modes, all case insensitive:\r\n   * (1) strictSearch && !multiColumnSearch\r\n   *     search text must be contained as provided in a single column\r\n   * (2) strictSearch && multiColumnSearch\r\n   *     conjunction (AND combination) of whitespace separated terms over multiple columns\r\n   * (3) !strictSearch && !multiColumnSearch\r\n   *     conjunction (AND combination) of whitespace separated terms in a single column\r\n   * (4) !strictSearch && multiColumnSearch\r\n   *     any of the whitespace separated terms must be contained in any column\r\n   */\r\n  _search(source) {\r\n    let searchTextArray;\r\n    if (this.multiColumnSearch || !this.strictSearch) {\r\n      // ignore leading and trailing whitespaces\r\n      searchTextArray = this.searchText.trim().toLowerCase().split(/\\s+/);\r\n    } else {\r\n      searchTextArray = [ this.searchText.toLowerCase() ];\r\n    }\r\n    const searchTermCount = searchTextArray.length;\r\n    const multipleTerms = searchTermCount > 1;\r\n    const nonStrictMultiCol = multipleTerms && !this.strictSearch && this.multiColumnSearch;\r\n    const nonStrictSingleCol = multipleTerms && !this.strictSearch && !this.multiColumnSearch;\r\n    this.filteredData = source.filter((row, r) => {\r\n      const keys = Object.keys(row);\r\n      // only clone array if necessary\r\n      let searchTerms = multipleTerms ? searchTextArray.slice() : searchTextArray;\r\n      // for loops are ugly, but performance matters here.\r\n      // And you cant break from a forEach.\r\n      // http://jsperf.com/for-vs-foreach/66\r\n      for (let i = 0, keysLength = keys.length; i < keysLength; i++) {\r\n        const key = keys[i];\r\n        const colInfo = this.colInfos[key];\r\n        if (colInfo && colInfo.searchable) {\r\n          const {\r\n            format,\r\n            filterFormatted,\r\n            filterValue,\r\n            formatExtraData\r\n          } = colInfo;\r\n          let targetVal;\r\n          if (filterFormatted && format) {\r\n            targetVal = format(row[key], row, formatExtraData, r);\r\n          } else if (filterValue) {\r\n            targetVal = filterValue(row[key], row);\r\n          } else {\r\n            targetVal = row[key];\r\n          }\r\n          if (targetVal !== null && typeof targetVal !== 'undefined') {\r\n            targetVal = targetVal.toString().toLowerCase();\r\n            if (nonStrictSingleCol && searchTermCount > searchTerms.length) {\r\n              // reset search terms for single column search\r\n              searchTerms = searchTextArray.slice();\r\n            }\r\n            for (let j = searchTerms.length - 1; j > -1; j--) {\r\n              if (targetVal.indexOf(searchTerms[j]) !== -1) {\r\n                if (nonStrictMultiCol || searchTerms.length === 1) {\r\n                  // match found: the last or only one\r\n                  return true;\r\n                }\r\n                // match found: but there are more search terms to check for\r\n                searchTerms.splice(j, 1);\r\n              } else if (!this.multiColumnSearch) {\r\n                // one of the search terms was not found in this column\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    });\r\n    this.isOnFilter = true;\r\n  }\r\n\r\n  _sort(arr) {\r\n    if (this.sortList.length === 0 || typeof(this.sortList[0]) === 'undefined') {\r\n      return arr;\r\n    }\r\n\r\n    arr.sort((a, b) => {\r\n      let result = 0;\r\n      for (let i = this.sortList.length - 1; i >= 0; i--) {\r\n        const sortDetails = this.sortList[i];\r\n        if(this.colInfos[sortDetails.sortField]==null){//fix sort roi an di se bi loi\r\n          this.sortList.splice(i, 1);\r\n          continue;\r\n        }\r\n      }\r\n      for (let i = 0; i < this.sortList.length; i++) {\r\n        const sortDetails = this.sortList[i];\r\n        const isDesc = sortDetails.order.toLowerCase() === Const.SORT_DESC;        \r\n        const { sortFunc, sortFuncExtraData } = this.colInfos[sortDetails.sortField];\r\n\r\n        if (sortFunc) {\r\n          result = sortFunc(a, b, sortDetails.order, sortDetails.sortField, sortFuncExtraData);\r\n        } else {\r\n          const valueA = a[sortDetails.sortField] == null ? '' : a[sortDetails.sortField];\r\n          const valueB = b[sortDetails.sortField] == null ? '' : b[sortDetails.sortField];\r\n\r\n          if (isDesc) {\r\n            if (typeof valueB === 'string') {\r\n              result = valueB.localeCompare(valueA);\r\n            } else {\r\n              result = valueA > valueB ? -1 : ((valueA < valueB) ? 1 : 0);\r\n            }\r\n          } else {\r\n            if (typeof valueA === 'string') {\r\n              result = valueA.localeCompare(valueB);\r\n            } else {\r\n              result = valueA < valueB ? -1 : ((valueA > valueB) ? 1 : 0);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (result !== 0) {\r\n          return result;\r\n        }\r\n      }\r\n\r\n      return result;\r\n    });\r\n\r\n    return arr;\r\n  }\r\n\r\n  getDataIgnoringPagination() {\r\n    return this.getCurrentDisplayData();\r\n  }\r\n\r\n  get() {\r\n    const _data = this.getCurrentDisplayData();\r\n\r\n    if (_data.length === 0) return _data;\r\n\r\n    const remote = typeof this.remote === 'function' ?\r\n      (this.remote(Const.REMOTE))[Const.REMOTE_PAGE] : this.remote;\r\n\r\n    if (remote || !this.enablePagination) {\r\n      return _data;\r\n    } else {\r\n      const result = [];\r\n      for (let i = this.pageObj.start; i <= this.pageObj.end; i++) {\r\n        result.push(_data[i]);\r\n        if (i + 1 === _data.length) break;\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n\r\n  getKeyField() {\r\n    return this.keyField;\r\n  }\r\n\r\n  getDataNum() {\r\n    return this.getCurrentDisplayData().length;\r\n  }\r\n\r\n  isChangedPage() {\r\n    return this.pageObj.start && this.pageObj.end ? true : false;\r\n  }\r\n\r\n  isEmpty() {\r\n    return (this.data.length === 0 ||\r\n    this.data === null ||\r\n    this.data === undefined);\r\n  }\r\n\r\n  getAllRowkey() {\r\n    return this.data.map(row => {\r\n      return row[this.keyField];\r\n    });\r\n  }\r\n}\r\n","/* eslint block-scoped-var: 0 */\n/* eslint vars-on-top: 0 */\n/* eslint no-var: 0 */\n/* eslint no-unused-vars: 0 */\nimport Util from './util';\nimport Const from './Const';\n\nif (Util.canUseDOM()) {\n  const filesaver = require('./filesaver');\n  var saveAs = filesaver.saveAs;\n}\n\nfunction toString(data, keys, separator, excludeCSVHeader) {\n  let dataString = '';\n  if (data.length === 0) return dataString;\n\n  const headCells = [];\n  let rowCount = 0;\n  keys.forEach(key => {\n    if (key.row > rowCount) {\n      rowCount = key.row;\n    }\n    // rowCount += (key.rowSpan + key.colSpan - 1);\n    for (var index = 0; index < key.colSpan; index++) {\n      headCells.push(key);\n    }\n  });\n\n  const firstRow = excludeCSVHeader ? 1 : 0;\n  for (let i = firstRow; i <= rowCount; i++) {\n    dataString += headCells.map(x => {\n      if ((x.row + (x.rowSpan - 1)) === i) {\n        return `\"${x.header}\"`;\n      }\n      if (x.row === i && x.rowSpan > 1) {\n        return '';\n      }\n    }).filter(key => {\n      return typeof key !== 'undefined';\n    }).join(separator) + '\\n';\n  }\n\n  keys = keys.filter(key => {\n    return key.field !== undefined;\n  });\n\n  data.map(function(row) {\n    keys.map(function(col, i) {\n      const { field, format, extraData, type } = col;\n      let value = typeof format !== 'undefined' ? format(row[field], row, extraData) : row[field];\n      value = type === Const.CSV_NUMBER_TYPE ? Number(value) : `\"${value}\"`;\n      const cell = typeof value !== 'undefined' ? value : '';\n      dataString += cell;\n      if (i + 1 < keys.length) dataString += separator;\n    });\n\n    dataString += '\\n';\n  });\n\n  return dataString;\n}\n\nconst exportCSV = function(data, keys, filename, separator, noAutoBOM, excludeCSVHeader) {\n  const dataString = toString(data, keys, separator, excludeCSVHeader);\n  if (typeof window !== 'undefined') {\n    noAutoBOM = noAutoBOM === undefined ? true : noAutoBOM;\n    saveAs(new Blob([ '\\ufeff', dataString ],\n        { type: 'text/plain;charset=utf-8' }),\n        filename, noAutoBOM);\n  }\n};\n\nexport default exportCSV;\n","import Const from './Const';\nimport { EventEmitter } from 'events';\n\nexport class Filter extends EventEmitter {\n  constructor(data) {\n    super(data);\n    this.currentFilter = {};\n  }\n\n  handleFilter(dataField, value, type, filterObj) {\n    const filterType = type || Const.FILTER_TYPE.CUSTOM;\n\n    const props = {\n      cond: filterObj.condition // Only for select and text filter\n    };\n\n    if (value !== null && typeof value === 'object') {\n      // value of the filter is an object\n      let hasValue = true;\n      for (const prop in value) {\n        if (!value[prop] || value[prop] === '') {\n          hasValue = false;\n          break;\n        }\n      }\n      // if one of the object properties is undefined or empty, we remove the filter\n      if (hasValue) {\n        this.currentFilter[dataField] = { value: value, type: filterType, props };\n      } else {\n        delete this.currentFilter[dataField];\n      }\n    } else if (!value || value.trim() === '') {\n      delete this.currentFilter[dataField];\n    } else {\n      this.currentFilter[dataField] = { value: value.trim(), type: filterType, props };\n    }\n    this.emit('onFilterChange', this.currentFilter);\n  }\n}\n","/*global self*/\r\n/*eslint-disable no-unused-expressions */\r\n/*eslint-disable no-new-func */\r\n/*eslint-disable no-unused-vars */\r\n/*eslint-disable no-self-compare */\r\n/*eslint-disable no-use-before-define */\r\n/*eslint-disable no-redeclare */\r\n/*eslint-disable no-loop-func */\r\n/*eslint-disable new-parens */\r\n/*eslint-disable eqeqeq */\r\n/*eslint-disable default-case */\r\n/*eslint no-unused-expressions: [\"error\", { \"allowTernary\": true }]*/\r\n/*eslint no-restricted-globals: [\"off\", \"self\"]*/\r\n/*eslint no-undef: \"off\"*/\r\n/* eslint no-alert: 0 */\r\n/* eslint max-len: 0 */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classSet from 'classnames';\r\n// import Alert from 'react-s-alert';\r\nimport {CAlert as Alert} from './_libs'\r\nimport Const from './Const';\r\nimport TableHeaderColumn from './TableHeaderColumn';\r\nimport TableHeader from './TableHeader';\r\nimport TableFooter from './TableFooter';\r\nimport TableBody from './TableBody';\r\nimport PaginationList from './pagination/PaginationList';\r\nimport ToolBar from './toolbar/ToolBar';\r\nimport TableFilter from './TableFilter';\r\nimport { TableDataStore } from './store/TableDataStore';\r\nimport Util from './util';\r\nimport exportCSVUtil from './csv_export_util';\r\nimport { Filter } from './Filter';\r\n\r\n\r\nclass BootstrapTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.isIE = false;\r\n    if (Util.canUseDOM()) {\r\n      this.isIE = document.documentMode;\r\n    }\r\n    this.store = new TableDataStore(this.props.data ? this.props.data.slice() : []);\r\n    this.isVerticalScroll = false;\r\n    this.initTable(this.props);\r\n\r\n    if (this.props.selectRow && this.props.selectRow.selected) {\r\n      const copy = this.props.selectRow.selected.slice();\r\n      this.store.setSelectedRowKey(copy);\r\n    }\r\n    let currPage = Const.PAGE_START_INDEX;\r\n    if (typeof this.props.options.page !== 'undefined') {\r\n      currPage = this.props.options.page;\r\n    } else if (typeof this.props.options.pageStartIndex !== 'undefined') {\r\n      currPage = this.props.options.pageStartIndex;\r\n    }\r\n\r\n    this._adjustHeaderWidth = this._adjustHeaderWidth.bind(this);\r\n    this._adjustHeight = this._adjustHeight.bind(this);\r\n    this._adjustTable = this._adjustTable.bind(this);\r\n    this.toggleExpandAllChilds = this.toggleExpandAllChilds.bind(this);\r\n\r\n    let expandedKeys = [];\r\n    if (this.props.options.expandAllChilds !== null &&\r\n      this.props.options.expandAllChilds !== undefined && this.props.options.expandAllChilds) {\r\n      expandedKeys = this.store.getAllRowkey();\r\n    } else if (this.props.options.expanding !== undefined && this.props.options.expanding !== null) {\r\n      expandedKeys = this.props.options.expanding;\r\n    }\r\n\r\n    this.state = {\r\n      data: this.getTableData(),\r\n      currPage: currPage,\r\n      expanding: expandedKeys,\r\n      sizePerPage: this.props.options.sizePerPage || Const.SIZE_PER_PAGE_LIST[0],\r\n      selectedRowKeys: this.store.getSelectedRowKeys(),\r\n      reset: false,\r\n      x: this.props.keyBoardNav ? 0 : -1,\r\n      y: this.props.keyBoardNav ? 0 : -1\r\n    };\r\n  }\r\n\r\n  initTable(props) {\r\n    // If columns changed, clean removed columns that had filters\r\n    if (props.children !== this.props.children && this.filter) {\r\n      const nextDataFields = React.Children.map(props.children, column => column.props.dataField);\r\n      React.Children.forEach(this.props.children, column => {\r\n        const { dataField, filter } = column.props;\r\n        if (filter && !nextDataFields.includes(dataField)) {\r\n          // Clear filter\r\n          this.filter.handleFilter(dataField, '', filter.type, filter);\r\n        }\r\n      });\r\n    }\r\n\r\n    let { keyField } = props;\r\n\r\n    const isKeyFieldDefined = typeof keyField === 'string' && keyField.length;\r\n    React.Children.forEach(props.children, column => {\r\n      if (column === null || column === undefined) {\r\n        // Skip null and undefined value\r\n        return;\r\n      }\r\n      if (column.props.isKey) {\r\n        if (keyField) {\r\n          throw new Error('Error. Multiple key column detected in TableHeaderColumn.');\r\n        }\r\n        keyField = column.props.dataField;\r\n      }\r\n      if (column.props.filter) {\r\n        // a column contains a filter\r\n        if (!this.filter) {\r\n          // first time create the filter on the BootstrapTable\r\n          this.filter = new Filter();\r\n        }\r\n        // pass the filter to column with filter\r\n        column.props.filter.emitter = this.filter;\r\n      }\r\n    });\r\n\r\n    // if a column filter was created, add 'onFilterChange' listener\r\n    if (this.filter) {\r\n      this.filter.removeAllListeners('onFilterChange');\r\n      this.filter.on('onFilterChange', (currentFilter) => {\r\n        this.handleFilterData(currentFilter);\r\n      });\r\n    }\r\n\r\n    this.colInfos = this.getColumnsDescription(props).reduce(( prev, curr ) => {\r\n      prev[curr.name] = curr;\r\n      return prev;\r\n    }, {});\r\n\r\n    if (!isKeyFieldDefined && !keyField) {\r\n      throw new Error(`Error. No any key column defined in TableHeaderColumn.\r\n            Use 'isKey={true}' to specify a unique column after version 0.5.4.`);\r\n    }\r\n\r\n    this.store.setProps({\r\n      isPagination: props.pagination,\r\n      keyField: keyField,\r\n      colInfos: this.colInfos,\r\n      multiColumnSearch: props.multiColumnSearch,\r\n      strictSearch: props.strictSearch,\r\n      multiColumnSort: props.multiColumnSort,\r\n      remote: this.props.remote\r\n    });\r\n  }\r\n\r\n  getTableData() {\r\n    let result = [];\r\n    const { options, pagination } = this.props;\r\n    const sortName = options.defaultSortName || options.sortName;\r\n    const sortOrder = options.defaultSortOrder || options.sortOrder;\r\n    const searchText = options.defaultSearch;\r\n\r\n    if (sortName && sortOrder) {\r\n      this.store.setSortInfo(sortOrder, sortName);\r\n      if (!this.allowRemote(Const.REMOTE_SORT)) {\r\n        this.store.sort();\r\n      }\r\n    }\r\n\r\n    if (searchText) {\r\n      this.store.search(searchText);\r\n    }\r\n\r\n    if (pagination) {\r\n      let page;\r\n      let sizePerPage;\r\n      if (this.store.isChangedPage()) {\r\n        sizePerPage = this.state.sizePerPage;\r\n        page = this.state.currPage;\r\n      } else {\r\n        sizePerPage = options.sizePerPage || Const.SIZE_PER_PAGE_LIST[0];\r\n        page = options.page || 1;\r\n      }\r\n      result = this.store.page(page, sizePerPage).get();\r\n    } else {\r\n      result = this.store.get();\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getColumnsDescription({ children }) {\r\n    let rowCount = 0;\r\n    React.Children.forEach(children, (column) => {\r\n      if (column === null || column === undefined) {\r\n        // Skip null and undefined value\r\n        return;\r\n      }\r\n\r\n      if (Number(column.props.row) > rowCount) {\r\n        rowCount = Number(column.props.row);\r\n      }\r\n    });\r\n    return React.Children.map(children, (column, i) => {\r\n      if (column === null || column === undefined) {\r\n        // Return null for empty objects\r\n        return null;\r\n      }\r\n\r\n      const rowIndex = column.props.row ? Number(column.props.row) : 0;\r\n      const rowSpan = column.props.rowSpan ? Number(column.props.rowSpan) : 1;\r\n      if ((rowSpan + rowIndex) === (rowCount + 1)) {\r\n        const columnDescription = this.getColumnDescription(column);\r\n\r\n        columnDescription.index = i;\r\n        return columnDescription;\r\n      }\r\n    });\r\n  }\r\n\r\n  getColumnDescription(column) {\r\n    let columnDescription = {\r\n      name: column.props.dataField,\r\n      align: column.props.dataAlign,\r\n      sort: column.props.dataSort,\r\n      format: column.props.dataFormat,\r\n      formatExtraData: column.props.formatExtraData,\r\n      filterFormatted: column.props.filterFormatted,\r\n      filterValue: column.props.filterValue,\r\n      editable: column.props.editable,\r\n      customEditor: column.props.customEditor,\r\n      hidden: column.props.hidden,\r\n      hiddenOnInsert: column.props.hiddenOnInsert,\r\n      searchable: column.props.searchable,\r\n      className: column.props.columnClassName,\r\n      editClassName: column.props.editColumnClassName,\r\n      invalidEditColumnClassName: column.props.invalidEditColumnClassName,\r\n      columnTitle: column.props.columnTitle,\r\n      width: column.props.width,\r\n      text: column.props.headerText || column.props.children,\r\n      sortFunc: column.props.sortFunc,\r\n      sortFuncExtraData: column.props.sortFuncExtraData,\r\n      export: column.props.export,\r\n      expandable: column.props.expandable,\r\n      attrs: column.props.tdAttr,\r\n      editAttrs: column.props.editTdAttr,\r\n      style: column.props.tdStyle\r\n    };\r\n\r\n    if (column.type.name !== TableHeaderColumn.name && React.isValidElement(column.props.children)) {\r\n      columnDescription = {\r\n        ...columnDescription,\r\n        ...this.getColumnDescription(React.Children.only(column.props.children))\r\n      };\r\n    }\r\n\r\n    return columnDescription;\r\n  }\r\n\r\n  reset() {\r\n    const { pageStartIndex } = this.props.options;\r\n    this.store.clean();\r\n    this.body.setState({ currEditCell: null });\r\n    this.setState(() => {\r\n      return {\r\n        data: this.getTableData(),\r\n        currPage: Util.getFirstPage(pageStartIndex),\r\n        expanding: [],\r\n        sizePerPage: Const.SIZE_PER_PAGE_LIST[0],\r\n        selectedRowKeys: [],\r\n        reset: true\r\n      };\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.initTable(nextProps);\r\n    const { options, selectRow } = nextProps;\r\n    let { replace } = nextProps;\r\n    replace = replace || this.props.replace;\r\n\r\n    if (!nextProps.data) {\r\n      return;\r\n    }\r\n    this.store.setData(nextProps.data.slice());\r\n\r\n    if (!replace) {\r\n      // from #481\r\n      let page = this.state.currPage;\r\n      if (this.props.options.page !== options.page) {\r\n        page = options.page;\r\n      }\r\n      // from #481\r\n      let sizePerPage = this.state.sizePerPage;\r\n      if (this.props.options.sizePerPage !== options.sizePerPage) {\r\n        sizePerPage = options.sizePerPage;\r\n      }\r\n\r\n      if (this.isRemoteDataSource()) {\r\n        const newState = { sizePerPage, reset: false, currPage: page };\r\n        let data = nextProps.data.slice();\r\n        if (nextProps.pagination && !this.allowRemote(Const.REMOTE_PAGE)) {\r\n          data = this.store.page(page, sizePerPage).get();\r\n        }\r\n\r\n        if (this.store.isOnFilter) {\r\n          if (this.store.searchText) this.handleSearch(this.store.searchText);\r\n          if (this.store.filterObj) this.handleFilterData(this.store.filterObj);\r\n          newState.currPage = Util.getFirstPage(nextProps.options.pageStartIndex);\r\n        } else {\r\n          if (!this.allowRemote(Const.REMOTE_SORT)) {\r\n            data = this.store.sort().get();\r\n          } else {\r\n            const { options: currentOptions } = this.props;\r\n            const sortName = options.sortName;\r\n            const sortOrder = options.sortOrder;\r\n            if (currentOptions.sortName !== sortName || currentOptions.sortOrder !== sortOrder) {\r\n              this.store.setSortInfo(sortOrder, options.sortName);\r\n            }\r\n          }\r\n          newState.data = data;\r\n        }\r\n        this.setState(() => newState);\r\n      } else {\r\n        // #125\r\n        // remove !options.page for #709\r\n        if (page > Math.ceil(nextProps.data.length / sizePerPage)) {\r\n          page = 1;\r\n        }\r\n        const sortList = this.store.getSortInfo();\r\n        const sortField = options.sortName;\r\n        const sortOrder = options.sortOrder;\r\n        if (sortField && sortOrder) {\r\n          this.store.setSortInfo(sortOrder, sortField);\r\n          this.store.sort();\r\n        } else if (sortList.length > 0) {\r\n          this.store.sort();\r\n        }\r\n        const data = this.store.page(page, sizePerPage).get();\r\n        this.setState(() => {\r\n          return {\r\n            data,\r\n            currPage: page,\r\n            sizePerPage,\r\n            reset: false\r\n          };\r\n        });\r\n\r\n        if (this.store.isSearching && options.afterSearch) {\r\n          options.afterSearch(this.store.searchText, this.store.getDataIgnoringPagination());\r\n        }\r\n\r\n        if (this.store.isFiltering && options.afterColumnFilter) {\r\n          options.afterColumnFilter(this.store.filterObj, this.store.getDataIgnoringPagination());\r\n        }\r\n      }\r\n\r\n      // If setting the expanded rows is being handled externally\r\n      // then overwrite the current expanded rows.\r\n      if (this.props.options.expanding !== options.expanding) {\r\n        this.setState(() => {\r\n          return {\r\n            expanding: options.expanding || []\r\n          };\r\n        });\r\n      }\r\n\r\n      if (selectRow && selectRow.selected) {\r\n        // set default select rows to store.\r\n        const copy = selectRow.selected.slice();\r\n        this.store.setSelectedRowKey(copy);\r\n        this.setState(() => {\r\n          return {\r\n            selectedRowKeys: copy,\r\n            reset: false\r\n          };\r\n        });\r\n      }\r\n    } else {\r\n      this.reset();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._adjustTable();\r\n    window.addEventListener('resize', this._adjustTable);\r\n    if(this.body){\r\n      this.body.container.addEventListener('scroll', this._scrollHeader);\r\n      if (this.props.footer) {\r\n        this.body.container.addEventListener('scroll', this._scrollFooter);\r\n      }\r\n      if (this.props.scrollTop) {\r\n        this._scrollTop();\r\n      }\r\n    }    \r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this._adjustTable);\r\n    if (this.body && this.body.container) {\r\n      this.body.container.removeEventListener('scroll', this._scrollHeader);\r\n      if (this.props.footer) {\r\n        this.body.container.removeEventListener('scroll', this._scrollFooter);\r\n      }\r\n    }\r\n    if (this.filter) {\r\n      this.filter.removeAllListeners('onFilterChange');\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this._adjustTable();\r\n    if (this.props.options.afterTableComplete) {\r\n      this.props.options.afterTableComplete();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns true if in the current configuration,\r\n   * the datagrid should load its data remotely.\r\n   *\r\n   * @param  {Object}  [props] Optional. If not given, this.props will be used\r\n   * @return {Boolean}\r\n   */\r\n  isRemoteDataSource(props) {\r\n    const { remote } = (props || this.props);\r\n    return remote === true || Util.isFunction(remote);\r\n  }\r\n\r\n  /**\r\n   * Returns true if this action can be handled remote store\r\n   * From #990, Sometimes, we need some actions as remote, some actions are handled by default\r\n   * so function will tell you the target action is can be handled as remote or not.\r\n   * @param  {String}  [action] Required.\r\n   * @param  {Object}  [props] Optional. If not given, this.props will be used\r\n   * @return {Boolean}\r\n   */\r\n  allowRemote(action, props) {\r\n    const { remote } = (props || this.props);\r\n    if (typeof remote === 'function') {\r\n      const remoteObj = remote(Const.REMOTE);\r\n      return remoteObj[action];\r\n    } else {\r\n      return remote;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const style = {\r\n      height: this.props.height,\r\n      maxHeight: this.props.maxHeight\r\n    };\r\n\r\n    const columns = this.getColumnsDescription(this.props);\r\n    const sortList = this.store.getSortInfo();\r\n    const pagination = this.renderPagination();\r\n    const toolBar = this.renderToolBar();\r\n    const tableFilter = this.renderTableFilter(columns);\r\n    const isSelectAll = this.isSelectAll();\r\n    const expandColumnOptions = this.props.expandColumnOptions;\r\n    if (typeof expandColumnOptions.expandColumnBeforeSelectColumn === 'undefined') {\r\n      expandColumnOptions.expandColumnBeforeSelectColumn = true;\r\n    }\r\n    const colGroups = Util.renderColGroup(columns, this.props.selectRow, expandColumnOptions, this.props.version);\r\n    const tableFooter = this.renderTableFooter(this.props.footerData, this.state.data, columns, colGroups);\r\n    let sortIndicator = this.props.options.sortIndicator;\r\n    if (typeof this.props.options.sortIndicator === 'undefined') sortIndicator = true;\r\n\r\n    const { paginationPosition = Const.PAGINATION_POS_BOTTOM } = this.props.options;\r\n    const showPaginationOnTop = paginationPosition !== Const.PAGINATION_POS_BOTTOM;\r\n    const showPaginationOnBottom = paginationPosition !== Const.PAGINATION_POS_TOP;\r\n    const selectRow = { ...this.props.selectRow };\r\n    if (this.props.cellEdit && this.props.cellEdit.mode !== Const.CELL_EDIT_NONE) {\r\n      selectRow.clickToSelect = false;\r\n    }\r\n\r\n    const { toolbarPosition = Const.TOOLBAR_POS_TOP } = this.props.options;\r\n    const showToolbarOnTop = toolbarPosition !== Const.TOOLBAR_POS_BOTTOM;\r\n    const showToolbarOnBottom = toolbarPosition !== Const.TOOLBAR_POS_TOP;\r\n    const { hideRowOnExpand = false } = this.props.options;\r\n    //custom render\r\n    const customRender = this.props.customRender;\r\n    if(customRender){\r\n      const uiCustomRender = customRender({\r\n        data: this.state.data\r\n      })\r\n      if(uiCustomRender!=null){\r\n        return (\r\n          <div className={ classSet('react-bs-table-container', this.props.className, this.props.containerClass) } style={ this.props.containerStyle }>\r\n            {uiCustomRender}\r\n            { showPaginationOnBottom ? pagination : null }\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div className={ classSet('react-bs-table-container', this.props.className, this.props.containerClass) }\r\n        style={ this.props.containerStyle }>\r\n        { showToolbarOnTop ? toolBar : null }\r\n        { showPaginationOnTop ? pagination : null }\r\n        <div ref={ node => this.table = node }\r\n            className={ classSet('react-bs-table', { 'react-bs-table-bordered': this.props.bordered }, this.props.tableContainerClass) }\r\n            style={ { ...style, ...this.props.tableStyle } }\r\n            onMouseEnter={ this.handleMouseEnter }\r\n            onMouseLeave={ this.handleMouseLeave }>\r\n          <TableHeader\r\n            ref={ node => this.header = node }\r\n            version={ this.props.version }\r\n            colGroups={ colGroups }\r\n            headerContainerClass={ this.props.headerContainerClass }\r\n            tableHeaderClass={ this.props.tableHeaderClass }\r\n            style={ this.props.headerStyle }\r\n            rowSelectType={ this.props.selectRow.mode }\r\n            customComponent={ this.props.selectRow.customComponent }\r\n            hideSelectColumn={ this.props.selectRow.hideSelectColumn }\r\n            sortList={ sortList }\r\n            sortIndicator={ sortIndicator }\r\n            onSort={ this.handleSort }\r\n            onSelectAllRow={ this.handleSelectAllRow }\r\n            bordered={ this.props.bordered }\r\n            condensed={ this.props.condensed }\r\n            isFiltered={ this.filter ? true : false }\r\n            isSelectAll={ isSelectAll }\r\n            reset={ this.state.reset }\r\n            expandColumnVisible={ expandColumnOptions.expandColumnVisible }\r\n            expandColumnComponent={ expandColumnOptions.expandColumnComponent }\r\n            expandedColumnHeaderComponent={ expandColumnOptions.expandedColumnHeaderComponent }\r\n            noAnyExpand={ this.state.expanding.length === 0 }\r\n            expandAll={ this.props.options.expandAll }\r\n            toggleExpandAllChilds={ this.toggleExpandAllChilds }\r\n            expandColumnBeforeSelectColumn={ expandColumnOptions.expandColumnBeforeSelectColumn }>\r\n            { this.props.children }\r\n          </TableHeader>\r\n          <TableBody\r\n          ref={ node => this.body = node }\r\n            bodyContainerClass={ this.props.bodyContainerClass }\r\n            tableBodyClass={ this.props.tableBodyClass }\r\n            style={ { ...style, ...this.props.bodyStyle } }\r\n            data={ this.state.data }\r\n            version={ this.props.version }\r\n            expandComponent={ this.props.expandComponent }\r\n            expandableRow={ this.props.expandableRow }\r\n            expandRowBgColor={ this.props.options.expandRowBgColor }\r\n            expandBy={ this.props.options.expandBy || Const.EXPAND_BY_ROW }\r\n            expandBodyClass={ this.props.options.expandBodyClass }\r\n            expandParentClass={ this.props.options.expandParentClass }\r\n            columns={ columns }\r\n            trClassName={ this.props.trClassName }\r\n            trStyle={ this.props.trStyle }\r\n            striped={ this.props.striped }\r\n            bordered={ this.props.bordered }\r\n            hover={ this.props.hover }\r\n            keyField={ this.store.getKeyField() }\r\n            condensed={ this.props.condensed }\r\n            selectRow={ selectRow }\r\n            expandColumnOptions={ this.props.expandColumnOptions }\r\n            cellEdit={ this.props.cellEdit }\r\n            selectedRowKeys={ this.state.selectedRowKeys }\r\n            onRowClick={ this.handleRowClick }\r\n            onRowDoubleClick={ this.handleRowDoubleClick }\r\n            onRowMouseOver={ this.handleRowMouseOver }\r\n            onRowMouseOut={ this.handleRowMouseOut }\r\n            onSelectRow={ this.handleSelectRow }\r\n            noDataText={ this.props.options.noDataText }\r\n            withoutNoDataText={ this.props.options.withoutNoDataText }\r\n            expanding={ this.state.expanding }\r\n            onExpand={ this.handleExpandRow }\r\n            onlyOneExpanding={ this.props.options.onlyOneExpanding }\r\n            beforeShowError={ this.props.options.beforeShowError }\r\n            keyBoardNav={ this.props.keyBoardNav }\r\n            onNavigateCell={ this.handleNavigateCell }\r\n            x={ this.state.x }\r\n            y={ this.state.y }\r\n            withoutTabIndex={ this.props.withoutTabIndex }\r\n            hideRowOnExpand={ hideRowOnExpand }\r\n            onEditCell={ this.handleEditCell } />\r\n            {\r\n              tableFooter\r\n            }\r\n        </div>\r\n        { tableFilter }\r\n        { showPaginationOnBottom ? pagination : null }\r\n\r\n        { showToolbarOnBottom ? toolBar : null }\r\n        {/* An alert vi ko biet de lam gi */}\r\n        {/* { this.props.renderAlert ? <Alert stack={ { limit: 3 } } /> : null } */}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  isSelectAll() {\r\n    if (this.store.isEmpty()) return false;\r\n    const { selectRow: { unselectable, onlyUnselectVisible } } = this.props;\r\n    const keyField = this.store.getKeyField();\r\n    const allRowKeys = onlyUnselectVisible ?\r\n      this.store.get().map(r => r[keyField]) :\r\n      this.store.getAllRowkey();\r\n    let defaultSelectRowKeys = this.store.getSelectedRowKeys();\r\n\r\n    if (onlyUnselectVisible) {\r\n      defaultSelectRowKeys = defaultSelectRowKeys.filter(x => x !== allRowKeys);\r\n    }\r\n\r\n    if (defaultSelectRowKeys.length === 0) return false;\r\n    let match = 0;\r\n    let noFound = 0;\r\n    let unSelectableCnt = 0;\r\n    defaultSelectRowKeys.forEach(selected => {\r\n      if (allRowKeys.indexOf(selected) !== -1) match++;\r\n      else noFound++;\r\n      if (unselectable &&\r\n        unselectable.indexOf(selected) !== -1) unSelectableCnt++;\r\n    });\r\n\r\n    if (noFound === defaultSelectRowKeys.length) return false;\r\n    if (match === allRowKeys.length) {\r\n      return true;\r\n    } else {\r\n      if (unselectable && match <= unSelectableCnt &&\r\n        unSelectableCnt === unselectable.length) return false;\r\n      else return 'indeterminate';\r\n    }\r\n    // return (match === allRowKeys.length) ? true : 'indeterminate';\r\n  }\r\n\r\n  cleanSelected() {\r\n    this.store.setSelectedRowKey([]);\r\n    this.setState(() => {\r\n      return {\r\n        selectedRowKeys: [],\r\n        reset: false\r\n      };\r\n    });\r\n  }\r\n\r\n  cleanSort() {\r\n    this.store.cleanSortInfo();\r\n    this.setState(() => {\r\n      return {\r\n        reset: false\r\n      };\r\n    });\r\n  }\r\n\r\n  handleSort = (order, sortField) => {\r\n    const { autoCollapse: { sort }, options } = this.props;\r\n    if (options.onSortChange) {\r\n      options.onSortChange(sortField, order, this.props);\r\n    }\r\n    this.store.setSortInfo(order, sortField);\r\n    if (this.allowRemote(Const.REMOTE_SORT)) {\r\n      if (sort) {\r\n        this.setState(() => {\r\n          return {\r\n            expanding: []\r\n          };\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    const result = this.store.sort().get();\r\n    this.setState(() => {\r\n      const newState = {\r\n        data: result,\r\n        reset: false\r\n      };\r\n      if (sort) newState.expanding = [];\r\n      return newState;\r\n    });\r\n  }\r\n\r\n  handleExpandRow = (expanding, rowKey, isRowExpanding, event) => {\r\n    const { onExpand } = this.props.options;\r\n    if (onExpand) {\r\n      onExpand(rowKey, !isRowExpanding, event);\r\n    }\r\n    this.setState(() => { return { expanding, reset: false }; }, () => {\r\n      this._adjustHeaderWidth();\r\n    });\r\n  }\r\n\r\n  toggleExpandAllChilds() {\r\n    const { expanding } = this.state;\r\n    if (expanding.length > 0) {\r\n      this.setState(() => {\r\n        return {\r\n          expanding: [],\r\n          reset: false\r\n        };\r\n      });\r\n    } else {\r\n      this.setState(() => {\r\n        return {\r\n          expanding: this.store.getAllRowkey(),\r\n          reset: false\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePaginationData = (page, sizePerPage) => {\r\n    const { onPageChange, pageStartIndex } = this.props.options;\r\n    const emptyTable = this.store.isEmpty();\r\n    if (onPageChange) {\r\n      onPageChange(page, sizePerPage);\r\n    }\r\n\r\n    const state = {\r\n      sizePerPage,\r\n      reset: false\r\n    };\r\n    if (!emptyTable) state.currPage = page;\r\n    this.setState(() => state);\r\n\r\n    if (this.allowRemote(Const.REMOTE_PAGE) || emptyTable) {\r\n      return;\r\n    }\r\n\r\n    const result = this.store.page(Util.getNormalizedPage(pageStartIndex, page), sizePerPage).get();\r\n    this.setState(() => { return { data: result, reset: false }; });\r\n  }\r\n\r\n  handleMouseLeave = () => {\r\n    if (this.props.options.onMouseLeave) {\r\n      this.props.options.onMouseLeave();\r\n    }\r\n  }\r\n\r\n  handleMouseEnter = () => {\r\n    if (this.props.options.onMouseEnter) {\r\n      this.props.options.onMouseEnter();\r\n    }\r\n  }\r\n\r\n  handleRowMouseOut = (row, event) => {\r\n    if (this.props.options.onRowMouseOut) {\r\n      this.props.options.onRowMouseOut(row, event);\r\n    }\r\n  }\r\n\r\n  handleRowMouseOver = (row, event) => {\r\n    if (this.props.options.onRowMouseOver) {\r\n      this.props.options.onRowMouseOver(row, event);\r\n    }\r\n  }\r\n\r\n  handleNavigateCell = ({ x: offSetX, y: offSetY, lastEditCell }) => {\r\n    const { pagination } = this.props;\r\n    let { x, y, currPage } = this.state;\r\n    x += offSetX;\r\n    y += offSetY;\r\n\r\n    const columns = this.store.getColInfos();\r\n    const visibleRowSize = this.state.data.length;\r\n    const visibleColumnSize = Object.keys(columns).filter(k => !columns[k].hidden).length;\r\n\r\n    if (y >= visibleRowSize) {\r\n      currPage++;\r\n      const lastPage = pagination ? this.pagination.getLastPage() : -1;\r\n      if (currPage <= lastPage) {\r\n        this.handlePaginationData(currPage, this.state.sizePerPage);\r\n      } else {\r\n        return;\r\n      }\r\n      y = 0;\r\n    } else if (y < 0) {\r\n      currPage--;\r\n      if (currPage > 0) {\r\n        this.handlePaginationData(currPage, this.state.sizePerPage);\r\n      } else {\r\n        return;\r\n      }\r\n      y = visibleRowSize - 1;\r\n    } else if (x >= visibleColumnSize) {\r\n      if ((y + 1) === visibleRowSize) {\r\n        currPage++;\r\n        const lastPage = pagination ? this.pagination.getLastPage() : -1;\r\n        if (currPage <= lastPage) {\r\n          this.handlePaginationData(currPage, this.state.sizePerPage);\r\n        } else {\r\n          return;\r\n        }\r\n        y = 0;\r\n      } else {\r\n        y++;\r\n      }\r\n      x = lastEditCell ? 1 : 0;\r\n    } else if (x < 0) {\r\n      x = visibleColumnSize - 1;\r\n      if (y === 0) {\r\n        currPage--;\r\n        if (currPage > 0) {\r\n          this.handlePaginationData(currPage, this.state.sizePerPage);\r\n        } else {\r\n          return;\r\n        }\r\n        y = this.state.sizePerPage - 1;\r\n      } else {\r\n        y--;\r\n      }\r\n    }\r\n    this.setState(() => {\r\n      return {\r\n        x, y, currPage, reset: false\r\n      };\r\n    });\r\n  }\r\n\r\n  handleRowClick = (row, rowIndex, columnIndex, event) => {\r\n    const { options, keyBoardNav } = this.props;\r\n    if (options.onRowClick) {\r\n      options.onRowClick(row, columnIndex, rowIndex, event);\r\n    }\r\n    if (keyBoardNav) {\r\n      let { clickToNav } = typeof keyBoardNav === 'object' ? keyBoardNav : {};\r\n      clickToNav = clickToNav === false ? clickToNav : true;\r\n      if (clickToNav) {\r\n        this.setState(() => {\r\n          return {\r\n            x: columnIndex,\r\n            y: rowIndex,\r\n            reset: false\r\n          };\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleRowDoubleClick = (row, event) => {\r\n    if (this.props.options.onRowDoubleClick) {\r\n      this.props.options.onRowDoubleClick(row, event);\r\n    }\r\n  }\r\n\r\n  handleSelectAllRow = e => {\r\n    const isSelected = e.currentTarget.checked;\r\n    const keyField = this.store.getKeyField();\r\n    const { selectRow: { onSelectAll, unselectable, selected, onlyUnselectVisible } } = this.props;\r\n    let selectedRowKeys = onlyUnselectVisible ? this.state.selectedRowKeys : [];\r\n    let result = true;\r\n    let rows = this.store.get();\r\n\r\n    // onlyUnselectVisible default is false, #1276\r\n    if (!isSelected && !onlyUnselectVisible) {\r\n      rows = this.store.getRowByKey(this.state.selectedRowKeys);\r\n    }\r\n\r\n    if (unselectable && unselectable.length > 0) {\r\n      if (isSelected) {\r\n        rows = rows.filter(r => {\r\n          return unselectable.indexOf(r[keyField]) === -1 ||\r\n            (selected && selected.indexOf(r[keyField]) !== -1);\r\n        });\r\n      } else {\r\n        rows = rows.filter(r => unselectable.indexOf(r[keyField]) === -1);\r\n      }\r\n    }\r\n\r\n    if (onSelectAll) {\r\n      result = this.props.selectRow.onSelectAll(isSelected, rows);\r\n    }\r\n\r\n    if (typeof result == 'undefined' || result !== false) {\r\n      if (isSelected) {\r\n        if (Array.isArray(result)) {\r\n          selectedRowKeys = result;\r\n        } else {\r\n          const currentRowKeys = rows.map(r => r[keyField]);\r\n          // onlyUnselectVisible default is false, #1276\r\n          if (onlyUnselectVisible) {\r\n            selectedRowKeys = selectedRowKeys.concat(currentRowKeys);\r\n          } else {\r\n            selectedRowKeys = currentRowKeys;\r\n          }\r\n        }\r\n      } else {\r\n        if (unselectable && selected) {\r\n          selectedRowKeys = selected.filter(r => unselectable.indexOf(r) > -1);\r\n        } else if (onlyUnselectVisible) {\r\n          const currentRowKeys = rows.map(r => r[keyField]);\r\n          selectedRowKeys = selectedRowKeys.filter(k => currentRowKeys.indexOf(k) === -1);\r\n        }\r\n      }\r\n\r\n      this.store.setSelectedRowKey(selectedRowKeys);\r\n      this.setState(() => { return { selectedRowKeys, reset: false }; });\r\n    }\r\n  }\r\n\r\n  handleShowOnlySelected = () => {\r\n    this.store.ignoreNonSelected();\r\n    const { pageStartIndex } = this.props.options;\r\n    let result;\r\n    if (this.props.pagination) {\r\n      result = this.store.page(Util.getNormalizedPage(pageStartIndex), this.state.sizePerPage).get();\r\n    } else {\r\n      result = this.store.get();\r\n    }\r\n    this.setState(() => {\r\n      return {\r\n        data: result,\r\n        reset: false,\r\n        currPage: Util.getFirstPage(pageStartIndex)\r\n      };\r\n    });\r\n  }\r\n\r\n  handleSelectRow = (row, isSelected, e, rowIndex) => {\r\n    let result = true;\r\n    let currSelected = this.store.getSelectedRowKeys();\r\n    const rowKey = row[ this.store.getKeyField() ];\r\n    const { selectRow } = this.props;\r\n    if (selectRow.onSelect) {\r\n      result = selectRow.onSelect(row, isSelected, e, rowIndex);\r\n    }\r\n\r\n    if (typeof result === 'undefined' || result !== false) {\r\n      if (selectRow.mode === Const.ROW_SELECT_SINGLE) {\r\n        currSelected = isSelected ? [ rowKey ] : [];\r\n      } else {\r\n        if (isSelected) {\r\n          currSelected.push(rowKey);\r\n        } else {\r\n          currSelected = currSelected.filter(key => rowKey !== key);\r\n        }\r\n      }\r\n\r\n      this.store.setSelectedRowKey(currSelected);\r\n      this.setState(() => {\r\n        return {\r\n          selectedRowKeys: currSelected,\r\n          reset: false\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  handleEditCell = (newVal, rowIndex, colIndex) => {\r\n    const { beforeSaveCell } = this.props.cellEdit;\r\n    const columns = this.getColumnsDescription(this.props);\r\n    const fieldName = columns[colIndex].name;\r\n\r\n    const invalid = () => {\r\n      this.setState(() => {\r\n        return {\r\n          data: this.store.get(),\r\n          reset: false\r\n        };\r\n      });\r\n      return;\r\n    };\r\n\r\n    if (beforeSaveCell) {\r\n      const beforeSaveCellCB = result => {\r\n        this.body.cancelEditCell();\r\n        if (result || result === undefined) {\r\n          this.editCell(newVal, rowIndex, colIndex);\r\n        } else {\r\n          invalid();\r\n        }\r\n      };\r\n      const props = { rowIndex, colIndex };\r\n      const isValid = beforeSaveCell(this.state.data[rowIndex], fieldName, newVal, beforeSaveCellCB, props);\r\n      if (isValid === false && typeof isValid !== 'undefined') {\r\n        return invalid();\r\n      } else if (isValid === Const.AWAIT_BEFORE_CELL_EDIT) {\r\n        /* eslint consistent-return: 0 */\r\n        return isValid;\r\n      }\r\n    }\r\n    this.editCell(newVal, rowIndex, colIndex);\r\n  }\r\n\r\n  editCell(newVal, rowIndex, colIndex) {\r\n    const { onCellEdit } = this.props.options;\r\n    const { afterSaveCell } = this.props.cellEdit;\r\n    const columns = this.getColumnsDescription(this.props);\r\n    const fieldName = columns[colIndex].name;\r\n    const props = { rowIndex, colIndex };\r\n    if (onCellEdit) {\r\n      newVal = onCellEdit(this.state.data[rowIndex], fieldName, newVal);\r\n    }\r\n\r\n    if (this.allowRemote(Const.REMOTE_CELL_EDIT)) {\r\n      if (afterSaveCell) {\r\n        afterSaveCell(this.state.data[rowIndex], fieldName, newVal, props);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const result = this.store.edit(newVal, rowIndex, fieldName).get();\r\n    this.setState(() => {\r\n      return {\r\n        data: result,\r\n        reset: false\r\n      };\r\n    });\r\n\r\n    if (afterSaveCell) {\r\n      afterSaveCell(this.state.data[rowIndex], fieldName, newVal, props);\r\n    }\r\n  }\r\n\r\n  handleAddRowAtBegin(newObj) {\r\n    try {\r\n      this.store.addAtBegin(newObj);\r\n    } catch (e) {\r\n      return e;\r\n    }\r\n    this._handleAfterAddingRow(newObj, true);\r\n  }\r\n\r\n  handleAddRow = newObj => {\r\n    let isAsync = false;\r\n    const { onAddRow } = this.props.options;\r\n\r\n    const afterHandleAddRow = errMsg => {\r\n      if (isAsync) {\r\n        this.toolbar.afterHandleSaveBtnClick(errMsg);\r\n      } else {\r\n        return errMsg;\r\n      }\r\n    };\r\n\r\n    const afterAddRowCB = errMsg => {\r\n      if (typeof errMsg !== 'undefined' && errMsg !== '') return afterHandleAddRow(errMsg);\r\n      if (this.allowRemote(Const.REMOTE_INSERT_ROW)) {\r\n        if (this.props.options.afterInsertRow) {\r\n          this.props.options.afterInsertRow(newObj);\r\n        }\r\n        return afterHandleAddRow();\r\n      }\r\n\r\n      try {\r\n        this.store.add(newObj);\r\n      } catch (e) {\r\n        return afterHandleAddRow(e.message);\r\n      }\r\n      this._handleAfterAddingRow(newObj, false);\r\n      return afterHandleAddRow();\r\n    };\r\n\r\n    if (onAddRow) {\r\n      const colInfos = this.store.getColInfos();\r\n      const errMsg = onAddRow(newObj, colInfos, afterAddRowCB);\r\n\r\n      if (errMsg !== '' && errMsg !== false) {\r\n        return errMsg;\r\n      } else if (typeof errMsg === 'undefined') {\r\n        return afterAddRowCB();\r\n      } else {\r\n        isAsync = true;\r\n        return !isAsync;\r\n      }\r\n    } else {\r\n      return afterAddRowCB();\r\n    }\r\n  }\r\n\r\n  getSizePerPage() {\r\n    return this.state.sizePerPage;\r\n  }\r\n\r\n  getCurrentPage() {\r\n    return this.state.currPage;\r\n  }\r\n\r\n  //htruong - bo sung fn\r\n  getSelectedRowKeys(){\r\n    return this.state.selectedRowKeys;\r\n  }\r\n\r\n  getTableDataIgnorePaging() {\r\n    return this.store.getCurrentDisplayData();\r\n  }\r\n\r\n  getPageByRowKey = rowKey => {\r\n    const { sizePerPage } = this.state;\r\n    const currentData = this.store.getCurrentDisplayData();\r\n    const keyField = this.store.getKeyField();\r\n    const result = currentData.findIndex((x) => x[ keyField ] === rowKey);\r\n    if (result > -1) {\r\n      return parseInt((result / sizePerPage), 10) + 1;\r\n    } else {\r\n      return result;\r\n    }\r\n  }\r\n\r\n  handleDropRow = rowKeys => {\r\n    const dropRowKeys = rowKeys ? rowKeys : this.store.getSelectedRowKeys();\r\n    // add confirm before the delete action if that option is set.\r\n    if (dropRowKeys && dropRowKeys.length > 0) {\r\n      if (this.props.options.handleConfirmDeleteRow) {\r\n        this.props.options.handleConfirmDeleteRow(() => {\r\n          this.deleteRow(dropRowKeys);\r\n        }, dropRowKeys);\r\n      } \r\n      // else if (confirm('Are you sure you want to delete?')) {\r\n      //   this.deleteRow(dropRowKeys);\r\n      // }\r\n    }\r\n  }\r\n\r\n  deleteRow(dropRowKeys) {\r\n    const dropRow = this.store.getRowByKey(dropRowKeys);\r\n    const { onDeleteRow, afterDeleteRow, pageStartIndex } = this.props.options;\r\n\r\n    if (onDeleteRow) {\r\n      onDeleteRow(dropRowKeys, dropRow);\r\n    }\r\n\r\n    this.store.setSelectedRowKey([]);  // clear selected row key\r\n\r\n    if (this.allowRemote(Const.REMOTE_DROP_ROW)) {\r\n      if (afterDeleteRow) {\r\n        afterDeleteRow(dropRowKeys, dropRow);\r\n      }\r\n      return;\r\n    }\r\n\r\n    this.store.remove(dropRowKeys);  // remove selected Row\r\n    let result;\r\n    if (this.props.pagination) {\r\n      // debugger;\r\n      const { sizePerPage } = this.state;\r\n      const currLastPage = Math.ceil(this.store.getDataNum() / sizePerPage);\r\n      let { currPage } = this.state;\r\n      if (currPage > currLastPage) currPage = currLastPage;\r\n      // console.log(Util.getNormalizedPage(currPage));\r\n      result = this.store.page(Util.getNormalizedPage(pageStartIndex, currPage), sizePerPage).get();\r\n      this.setState(() => {\r\n        return {\r\n          data: result,\r\n          selectedRowKeys: this.store.getSelectedRowKeys(),\r\n          currPage,\r\n          reset: false\r\n        };\r\n      });\r\n    } else {\r\n      result = this.store.get();\r\n      this.setState(() => {\r\n        return {\r\n          data: result,\r\n          reset: false,\r\n          selectedRowKeys: this.store.getSelectedRowKeys()\r\n        };\r\n      });\r\n    }\r\n    if (afterDeleteRow) {\r\n      afterDeleteRow(dropRowKeys, dropRow);\r\n    }\r\n  }\r\n\r\n  handleFilterData = filterObj => {\r\n    const { autoCollapse: { filter }, options } = this.props;\r\n    const { onFilterChange, pageStartIndex } = options;\r\n    if (onFilterChange) {\r\n      const colInfos = this.store.getColInfos();\r\n      onFilterChange(filterObj, colInfos);\r\n    }\r\n\r\n    this.setState(() => {\r\n      const newState = {\r\n        currPage: Util.getFirstPage(pageStartIndex),\r\n        reset: false\r\n      };\r\n      if (filter) newState.expanding = [];\r\n      return newState;\r\n    });\r\n\r\n    if (this.allowRemote(Const.REMOTE_FILTER)) {\r\n      if (this.props.options.afterColumnFilter) {\r\n        this.props.options.afterColumnFilter(filterObj, this.store.getDataIgnoringPagination());\r\n      }\r\n      return;\r\n    }\r\n\r\n    this.store.filter(filterObj);\r\n\r\n    const sortList = this.store.getSortInfo();\r\n\r\n    if (sortList.length > 0) {\r\n      this.store.sort();\r\n    }\r\n\r\n    let result;\r\n\r\n    if (this.props.pagination) {\r\n      const { sizePerPage } = this.state;\r\n      result = this.store.page(Util.getNormalizedPage(pageStartIndex), sizePerPage).get();\r\n    } else {\r\n      result = this.store.get();\r\n    }\r\n    if (this.props.options.afterColumnFilter) {\r\n      this.props.options.afterColumnFilter(filterObj,\r\n        this.store.getDataIgnoringPagination());\r\n    }\r\n    this.setState(() => {\r\n      return {\r\n        data: result,\r\n        reset: false\r\n      };\r\n    });\r\n  }\r\n\r\n  handleExportCSV = () => {\r\n    let result = {};\r\n\r\n    let { csvFileName } = this.props;\r\n    const { onExportToCSV, exportCSVSeparator, noAutoBOM, excludeCSVHeader } = this.props.options;\r\n    if (onExportToCSV) {\r\n      result = onExportToCSV();\r\n    } else {\r\n      result = this.store.getDataIgnoringPagination();\r\n    }\r\n    const separator = exportCSVSeparator || Const.DEFAULT_CSV_SEPARATOR;\r\n    const keys = [];\r\n    this.props.children.filter(_ => _ != null).map(function(column) {\r\n      if (column.props.export === true ||\r\n        (typeof column.props.export === 'undefined' &&\r\n        column.props.hidden === false)) {\r\n        keys.push({\r\n          field: column.props.dataField,\r\n          type: column.props.csvFieldType,\r\n          format: column.props.csvFormat,\r\n          extraData: column.props.csvFormatExtraData,\r\n          header: column.props.csvHeader || column.props.dataField,\r\n          row: Number(column.props.row) || 0,\r\n          rowSpan: Number(column.props.rowSpan) || 1,\r\n          colSpan: Number(column.props.colSpan) || 1\r\n        });\r\n      }\r\n    });\r\n\r\n    if (Util.isFunction(csvFileName)) {\r\n      csvFileName = csvFileName();\r\n    }\r\n\r\n    exportCSVUtil(result, keys, csvFileName, separator, noAutoBOM, excludeCSVHeader);\r\n  }\r\n\r\n  handleSearch = searchText => {\r\n    // Set search field if this function being called outside\r\n    // but it's not necessary if calling fron inside.\r\n    if (this.toolbar) {\r\n      this.toolbar.setSearchInput(searchText);\r\n    }\r\n    const { autoCollapse: { search } } = this.props;\r\n    const { onSearchChange, pageStartIndex } = this.props.options;\r\n    if (onSearchChange) {\r\n      const colInfos = this.store.getColInfos();\r\n      onSearchChange(searchText, colInfos, this.props.multiColumnSearch);\r\n    }\r\n\r\n    this.setState(() => {\r\n      const newState = {\r\n        currPage: Util.getFirstPage(pageStartIndex),\r\n        reset: false\r\n      };\r\n      if (search) newState.expanding = [];\r\n      return newState;\r\n    });\r\n\r\n    if (this.allowRemote(Const.REMOTE_SEARCH)) {\r\n      if (this.props.options.afterSearch) {\r\n        this.props.options.afterSearch(searchText, this.store.getDataIgnoringPagination());\r\n      }\r\n      return;\r\n    }\r\n\r\n\r\n    this.store.search(searchText);\r\n\r\n    const sortList = this.store.getSortInfo();\r\n\r\n    if (sortList.length > 0) {\r\n      this.store.sort();\r\n    }\r\n\r\n    let result;\r\n    if (this.props.pagination) {\r\n      const { sizePerPage } = this.state;\r\n      result = this.store.page(Util.getNormalizedPage(pageStartIndex), sizePerPage).get();\r\n    } else {\r\n      result = this.store.get();\r\n    }\r\n    if (this.props.options.afterSearch) {\r\n      this.props.options.afterSearch(searchText,\r\n        this.store.getDataIgnoringPagination());\r\n    }\r\n    this.setState(() => {\r\n      return {\r\n        data: result,\r\n        reset: false\r\n      };\r\n    });\r\n  }\r\n\r\n  renderPagination() {\r\n    if (this.props.pagination) {\r\n      let dataSize;\r\n      if (this.allowRemote(Const.REMOTE_PAGE)) {\r\n        dataSize = this.props.fetchInfo.dataTotalSize;\r\n      } else {\r\n        dataSize = this.store.getDataNum();\r\n      }\r\n      const { options } = this.props;\r\n      const withFirstAndLast = options.withFirstAndLast === undefined ? true : options.withFirstAndLast;\r\n      if (Math.ceil(dataSize / this.state.sizePerPage) <= 1 &&\r\n        this.props.ignoreSinglePage) return null;\r\n      return (\r\n        <div className='react-bs-table-pagination'>\r\n          <PaginationList\r\n            ref={ node => this.pagination = node }\r\n            version={ this.props.version }\r\n            withFirstAndLast={ withFirstAndLast }\r\n            alwaysShowAllBtns={ options.alwaysShowAllBtns }\r\n            currPage={ this.state.currPage }\r\n            changePage={ this.handlePaginationData }\r\n            sizePerPage={ this.state.sizePerPage }\r\n            sizePerPageList={ options.sizePerPageList || Const.SIZE_PER_PAGE_LIST }\r\n            pageStartIndex={ options.pageStartIndex }\r\n            paginationShowsTotal={ options.paginationShowsTotal }\r\n            paginationSize={ options.paginationSize || Const.PAGINATION_SIZE }\r\n            dataSize={ dataSize }\r\n            onSizePerPageList={ options.onSizePerPageList }\r\n            prePage={ options.prePage || Const.PRE_PAGE }\r\n            nextPage={ options.nextPage || Const.NEXT_PAGE }\r\n            firstPage={ options.firstPage || Const.FIRST_PAGE }\r\n            lastPage={ options.lastPage || Const.LAST_PAGE }\r\n            prePageTitle={ options.prePageTitle || Const.PRE_PAGE_TITLE }\r\n            nextPageTitle={ options.nextPageTitle || Const.NEXT_PAGE_TITLE }\r\n            firstPageTitle={ options.firstPageTitle || Const.FIRST_PAGE_TITLE }\r\n            lastPageTitle={ options.lastPageTitle || Const.LAST_PAGE_TITLE }\r\n            hideSizePerPage={ options.hideSizePerPage }\r\n            sizePerPageDropDown={ options.sizePerPageDropDown }\r\n            hidePageListOnlyOnePage={ options.hidePageListOnlyOnePage }\r\n            paginationPanel={ options.paginationPanel }\r\n            keepSizePerPageState={ options.keepSizePerPageState }\r\n            open={ false }/>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderToolBar() {\r\n    const { exportCSV, selectRow, insertRow, deleteRow, search, children, keyField } = this.props;\r\n    const enableShowOnlySelected = selectRow && selectRow.showOnlySelected;\r\n    const print = typeof this.props.options.printToolBar === 'undefined' ?\r\n      true : this.props.options.printToolBar;\r\n    if (enableShowOnlySelected\r\n      || insertRow\r\n      || deleteRow\r\n      || search\r\n      || exportCSV\r\n      || this.props.options.searchPanel\r\n      || this.props.options.btnGroup\r\n      || this.props.options.toolBar) {\r\n      let columns;\r\n      if (Array.isArray(children)) {\r\n        columns = children.filter(_ => _ != null).map((column, r) => {\r\n          if (!column) return;\r\n          const { props } = column;\r\n          const isKey = props.isKey || keyField === props.dataField;\r\n          return {\r\n            isKey,\r\n            name: props.headerText || props.children,\r\n            field: props.dataField,\r\n            hiddenOnInsert: props.hiddenOnInsert,\r\n            keyValidator: props.keyValidator,\r\n            customInsertEditor: props.customInsertEditor,\r\n            // when you want same auto generate value and not allow edit, example ID field\r\n            autoValue: props.autoValue || false,\r\n            // for create editor, no params for column.editable() indicate that editor for new row\r\n            editable: props.editable && (Util.isFunction(props.editable === 'function')) ? props.editable() : props.editable,\r\n            format: props.dataFormat ? function(value) {\r\n              return props.dataFormat(value, null, props.formatExtraData, r).replace(/<.*?>/g, '');\r\n            } : false\r\n          };\r\n        });\r\n      } else {\r\n        columns = [ {\r\n          name: children.props.headerText || children.props.children,\r\n          field: children.props.dataField,\r\n          editable: children.props.editable,\r\n          customInsertEditor: children.props.customInsertEditor,\r\n          hiddenOnInsert: children.props.hiddenOnInsert,\r\n          keyValidator: children.props.keyValidator\r\n        } ];\r\n      }\r\n      return (\r\n        <div className={ `react-bs-table-tool-bar ${ print ? '' : 'hidden-print' }` }>\r\n          <ToolBar\r\n            ref={ node => this.toolbar = node }\r\n            version={ this.props.version }\r\n            defaultSearch={ this.props.options.defaultSearch }\r\n            clearSearch={ this.props.options.clearSearch }\r\n            searchPosition={ this.props.options.searchPosition }\r\n            searchDelayTime={ this.props.options.searchDelayTime }\r\n            enableInsert={ insertRow }\r\n            enableDelete={ deleteRow }\r\n            enableSearch={ search }\r\n            enableExportCSV={ exportCSV }\r\n            enableShowOnlySelected={ enableShowOnlySelected }\r\n            columns={ columns }\r\n            searchPlaceholder={ this.props.searchPlaceholder }\r\n            exportCSVText={ this.props.options.exportCSVText }\r\n            insertText={ this.props.options.insertText }\r\n            deleteText={ this.props.options.deleteText }\r\n            saveText= { this.props.options.saveText }\r\n            closeText= { this.props.options.closeText }\r\n            ignoreEditable={ this.props.options.ignoreEditable }\r\n            onAddRow={ this.handleAddRow }\r\n            onDropRow={ this.handleDropRow }\r\n            onSearch={ this.handleSearch }\r\n            onExportCSV={ this.handleExportCSV }\r\n            onShowOnlySelected={ this.handleShowOnlySelected }\r\n            insertModalHeader={ this.props.options.insertModalHeader }\r\n            insertModalFooter={ this.props.options.insertModalFooter }\r\n            insertModalBody={ this.props.options.insertModalBody }\r\n            insertModal={ this.props.options.insertModal }\r\n            insertBtn={ this.props.options.insertBtn }\r\n            deleteBtn={ this.props.options.deleteBtn }\r\n            showSelectedOnlyBtn={ this.props.options.showSelectedOnlyBtn }\r\n            exportCSVBtn={ this.props.options.exportCSVBtn }\r\n            clearSearchBtn={ this.props.options.clearSearchBtn }\r\n            searchField={ this.props.options.searchField }\r\n            searchPanel={ this.props.options.searchPanel }\r\n            btnGroup={ this.props.options.btnGroup }\r\n            toolBar={ this.props.options.toolBar }\r\n            reset={ this.state.reset }\r\n            isValidKey={ this.store.isValidKey }\r\n            insertFailIndicator={ this.props.options.insertFailIndicator || Const.INSERT_FAIL_INDICATOR } />\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  renderTableFilter(columns) {\r\n    if (this.props.columnFilter) {\r\n      return (\r\n        <TableFilter columns={ columns }\r\n                     rowSelectType={ this.props.selectRow.mode }\r\n                     onFilter={ this.handleFilterData }/>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  renderTableFooter(footerData, footerFormatterReturnData, columns, colGroups) {\r\n    if (this.props.footer) {\r\n      let hideSelectColumn = true;\r\n      const { mode } = this.props.selectRow;\r\n      const isSelectRowDefined = Util.isSelectRowDefined(mode);\r\n      if (isSelectRowDefined) {\r\n        hideSelectColumn = this.props.selectRow.hideSelectColumn;\r\n      }\r\n      return (\r\n        <TableFooter\r\n          ref={ node => this.footer = node }\r\n          columns={ columns }\r\n          colGroups={ colGroups }\r\n          footerFormatterReturnData={ footerFormatterReturnData }\r\n          tableFooterClass={ this.props.tableFooterClass }\r\n          style={ this.props.headerStyle }\r\n          hideSelectColumn={ hideSelectColumn }\r\n          expandColumnVisible={ this.props.expandColumnOptions.expandColumnVisible }\r\n          bordered={ this.props.bordered }\r\n          condensed={ this.props.condensed }\r\n          isFiltered={ this.filter ? true : false }\r\n          showStickyColumn={ this.props.showStickyColumn }>\r\n          { footerData }\r\n        </TableFooter>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  _scrollTop = () => {\r\n    const { scrollTop } = this.props;\r\n    if (scrollTop === Const.SCROLL_TOP) {\r\n      this.body.container.scrollTop = 0;\r\n    } else if (scrollTop === Const.SCROLL_BOTTOM) {\r\n      this.body.container.scrollTop = this.body.container.scrollHeight;\r\n    } else if (typeof scrollTop === 'number' && !isNaN(scrollTop)) {\r\n      this.body.container.scrollTop = scrollTop;\r\n    }\r\n  }\r\n  _scrollHeader = (e) => {\r\n    this.header.container.scrollLeft = e.currentTarget.scrollLeft;\r\n  }\r\n\r\n  _scrollFooter = (e) => {\r\n    if (this.props.footer) {\r\n      this.footer.container.scrollLeft = e.currentTarget.scrollLeft;\r\n    }\r\n  }\r\n\r\n  _adjustTable() {\r\n    this._adjustHeight();\r\n    if (!this.props.printable) {\r\n      this._adjustHeaderWidth();\r\n    }\r\n  }\r\n\r\n  _adjustHeaderWidth() {\r\n    //fix when customRender\r\n    if(this.header==null || this.body==null){\r\n      return;\r\n    }\r\n    const header = this.header.getHeaderColGrouop();\r\n    const tbody = this.body.tbody;\r\n    const bodyHeader = this.body.getHeaderColGrouop();\r\n    const firstRow = tbody.childNodes[0];\r\n    const isScroll = tbody.parentNode.getBoundingClientRect().height >\r\n      tbody.parentNode.parentNode.getBoundingClientRect().height;\r\n\r\n    const scrollBarWidth = isScroll ? Util.getScrollBarWidth() : 0;\r\n    if (firstRow && this.store.getDataNum()) {\r\n      if (isScroll || this.isVerticalScroll !== isScroll) {\r\n        const cells = firstRow.childNodes;\r\n        for (let i = 0; i < cells.length; i++) {\r\n          const cell = cells[i];\r\n          const computedStyle = window.getComputedStyle(cell);\r\n          let width = parseFloat(computedStyle.width.replace('px', ''));\r\n          if (this.isIE) {\r\n            const paddingLeftWidth = parseFloat(computedStyle.paddingLeft.replace('px', ''));\r\n            const paddingRightWidth = parseFloat(computedStyle.paddingRight.replace('px', ''));\r\n            const borderRightWidth = parseFloat(computedStyle.borderRightWidth.replace('px', ''));\r\n            const borderLeftWidth = parseFloat(computedStyle.borderLeftWidth.replace('px', ''));\r\n            width = width + paddingLeftWidth + paddingRightWidth + borderRightWidth + borderLeftWidth;\r\n          }\r\n          const lastPadding = (cells.length - 1 === i ? scrollBarWidth : 0);\r\n          if (width <= 0) {\r\n            width = 120;\r\n            cell.width = width + lastPadding + 'px';\r\n          }\r\n          const result = width + lastPadding + 'px';\r\n          header[i].style.width = result;\r\n          header[i].style.minWidth = result;\r\n          if (cells.length - 1 === i) {\r\n            bodyHeader[i].style.width = width + 'px';\r\n            bodyHeader[i].style.minWidth = width + 'px';\r\n          } else {\r\n            bodyHeader[i].style.width = result;\r\n            bodyHeader[i].style.minWidth = result;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      for (const i in bodyHeader) {\r\n        if (bodyHeader.hasOwnProperty(i)) {\r\n          const child = bodyHeader[i];\r\n          if (child.style) {\r\n            if (child.style.width) {\r\n              header[i].style.width = child.style.width;\r\n            }\r\n            if (child.style.minWidth) {\r\n              header[i].style.minWidth = child.style.minWidth;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.isVerticalScroll = isScroll;\r\n  }\r\n\r\n  _adjustHeight() {\r\n    const { height } = this.props;\r\n    let { maxHeight } = this.props;\r\n    if ((typeof height === 'number' && !isNaN(height)) || height.indexOf('%') === -1) {\r\n      this.body.container.style.height =\r\n        parseFloat(height, 10) - this.header.container.offsetHeight + 'px';\r\n    }\r\n    if (maxHeight) {\r\n      maxHeight = typeof maxHeight === 'number' ?\r\n        maxHeight :\r\n        parseInt(maxHeight.replace('px', ''), 10);\r\n\r\n      this.body.container.style.maxHeight =\r\n        maxHeight - this.header.container.offsetHeight + 'px';\r\n    }\r\n  }\r\n\r\n  _handleAfterAddingRow(newObj, atTheBeginning) {\r\n    let result;\r\n    if (this.props.pagination) {\r\n      // if pagination is enabled and inserting row at the end,\r\n      // change page to the last page\r\n      // otherwise, change it to the first page\r\n      const { sizePerPage } = this.state;\r\n\r\n      if (atTheBeginning) {\r\n        const { pageStartIndex } = this.props.options;\r\n        result = this.store.page(Util.getNormalizedPage(pageStartIndex), sizePerPage).get();\r\n        this.setState(() => {\r\n          return {\r\n            data: result,\r\n            currPage: Util.getFirstPage(pageStartIndex),\r\n            reset: false\r\n          };\r\n        });\r\n      } else {\r\n        const currLastPage = Math.ceil(this.store.getDataNum() / sizePerPage);\r\n        result = this.store.page(currLastPage, sizePerPage).get();\r\n        this.setState(() => {\r\n          return {\r\n            data: result,\r\n            currPage: currLastPage,\r\n            reset: false\r\n          };\r\n        });\r\n      }\r\n    } else {\r\n      result = this.store.get();\r\n      this.setState(() => {\r\n        return {\r\n          data: result,\r\n          reset: false\r\n        };\r\n      });\r\n    }\r\n\r\n    if (this.props.options.afterInsertRow) {\r\n      this.props.options.afterInsertRow(newObj);\r\n    }\r\n  }\r\n}\r\n\r\nBootstrapTable.propTypes = {\r\n  keyField: PropTypes.string,\r\n  height: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\r\n  maxHeight: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\r\n  data: PropTypes.oneOfType([ PropTypes.array, PropTypes.object ]),\r\n  version: PropTypes.string,  // bootstrap version\r\n  remote: PropTypes.oneOfType([ PropTypes.bool, PropTypes.func ]), // remote data, default is false\r\n  replace: PropTypes.oneOfType([ PropTypes.bool, PropTypes.func ]),\r\n  scrollTop: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\r\n  striped: PropTypes.bool,\r\n  bordered: PropTypes.bool,\r\n  hover: PropTypes.bool,\r\n  condensed: PropTypes.bool,\r\n  pagination: PropTypes.bool,\r\n  printable: PropTypes.bool,\r\n  withoutTabIndex: PropTypes.bool,\r\n  keyBoardNav: PropTypes.oneOfType([ PropTypes.bool, PropTypes.object ]),\r\n  searchPlaceholder: PropTypes.string,\r\n  selectRow: PropTypes.shape({\r\n    mode: PropTypes.oneOf([\r\n      Const.ROW_SELECT_NONE,\r\n      Const.ROW_SELECT_SINGLE,\r\n      Const.ROW_SELECT_MULTI\r\n    ]),\r\n    customComponent: PropTypes.func,\r\n    bgColor: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\r\n    selected: PropTypes.array,\r\n    onSelect: PropTypes.func,\r\n    onSelectAll: PropTypes.func,\r\n    clickToSelect: PropTypes.bool,\r\n    hideSelectColumn: PropTypes.bool,\r\n    clickToSelectAndEditCell: PropTypes.bool,\r\n    clickToExpand: PropTypes.bool,\r\n    showOnlySelected: PropTypes.bool,\r\n    unselectable: PropTypes.array,\r\n    columnWidth: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\r\n    onlyUnselectVisible: PropTypes.bool\r\n  }),\r\n  cellEdit: PropTypes.shape({\r\n    mode: PropTypes.string,\r\n    blurToSave: PropTypes.bool,\r\n    blurToEscape: PropTypes.bool,\r\n    beforeSaveCell: PropTypes.func,\r\n    afterSaveCell: PropTypes.func,\r\n    nonEditableRows: PropTypes.func\r\n  }),\r\n  insertRow: PropTypes.bool,\r\n  deleteRow: PropTypes.bool,\r\n  search: PropTypes.bool,\r\n  multiColumnSearch: PropTypes.bool,\r\n  strictSearch: PropTypes.bool,\r\n  columnFilter: PropTypes.bool,\r\n  trClassName: PropTypes.any,\r\n  trStyle: PropTypes.any,\r\n  tableStyle: PropTypes.object,\r\n  containerStyle: PropTypes.object,\r\n  headerStyle: PropTypes.object,\r\n  bodyStyle: PropTypes.object,\r\n  containerClass: PropTypes.string,\r\n  tableContainerClass: PropTypes.string,\r\n  headerContainerClass: PropTypes.string,\r\n  bodyContainerClass: PropTypes.string,\r\n  tableHeaderClass: PropTypes.string,\r\n  tableBodyClass: PropTypes.string,\r\n  tableFooterClass: PropTypes.string,\r\n  options: PropTypes.shape({\r\n    clearSearch: PropTypes.bool,\r\n    sortName: PropTypes.oneOfType([ PropTypes.string, PropTypes.array ]),\r\n    sortOrder: PropTypes.oneOfType([ PropTypes.string, PropTypes.array ]),\r\n    defaultSortName: PropTypes.oneOfType([ PropTypes.string, PropTypes.array ]),\r\n    defaultSortOrder: PropTypes.oneOfType([ PropTypes.string, PropTypes.array ]),\r\n    sortIndicator: PropTypes.bool,\r\n    afterTableComplete: PropTypes.func,\r\n    afterDeleteRow: PropTypes.func,\r\n    afterInsertRow: PropTypes.func,\r\n    afterSearch: PropTypes.func,\r\n    afterColumnFilter: PropTypes.func,\r\n    onRowClick: PropTypes.func,\r\n    onRowDoubleClick: PropTypes.func,\r\n    page: PropTypes.number,\r\n    pageStartIndex: PropTypes.number,\r\n    paginationShowsTotal: PropTypes.oneOfType([ PropTypes.bool, PropTypes.func ]),\r\n    sizePerPageList: PropTypes.array,\r\n    sizePerPage: PropTypes.number,\r\n    paginationSize: PropTypes.number,\r\n    paginationPosition: PropTypes.oneOf([\r\n      Const.PAGINATION_POS_TOP,\r\n      Const.PAGINATION_POS_BOTTOM,\r\n      Const.PAGINATION_POS_BOTH\r\n    ]),\r\n    toolbarPosition: PropTypes.oneOf([\r\n      Const.TOOLBAR_POS_TOP,\r\n      Const.TOOLBAR_POS_BOTTOM,\r\n      Const.TOOLBAR_POS_BOTH\r\n    ]),\r\n    hideSizePerPage: PropTypes.bool,\r\n    hidePageListOnlyOnePage: PropTypes.bool,\r\n    alwaysShowAllBtns: PropTypes.bool,\r\n    withFirstAndLast: PropTypes.bool,\r\n    keepSizePerPageState: PropTypes.bool,\r\n    onSortChange: PropTypes.func,\r\n    onPageChange: PropTypes.func,\r\n    onSizePerPageList: PropTypes.func,\r\n    onFilterChange: PropTypes.func,\r\n    onSearchChange: PropTypes.func,\r\n    onAddRow: PropTypes.func,\r\n    onExportToCSV: PropTypes.func,\r\n    onCellEdit: PropTypes.func,\r\n    noDataText: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]),\r\n    withoutNoDataText: PropTypes.bool,\r\n    handleConfirmDeleteRow: PropTypes.func,\r\n    prePage: PropTypes.any,\r\n    nextPage: PropTypes.any,\r\n    firstPage: PropTypes.any,\r\n    lastPage: PropTypes.any,\r\n    prePageTitle: PropTypes.string,\r\n    nextPageTitle: PropTypes.string,\r\n    firstPageTitle: PropTypes.string,\r\n    lastPageTitle: PropTypes.string,\r\n    searchDelayTime: PropTypes.number,\r\n    excludeCSVHeader: PropTypes.bool,\r\n    exportCSVText: PropTypes.string,\r\n    exportCSVSeparator: PropTypes.string,\r\n    insertText: PropTypes.string,\r\n    deleteText: PropTypes.string,\r\n    saveText: PropTypes.string,\r\n    closeText: PropTypes.string,\r\n    ignoreEditable: PropTypes.bool,\r\n    defaultSearch: PropTypes.string,\r\n    insertModalHeader: PropTypes.func,\r\n    insertModalBody: PropTypes.func,\r\n    insertModalFooter: PropTypes.func,\r\n    insertModal: PropTypes.func,\r\n    insertBtn: PropTypes.func,\r\n    deleteBtn: PropTypes.func,\r\n    showSelectedOnlyBtn: PropTypes.func,\r\n    exportCSVBtn: PropTypes.func,\r\n    clearSearchBtn: PropTypes.func,\r\n    searchField: PropTypes.func,\r\n    searchPanel: PropTypes.func,\r\n    btnGroup: PropTypes.func,\r\n    toolBar: PropTypes.func,\r\n    sizePerPageDropDown: PropTypes.func,\r\n    paginationPanel: PropTypes.func,\r\n    searchPosition: PropTypes.string,\r\n    expandRowBgColor: PropTypes.string,\r\n    expandBy: PropTypes.string,\r\n    expanding: PropTypes.array,\r\n    onExpand: PropTypes.func,\r\n    onlyOneExpanding: PropTypes.bool,\r\n    expandBodyClass: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\r\n    expandParentClass: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\r\n    beforeShowError: PropTypes.func,\r\n    printToolBar: PropTypes.bool,\r\n    insertFailIndicator: PropTypes.string,\r\n    noAutoBOM: PropTypes.bool,\r\n    expandAll: PropTypes.bool,\r\n    hideRowOnExpand: PropTypes.bool\r\n  }),\r\n  fetchInfo: PropTypes.shape({\r\n    dataTotalSize: PropTypes.number\r\n  }),\r\n  renderAlert: PropTypes.bool,\r\n  exportCSV: PropTypes.bool,\r\n  csvFileName: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\r\n  ignoreSinglePage: PropTypes.bool,\r\n  expandableRow: PropTypes.func,\r\n  expandComponent: PropTypes.func,\r\n  autoCollapse: PropTypes.shape({\r\n    sort: PropTypes.bool,\r\n    filter: PropTypes.bool,\r\n    search: PropTypes.bool\r\n  }),\r\n  expandColumnOptions: PropTypes.shape({\r\n    columnWidth: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\r\n    expandColumnVisible: PropTypes.bool,\r\n    expandColumnComponent: PropTypes.func,\r\n    expandedColumnHeaderComponent: PropTypes.func,\r\n    expandColumnBeforeSelectColumn: PropTypes.bool\r\n  }),\r\n  footer: PropTypes.bool\r\n};\r\nBootstrapTable.defaultProps = {\r\n  version: '3',\r\n  replace: false,\r\n  scrollTop: undefined,\r\n  expandComponent: undefined,\r\n  expandableRow: undefined,\r\n  expandColumnOptions: {\r\n    expandColumnVisible: false,\r\n    expandColumnComponent: undefined,\r\n    expandedColumnHeaderComponent: undefined,\r\n    expandColumnBeforeSelectColumn: true\r\n  },\r\n  height: '100%',\r\n  maxHeight: undefined,\r\n  striped: false,\r\n  bordered: true,\r\n  hover: false,\r\n  condensed: false,\r\n  pagination: false,\r\n  printable: false,\r\n  withoutTabIndex: false,\r\n  keyBoardNav: false,\r\n  searchPlaceholder: undefined,\r\n  selectRow: {\r\n    mode: Const.ROW_SELECT_NONE,\r\n    bgColor: Const.ROW_SELECT_BG_COLOR,\r\n    selected: [],\r\n    onSelect: undefined,\r\n    onSelectAll: undefined,\r\n    clickToSelect: false,\r\n    hideSelectColumn: false,\r\n    clickToSelectAndEditCell: false,\r\n    clickToExpand: false,\r\n    showOnlySelected: false,\r\n    unselectable: [],\r\n    customComponent: undefined,\r\n    onlyUnselectVisible: false\r\n  },\r\n  cellEdit: {\r\n    mode: Const.CELL_EDIT_NONE,\r\n    blurToSave: false,\r\n    blurToEscape: false,\r\n    beforeSaveCell: undefined,\r\n    afterSaveCell: undefined,\r\n    nonEditableRows: undefined\r\n  },\r\n  insertRow: false,\r\n  deleteRow: false,\r\n  search: false,\r\n  multiColumnSearch: false,\r\n  strictSearch: undefined,\r\n  multiColumnSort: 1,\r\n  columnFilter: false,\r\n  trClassName: '',\r\n  trStyle: undefined,\r\n  tableStyle: undefined,\r\n  containerStyle: undefined,\r\n  headerStyle: undefined,\r\n  bodyStyle: undefined,\r\n  containerClass: null,\r\n  tableContainerClass: null,\r\n  headerContainerClass: null,\r\n  bodyContainerClass: null,\r\n  tableHeaderClass: null,\r\n  tableBodyClass: null,\r\n  tableFooterClass: null,\r\n  options: {\r\n    clearSearch: false,\r\n    sortName: undefined,\r\n    sortOrder: undefined,\r\n    defaultSortName: undefined,\r\n    defaultSortOrder: undefined,\r\n    sortIndicator: true,\r\n    afterTableComplete: undefined,\r\n    afterDeleteRow: undefined,\r\n    afterInsertRow: undefined,\r\n    afterSearch: undefined,\r\n    afterColumnFilter: undefined,\r\n    onRowClick: undefined,\r\n    onRowDoubleClick: undefined,\r\n    onMouseLeave: undefined,\r\n    onMouseEnter: undefined,\r\n    onRowMouseOut: undefined,\r\n    onRowMouseOver: undefined,\r\n    page: undefined,\r\n    paginationShowsTotal: false,\r\n    sizePerPageList: Const.SIZE_PER_PAGE_LIST,\r\n    sizePerPage: undefined,\r\n    paginationSize: Const.PAGINATION_SIZE,\r\n    paginationPosition: Const.PAGINATION_POS_BOTTOM,\r\n    toolbarPosition: Const.TOOLBAR_POS_TOP,\r\n    hideSizePerPage: false,\r\n    hidePageListOnlyOnePage: false,\r\n    alwaysShowAllBtns: false,\r\n    withFirstAndLast: true,\r\n    keepSizePerPageState: false,\r\n    onSizePerPageList: undefined,\r\n    noDataText: undefined,\r\n    withoutNoDataText: false,\r\n    handleConfirmDeleteRow: undefined,\r\n    prePage: Const.PRE_PAGE,\r\n    nextPage: Const.NEXT_PAGE,\r\n    firstPage: Const.FIRST_PAGE,\r\n    lastPage: Const.LAST_PAGE,\r\n    prePageTitle: Const.PRE_PAGE_TITLE,\r\n    nextPageTitle: Const.NEXT_PAGE_TITLE,\r\n    firstPageTitle: Const.FIRST_PAGE_TITLE,\r\n    lastPageTitle: Const.LAST_PAGE_TITLE,\r\n    pageStartIndex: 1,\r\n    searchDelayTime: undefined,\r\n    excludeCSVHeader: false,\r\n    exportCSVText: Const.EXPORT_CSV_TEXT,\r\n    exportCSVSeparator: Const.DEFAULT_CSV_SEPARATOR,\r\n    insertText: Const.INSERT_BTN_TEXT,\r\n    deleteText: Const.DELETE_BTN_TEXT,\r\n    saveText: Const.SAVE_BTN_TEXT,\r\n    closeText: Const.CLOSE_BTN_TEXT,\r\n    ignoreEditable: false,\r\n    defaultSearch: '',\r\n    insertModalHeader: undefined,\r\n    insertModalBody: undefined,\r\n    insertModalFooter: undefined,\r\n    insertModal: undefined,\r\n    insertBtn: undefined,\r\n    deleteBtn: undefined,\r\n    showSelectedOnlyBtn: undefined,\r\n    exportCSVBtn: undefined,\r\n    clearSearchBtn: undefined,\r\n    searchField: undefined,\r\n    searchPanel: undefined,\r\n    btnGroup: undefined,\r\n    toolBar: undefined,\r\n    sizePerPageDropDown: undefined,\r\n    paginationPanel: undefined,\r\n    searchPosition: 'right',\r\n    expandRowBgColor: undefined,\r\n    expandBy: Const.EXPAND_BY_ROW,\r\n    expanding: [],\r\n    onExpand: undefined,\r\n    onlyOneExpanding: false,\r\n    expandBodyClass: null,\r\n    expandParentClass: null,\r\n    beforeShowError: undefined,\r\n    printToolBar: true,\r\n    insertFailIndicator: Const.INSERT_FAIL_INDICATOR,\r\n    noAutoBOM: true,\r\n    expandAll: false,\r\n    hideRowOnExpand: false\r\n  },\r\n  fetchInfo: {\r\n    dataTotalSize: 0\r\n  },\r\n  renderAlert: true,\r\n  exportCSV: false,\r\n  csvFileName: 'spreadsheet.csv',\r\n  ignoreSinglePage: false,\r\n  autoCollapse: {\r\n    sort: Const.AUTO_COLLAPSE_WHEN_SORT,\r\n    filter: Const.AUTO_COLLAPSE_WHEN_FILTER,\r\n    search: Const.AUTO_COLLAPSE_WHEN_SEARCH\r\n  },\r\n  footer: false\r\n};\r\n\r\nexport default BootstrapTable;\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ButtonGroup extends Component {\n  render() {\n    const {\n      className,\n      sizeClass,\n      children,\n      ...rest\n    } = this.props;\n    return (\n      <div className={ `btn-group ${sizeClass} ${className}` } role='group' { ...rest }>\n        { children }\n      </div>\n    );\n  }\n}\n\nButtonGroup.propTypes = {\n  sizeClass: PropTypes.string,\n  className: PropTypes.string\n};\nButtonGroup.defaultProps = {\n  sizeClass: 'btn-group-sm',\n  className: ''\n};\n\nexport default ButtonGroup;\n","import BootstrapTable from './BootstrapTable';\nimport TableHeaderColumn from './TableHeaderColumn';\nimport InsertModalHeader from './toolbar/InsertModalHeader';\nimport InsertModalBody from './toolbar/InsertModalBody';\nimport InsertModalFooter from './toolbar/InsertModalFooter';\nimport InsertButton from './toolbar/InsertButton';\nimport DeleteButton from './toolbar/DeleteButton';\nimport ExportCSVButton from './toolbar/ExportCSVButton';\nimport ShowSelectedOnlyButton from './toolbar/ShowSelectedOnlyButton';\nimport ClearSearchButton from './toolbar/ClearSearchButton';\nimport SearchField from './toolbar/SearchField';\nimport ButtonGroup from './toolbar/ButtonGroup';\nimport SizePerPageDropDown from './pagination/SizePerPageDropDown';\n\nif (typeof window !== 'undefined') {\n  window.BootstrapTable = BootstrapTable;\n  window.TableHeaderColumn = TableHeaderColumn;\n  window.InsertModalHeader = InsertModalHeader;\n  window.InsertModalBody = InsertModalBody;\n  window.InsertModalFooter = InsertModalFooter;\n  window.InsertButton = InsertButton;\n  window.DeleteButton = DeleteButton;\n  window.ShowSelectedOnlyButton = ShowSelectedOnlyButton;\n  window.ExportCSVButton = ExportCSVButton;\n  window.ClearSearchButton = ClearSearchButton;\n  window.SearchField = SearchField;\n  window.ButtonGroup = ButtonGroup;\n  window.SizePerPageDropDown = SizePerPageDropDown;\n}\nexport {\n  BootstrapTable,\n  TableHeaderColumn,\n  InsertModalHeader,\n  InsertModalBody,\n  InsertModalFooter,\n  InsertButton,\n  DeleteButton,\n  ShowSelectedOnlyButton,\n  ExportCSVButton,\n  ClearSearchButton,\n  SearchField,\n  ButtonGroup,\n  SizePerPageDropDown\n};\n","/**\r\n *\r\n * 1. Check Screen Config Table.showTotal == true\r\n * 2. Add props table footer = true, footerData = data\r\n *\r\n */\r\n\r\nimport { fnListMyPage } from \"../fnList\"\r\nimport { KConfigApp, KConfigPageTable } from \"../K\"\r\nimport { HCF, HFormat } from \"@macashipo/mlib\"\r\n\r\nexport const FlowGetMorePropsTableToShowFooter = ({ fnList }) => {\r\n  let _more = {}\r\n  if (fnList) {\r\n    let _showTotal = fnListMyPage.fnGetConfigPageTable(fnList, [\r\n      KConfigPageTable.showTotal,\r\n    ])\r\n    let _footerData = FlowGetFooterData({ fnList })\r\n    if (_showTotal === true && _footerData) {\r\n      _more = {\r\n        footer: true,\r\n        footerData: _footerData,\r\n      }\r\n    }\r\n  }\r\n  return _more\r\n}\r\n\r\nexport const FlowGetFooterData = ({ fnList } = {}) => {\r\n  let _cols = fnListMyPage.fnGetTableCols(fnList)\r\n  // console.warn(\"FlowGetFooterData cols:\", _cols)\r\n  if (_cols && _cols.length > 0) {\r\n    let _configTotal =\r\n      fnListMyPage.fnGetConfigPageTable(fnList, [\r\n        KConfigPageTable.configTotal,\r\n      ]) || {}\r\n    let _defaultAlign = \"right\"\r\n    let _defaultFormatNumber = HCF.getCF(KConfigApp.numeralFormat)\r\n    let _configColTotal = {}\r\n    let _prefix = null\r\n    let _suffix = null\r\n\r\n    if (_configTotal.defaultAlign) {\r\n      _defaultAlign = _configTotal.defaultAlign\r\n    }\r\n    if (_configTotal.defaultFormatNumber) {\r\n      _defaultFormatNumber = _configTotal.defaultFormatNumber\r\n    }\r\n    if (_configTotal.configColTotal) {\r\n      _configColTotal = _configTotal.configColTotal\r\n    }\r\n    if (_configTotal.prefix != null) {\r\n      _prefix = _configTotal.prefix\r\n    }\r\n    if (_configTotal.suffix != null) {\r\n      _suffix = _configTotal.suffix\r\n    }\r\n    let _styleAllCol = {}\r\n    if (_configTotal.styleAllCol) {\r\n      _styleAllCol = _configTotal.styleAllCol\r\n    }\r\n\r\n    let _data = []\r\n    let _dataTotal = fnListMyPage.fnGetDataTotal(fnList, [])\r\n    if (_dataTotal && _dataTotal.length > 0) {\r\n      for (let i in _dataTotal) {\r\n        let _item = _dataTotal[i]\r\n        let _dataItem = []\r\n        let _keyOfItem = Object.keys(_item)\r\n        for (let ki = 0; ki < _keyOfItem.length; ki++) {\r\n          let _keyKI = _keyOfItem[ki]\r\n          let _index = 0\r\n\r\n          for (let kc = 0; kc < _cols.length; kc++) {\r\n            let _keyKC = _cols[kc].dataField\r\n            if (_keyKI == _keyKC) {\r\n              _index = kc\r\n              break\r\n            }\r\n          }\r\n          let _colConfig = _configColTotal[_keyKI] || {}\r\n          let _styleOfCol = _colConfig.style || {}\r\n          let _colPrefix = _prefix\r\n          let _colSuffix = _suffix\r\n          if (_colConfig.prefix != null) {\r\n            _colPrefix = _colConfig.prefix\r\n          }\r\n          if (_colConfig.suffix != null) {\r\n            _colSuffix = _colConfig.suffix\r\n          }\r\n          _dataItem.push({\r\n            label: _item[_keyKI],\r\n            columnIndex: _index,\r\n            align: _colConfig.align != null ? _colConfig.align : _defaultAlign,\r\n            formatter: tableData => {\r\n              let _value = _item[_keyKI]\r\n              if (_colConfig.fShow) {\r\n                _value = _item[_colConfig.fShow]\r\n              }\r\n              if (typeof _item[_keyKI] == \"number\") {\r\n                let _format = _colConfig.format || _defaultFormatNumber\r\n                if (typeof _format == \"string\") {\r\n                  _value = HFormat.format(_value, {\r\n                    type: \"numeral\",\r\n                    format: _format,\r\n                  })\r\n                } else if (_format && _format.type) {\r\n                  _value = HFormat.format(_value, {\r\n                    ..._format,\r\n                  })\r\n                }\r\n              }\r\n              if (\r\n                (typeof _value === \"string\" || typeof _value === \"number\") &&\r\n                _colConfig.isHide !== true\r\n              ) {\r\n                return (\r\n                  <div\r\n                    title={_value}\r\n                    style={{ ..._styleAllCol, ..._styleOfCol }}\r\n                  >\r\n                    {_colPrefix != null && _colPrefix}\r\n                    {_value}\r\n                    {_colSuffix != null && _colSuffix}\r\n                  </div>\r\n                )\r\n              }\r\n              return (\r\n                <div style={{ ..._styleAllCol, ..._styleOfCol }}>&nbsp;</div>\r\n              )\r\n            },\r\n          })\r\n        }\r\n        _data.push(_dataItem)\r\n      }\r\n    }\r\n    return _data\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport { HUtils, MyUI, MyLoading } from \"@macashipo/mlib\"\r\nimport { TableHeaderColumn, BootstrapTable } from \"src/libs/ReactBootstrapTable\"\r\nimport {\r\n  fnListMyPage,\r\n  KConfigPageTable,\r\n  kfnGetComponentTable,\r\n  kfnGetDataTableFilterd,\r\n} from \"src/helpers/fnList\"\r\nimport MUIATTableDetails from \"./admintable_table_details\"\r\nimport classnames from \"classnames\"\r\nimport styled from \"styled-components\"\r\nimport { FlowGetClassNameTable } from \"src/helpers/Flow\"\r\nimport i18next from \"i18next\"\r\nimport K from \"src/helpers/K\"\r\nimport { FlowGetMorePropsTableToShowFooter } from \"src/helpers/Flows/TableFooter\"\r\nimport {\r\n  FlowGetConfigInLocalStorageOfPage,\r\n  FlowUpdateConfigInLocalStorageOfPageWithKey,\r\n} from \"src/helpers/Flows/Page\"\r\nconst WrapContainer = styled.div`\r\n  &.a-view-grid {\r\n    background-color: transparent;\r\n    box-shadow: none;\r\n    & > .card-body {\r\n      padding: 0px;\r\n      // overflow hidden do paging overflow xuat hien scroll\r\n      overflow: inherit !important;\r\n    }\r\n  }\r\n  ${({ fixHeightTable }) =>\r\n    fixHeightTable &&\r\n    `\r\n  & > div > div > .react-bs-table {\r\n    overflow: auto;\r\n    max-height: 200px;\r\n    & > .react-bs-container-header {\r\n      position: sticky;\r\n      top: 0;\r\n      z-index: 1;\r\n    }\r\n  }\r\n  `}\r\n`\r\nclass MUIATTable extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      fixHeightTable: null,\r\n    }\r\n  }\r\n  getClassName = (_configPageTable = {}) => {\r\n    const { cfp } = this.props\r\n    return classnames(\r\n      _configPageTable[KConfigPageTable.classNameTable],\r\n      {\r\n        \"table-has-expand\": this.getHasExpand(),\r\n      },\r\n      FlowGetClassNameTable(cfp.fnList)\r\n    )\r\n  }\r\n  getHasExpand = () => {\r\n    const { cfp } = this.props\r\n    let _hasExpand = fnListMyPage.fnGetConfigPageTable(cfp.fnList, [\r\n      KConfigPageTable.hasExpand,\r\n    ])\r\n    // console.warn(\"getHasExpand:\", _hasExpand)\r\n    return _hasExpand === true\r\n  }\r\n  getHasPagingRemote = () => {\r\n    const { cfp } = this.props\r\n    let _hasPagingRemote = fnListMyPage.fnGetConfigPageTable(cfp.fnList, [\r\n      KConfigPageTable.hasPagingRemote,\r\n    ])\r\n    // console.warn(\"getHasPagingRemote:\", _hasPagingRemote)\r\n    return _hasPagingRemote === true\r\n  }\r\n  getConfigSelectRow = () => {\r\n    const { cfp } = this.props\r\n    let _configPageTable = fnListMyPage.fnGetConfigPageTable(cfp.fnList, [])\r\n    if (_configPageTable && _configPageTable.configSelectRow) {\r\n      return {\r\n        mode: \"checkbox\",\r\n        // columnWidth: '60px',\r\n        // customComponent: (props)=>{},\r\n        // hideSelectColumn: true,\r\n        // bgColor: 'pink',\r\n        // selected: [ 0, 2, 4 ] ,\r\n        // unselectable: [ 1, 3 ] ,\r\n        // clickToSelect: true ,\r\n        ..._configPageTable.configSelectRow,\r\n      }\r\n    }\r\n    return null\r\n  }\r\n  getOptionsTable = () => {\r\n    const { cfp } = this.props\r\n    const data = this.getData()\r\n    let _configPageTable = fnListMyPage.fnGetConfigPageTable(cfp.fnList, [])\r\n    let _optionsTable = {\r\n      sortIndicator: true,\r\n      hideSizePerPage: false,\r\n      withFirstAndLast: true,\r\n      paginationShowsTotal: true,\r\n      hidePageListOnlyOnePage: true,\r\n      onPageChange: (page, sizePerPage) => {\r\n        console.log(\"onPageChange\", page, sizePerPage)\r\n        cfp.onePage._configPagination._pageSize = sizePerPage\r\n        cfp.onePage._configPagination.go(page) //will call onePage._configPagination.afterChange\r\n        FlowUpdateConfigInLocalStorageOfPageWithKey(\r\n          cfp.configPageExt,\r\n          \"sizePerPage\",\r\n          sizePerPage\r\n        )\r\n        // console.log(\"onPageChange 2\", cfp.onePage._configPagination)\r\n      },\r\n      onSortChange: (sortName, sortOrder) => {\r\n        console.log(\"onSortChange\", sortName, sortOrder)\r\n        cfp.onePage._oneFilters.updateCurrentSort(sortName, sortOrder) //will call onePage._oneFilters.afterChangeSort\r\n      },\r\n      ..._configPageTable.optionsTable,\r\n      page: cfp.onePage._configPagination._pageCurrent, //page va pageSize lay tu onePage, da dc update tu configPageTable\r\n      sizePerPage: cfp.onePage._configPagination._pageSize,\r\n    }\r\n    if (this.getHasExpand()) {\r\n      _optionsTable = {\r\n        ..._optionsTable,\r\n        ...{\r\n          expandAllChilds: true,\r\n          expandRowBgColor: \"white\",\r\n          expandBy: \"column\",\r\n          expandBodyClass: \"react-bs-container-row-expand\", //this._getTableConfig(\"expandBodyClass\",'react-bs-container-row-expand'),\r\n          expanding: [], //this.getExpanding(),\r\n        },\r\n      }\r\n      if (data && data.length > 0 && _optionsTable.expanding) {\r\n        for (let i = 0; i < data.length; i++) {\r\n          _optionsTable.expanding.push(data[i].Id)\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(\r\n      \"_optionsTable\",\r\n      _configPageTable,\r\n      _optionsTable,\r\n      cfp.onePage._configPagination,\r\n      _configPageTable.optionsTable\r\n    )\r\n    return _optionsTable\r\n  }\r\n  getData = () => {\r\n    const { cfp } = this.props\r\n    return fnListMyPage.getDataList(cfp.fnList, [])\r\n  }\r\n  updateOffsetTopOfTable = (offsetTopOfTable = 0) => {\r\n    console.log(\"updateOffsetTopOfTable:\", offsetTopOfTable)\r\n    const { cfp } = this.props\r\n    let _configPageTable = fnListMyPage.fnGetConfigPageTable(cfp.fnList, [])\r\n    if (_configPageTable[K.KConfigPageTable.fixHeightScrollTable] != null) {\r\n      let _height =\r\n        document.body.offsetHeight - offsetTopOfTable - 40 - 30 - 100\r\n      this.setState({\r\n        fixHeightTable: _height,\r\n      })\r\n    }\r\n  }\r\n  getShowPagination = () => {\r\n    const { cfp } = this.props\r\n    const { onePage } = cfp\r\n    let _showPagination = true\r\n    if (onePage[\"UI_IsInDetail\"] === true && !this.getHasPagingRemote()) {\r\n      _showPagination = false\r\n    }\r\n    return _showPagination\r\n  }\r\n  getMoreProps = (moreProps = {}) => {\r\n    const { cfp } = this.props\r\n    const { onePage } = cfp\r\n    let _moreProps = moreProps || {}\r\n    let _selectRow = this.getConfigSelectRow()\r\n    if (this.getHasExpand()) {\r\n      _moreProps = {\r\n        ..._moreProps,\r\n        ...{\r\n          expandableRow: () => {\r\n            return true\r\n          },\r\n          expandComponent: this.renderExpand,\r\n        },\r\n      }\r\n    }\r\n    if (this.getHasPagingRemote() && onePage && onePage._configPagination) {\r\n      _moreProps = {\r\n        ..._moreProps,\r\n        ...{\r\n          remote: true,\r\n          fetchInfo: {\r\n            dataTotalSize: onePage._configPagination._totalItems,\r\n          },\r\n        },\r\n      }\r\n    }\r\n    if (_selectRow) {\r\n      _moreProps.selectRow = _selectRow\r\n    }\r\n    //bo sung footer\r\n    let _morePropsForFooter = FlowGetMorePropsTableToShowFooter({\r\n      fnList: cfp.fnList,\r\n    })\r\n    if (_morePropsForFooter && _morePropsForFooter.footer) {\r\n      _moreProps = {\r\n        ..._moreProps,\r\n        ..._morePropsForFooter,\r\n      }\r\n    }\r\n    // console.error(\"moreProps table:\", _moreProps)\r\n    return _moreProps\r\n  }\r\n  renderExpand = row => {\r\n    // console.warn(\"renderExpand row\", row)\r\n    return <MyUI {...this.props} row={row} type=\"admintable_table_details\" />\r\n  }\r\n  renderTableCols = () => {\r\n    const { cfp } = this.props\r\n    // let _cols = HUtils.runFuntion(this.props.cfp, \"getTableCols\", [])\r\n    let _cols = fnListMyPage.fnGetTableCols(cfp.fnList)\r\n    let _configPageTable = fnListMyPage.fnGetConfigPageTable(cfp.fnList, [])\r\n    console.warn(\"renderTableCols\", _cols, _configPageTable)\r\n    let _ui = []\r\n    if (_cols && _cols.length > 0) {\r\n      //truong hop chi co 1 cot la ID, thi cung show no columns to show\r\n      if (_cols.length == 1 && _cols[0].hidden === true) {\r\n        return []\r\n      }\r\n      let _defaultCol = {\r\n        columnClassName: \"\",\r\n        className: \"\",\r\n        canSort:\r\n          _configPageTable.canSort != null ? _configPageTable.canSort : true,\r\n      }\r\n      for (let i = 0; i < _cols.length; i++) {\r\n        let _itemCol = _cols[i]\r\n        let _moreProps = {}\r\n        let _header = _itemCol.header\r\n        if (_itemCol.colProps != null) {\r\n          _moreProps = Object.assign(_moreProps, _itemCol.colProps)\r\n        }\r\n        if (_moreProps.componentHeader != null) {\r\n          _header = _moreProps.componentHeader(\r\n            _itemCol.header,\r\n            _itemCol.dataField\r\n          )\r\n        }\r\n        _ui.push(\r\n          <TableHeaderColumn\r\n            key={i}\r\n            columnClassName={\r\n              _itemCol.columnClassName || _defaultCol.columnClassName\r\n            }\r\n            className={_itemCol.className || _defaultCol.className}\r\n            width={_itemCol.width || \"100px\"}\r\n            isKey={_itemCol.isKey}\r\n            hidden={_itemCol.hidden}\r\n            editable={false}\r\n            dataField={_itemCol.dataField || \"\"}\r\n            dataAlign={_itemCol.dataAlign || \"left\"}\r\n            filter={null}\r\n            // formatExtraData={{ fieldName: dataField }}//dung trong _moreProps\r\n            dataFormat={_itemCol.dataFormat}\r\n            expandable={false}\r\n            dataSort={\r\n              _itemCol.dataSort != null\r\n                ? _itemCol.dataSort\r\n                : _defaultCol.canSort\r\n            }\r\n            {..._moreProps}\r\n          >\r\n            {_header}\r\n          </TableHeaderColumn>\r\n        )\r\n      }\r\n      return _ui\r\n    } else if (_cols && _cols.length == 0) {\r\n      return []\r\n    }\r\n    //chua co\r\n    return null\r\n  }\r\n  render() {\r\n    const { cfp } = this.props\r\n    const uiCols = this.renderTableCols()\r\n    let _currentSwitchView = fnListMyPage.fnGetCurrentSwitchView(cfp.fnList, [])\r\n    console.info(\r\n      \"render ui table:\",\r\n      uiCols,\r\n      cfp.countReloadList,\r\n      this.getOptionsTable()\r\n    )\r\n    if (uiCols && uiCols.length > 0) {\r\n      let _configPageTable =\r\n        fnListMyPage.fnGetConfigPageTable(cfp.fnList, []) || {}\r\n      return (\r\n        <WrapContainer\r\n          className={classnames(\r\n            \"mpat-table mb-3 card\",\r\n            `a-view-${_currentSwitchView.type || \"table\"}`\r\n          )}\r\n          fixHeightTable={this.state.fixHeightTable}\r\n          ref={r => {\r\n            if (r) {\r\n              console.log(r, r.offsetTop)\r\n              this.updateOffsetTopOfTable(r.offsetTop)\r\n            }\r\n          }}\r\n        >\r\n          <div className=\"card-body\" style={{ overflow: \"auto\" }}>\r\n            <BootstrapTable\r\n              key={cfp.countReloadList}\r\n              className={this.getClassName(_configPageTable)}\r\n              customRender={({ data }) => {\r\n                if (_currentSwitchView && _currentSwitchView.type == \"grid\") {\r\n                  return (\r\n                    <MyUI\r\n                      {...this.props}\r\n                      type=\"admintable_table_grid_card\"\r\n                      data={data}\r\n                      cfp={cfp}\r\n                    />\r\n                  )\r\n                }\r\n                return null\r\n              }}\r\n              ref={r => {\r\n                this._cTable = r\r\n                HUtils.runFuntion(cfp, \"updateComponentTable\", [r])\r\n                //update fnList\r\n                if (this._cTable) {\r\n                  cfp.fnList[kfnGetDataTableFilterd] = () => {\r\n                    if (this._cTable.getTableDataIgnorePaging) {\r\n                      return this._cTable.getTableDataIgnorePaging()\r\n                    }\r\n                    return []\r\n                  }\r\n                  cfp.fnList[kfnGetComponentTable] = () => {\r\n                    return this._cTable\r\n                  }\r\n                  cfp.fnList[\"fnTableCleanSort\"] = () => {\r\n                    if (this._cTable && this._cTable.cleanSort) {\r\n                      this._cTable.cleanSort()\r\n                    }\r\n                  }\r\n                }\r\n              }}\r\n              style={{ width: \"1000px\" }}\r\n              data={this.getData()}\r\n              version=\"4\"\r\n              pagination={this.getShowPagination()}\r\n              search={false}\r\n              hover={true}\r\n              striped={false}\r\n              options={this.getOptionsTable()}\r\n              insertRow={false}\r\n              trClassName={(data, r) => {\r\n                let _classRow = \"\"\r\n                if (data && data.IsDeleted === true) {\r\n                  //&& data.IsDelete===true\r\n                  _classRow += \" mt-rdeleted\"\r\n                }\r\n                // console.warn(\"row:,data\",data,r);\r\n                return _classRow\r\n              }}\r\n              {...this.getMoreProps(\r\n                _configPageTable[KConfigPageTable.tableProps]\r\n              )}\r\n            >\r\n              {uiCols}\r\n            </BootstrapTable>\r\n          </div>\r\n        </WrapContainer>\r\n      )\r\n    } else {\r\n      if (uiCols && uiCols.length == 0) {\r\n        return (\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {i18next.t(\"No table columns to show\")}\r\n          </div>\r\n        )\r\n      }\r\n      return (\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <MyLoading />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport { MUIATTableDetails }\r\nexport default MUIATTable\r\n","import { HUtils, MyPage } from \"@macashipo/mlib\"\r\nimport React, { useState } from \"react\"\r\nimport useForceUpdate from \"../../hooks/useForceUpdate\"\r\nimport V from \"src/helpers/V\"\r\nimport { FlowGetAllExpandItemOfRow } from \"src/helpers/Flows/TableExpand\"\r\nfunction MUIATTableDetailOne(props) {\r\n  const { row, configExpand } = props\r\n  console.warn(\"configExpand:\", configExpand)\r\n  let _requestData = {}\r\n  if (configExpand.queryFromParent) {\r\n    for (let k of Object.keys(configExpand.queryFromParent)) {\r\n      _requestData[k] = row[configExpand.queryFromParent[k]]\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"mpat-detail-item\" style={{ minHeight: \"0px\" }}>\r\n      <div className=\"mpat-detail-arrow\">\r\n        <i className=\"fa fa-angle-double-right\"></i>\r\n      </div>\r\n      <MyPage\r\n        configPage={{\r\n          APIName: configExpand.controller,\r\n          Config: null,\r\n          Id: `expand-${configExpand.screenCode}-${row.Id}`,\r\n          RequestData: _requestData,\r\n          ScreenCode: configExpand.screenCode,\r\n          Title: configExpand.title || row[configExpand.titleField] || \"\",\r\n          UIType: \"admin_table\",\r\n        }}\r\n        fnList={{\r\n          fnGetIsInTableExpand: () => {\r\n            return true\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nexport default function MUIATTableDetails(props) {\r\n  const { row, cfp } = props\r\n  const [keyTime, setKeyTime] = useState(new Date().getTime())\r\n  const forceUpdate = useForceUpdate()\r\n  const allExpand = FlowGetAllExpandItemOfRow({ row, onePage: cfp.onePage })\r\n  row[\"_fnForceUpdateDetail\"] = () => {\r\n    console.warn(\"_fnForceUpdateDetail:\", props, keyTime)\r\n    // forceUpdate()\r\n    setKeyTime(new Date().getTime())\r\n  }\r\n  // console.warn(\"render Details:\", props, row, allExpand)\r\n  return (\r\n    <div className=\"mpat-detail\" style={{ minHeight: \"0px\" }} key={keyTime}>\r\n      {/* Detail: */}\r\n      {allExpand.length > 0 &&\r\n        allExpand.map((v, i) => {\r\n          let _isShow = V.TableExpand_IsShowExpandItem({\r\n            row,\r\n            configItemExpand: v,\r\n            prefix: v._prefix,\r\n          })\r\n          // console.log(\"expand isshow:\", _isShow, v)\r\n          // if (_isShow) return <div>{v.screenCode}</div>\r\n          if (_isShow)\r\n            return <MUIATTableDetailOne key={i} {...props} configExpand={v} />\r\n          else return null\r\n        })}\r\n    </div>\r\n  )\r\n}\r\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/*global self*/\n/*eslint-disable no-unused-expressions */\n/*eslint-disable no-new-func */\n/*eslint-disable no-unused-vars */\n/*eslint-disable no-self-compare */\n/*eslint-disable no-use-before-define */\n/*eslint-disable no-redeclare */\n/*eslint-disable no-loop-func */\n/*eslint-disable new-parens */\n/*eslint-disable eqeqeq */\n/*eslint-disable default-case */\n/*eslint no-unused-expressions: [\"error\", { \"allowTernary\": true }]*/\n/*eslint no-restricted-globals: [\"off\", \"self\"]*/\n/*eslint no-undef: \"off\"*/\n/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t// typeof self !== \"undefined\" && self\n\t// || typeof window !== \"undefined\" && \n\twindow\n\t// || this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\n// if (typeof module !== \"undefined\" && module.exports) {\n//   module.exports.saveAs = saveAs;\n// } else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n//   define(\"FileSaver.js\", function() {\n//     return saveAs;\n//   });\n// }\n\nexport default saveAs;"],"sourceRoot":""}