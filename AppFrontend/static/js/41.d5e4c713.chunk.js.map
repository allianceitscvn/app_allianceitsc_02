{"version":3,"sources":["core/hook/useScript/index.ts","core/modules/dev/MyPage/Types/Dev_UseScript.tsx","core/hook/useClickAway/index.ts","../node_modules/reactstrap/es/Card.js","../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/CardHeader.js"],"names":["cachedScripts","SomeComponent","reference","onClickAway","element","useRef","handler","useCallback","event","el","current","contains","target","useEffect","document","addEventListener","removeEventListener","useClickAway","logTest","Button","ref","PageDev","src","useState","loaded","error","state","setState","includes","push","script","createElement","async","onScriptLoad","onScriptError","index","indexOf","splice","remove","body","appendChild","useScript","isFooScriptLoaded","console","warn","app","getElementById","tw","window","loop","typeString","pauseFor","deleteAll","deleteChars","start","Card","className","CardHeader","onClick","CardBody","id","_excluded","propTypes","tag","tagPropType","inverse","PropTypes","bool","color","string","outline","cssModule","object","innerRef","oneOfType","func","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","_extends","defaultProps"],"mappings":"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","file":"static/js/41.d5e4c713.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\"\r\n\r\nconst cachedScripts: string[] = []\r\n\r\nexport function useScript(src: string) {\r\n  // Keeping track of script loaded and error state\r\n  const [state, setState] = useState({\r\n    loaded: false,\r\n    error: false,\r\n  })\r\n\r\n  useEffect(\r\n    () => {\r\n      // If cachedScripts array already includes src that means another instance ...\r\n      // ... of this hook already loaded this script, so no need to load again.\r\n      if (cachedScripts.includes(src)) {\r\n        setState({\r\n          loaded: true,\r\n          error: false,\r\n        })\r\n      } else {\r\n        cachedScripts.push(src)\r\n\r\n        // Create script\r\n        const script = document.createElement(\"script\")\r\n        script.src = src\r\n        script.async = true\r\n\r\n        // Script event listener callbacks for load and error\r\n        const onScriptLoad = () => {\r\n          setState({\r\n            loaded: true,\r\n            error: false,\r\n          })\r\n        }\r\n\r\n        const onScriptError = () => {\r\n          // Remove from cachedScripts we can try loading again\r\n          const index = cachedScripts.indexOf(src)\r\n          if (index >= 0) cachedScripts.splice(index, 1)\r\n          script.remove()\r\n\r\n          setState({\r\n            loaded: true,\r\n            error: true,\r\n          })\r\n        }\r\n\r\n        script.addEventListener(\"load\", onScriptLoad)\r\n        script.addEventListener(\"error\", onScriptError)\r\n\r\n        // Add script to document body\r\n        document.body.appendChild(script)\r\n\r\n        // Remove event listeners on cleanup\r\n        return () => {\r\n          script.removeEventListener(\"load\", onScriptLoad)\r\n          script.removeEventListener(\"error\", onScriptError)\r\n        }\r\n      }\r\n    },\r\n    [src] // Only re-run effect if script src changes\r\n  )\r\n\r\n  return [state.loaded, state.error]\r\n}\r\n","/*eslint no-unused-vars: \"off\"*/\r\n/*eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport React, { useState, useEffect } from \"react\"\r\nimport { Button, Card, CardBody, CardHeader, CardText } from \"reactstrap\"\r\nimport { useScript } from \"src/core/hook/useScript\"\r\nimport { useClickAway } from \"src/core/hook/useClickAway\"\r\nimport { logTest } from \"src/core/helpers/log\"\r\n\r\nexport function SomeComponent() {\r\n  function onClickAway(event: KeyboardEvent) {\r\n    logTest(\"Click away span\")\r\n  }\r\n  const reference = useClickAway<HTMLSpanElement>(onClickAway)\r\n  return (\r\n    <>\r\n      <Button>Click me, will trigger onClickAway function</Button>\r\n      <div>\r\n        <span ref={reference}>\r\n          Actually, you can click really anything else besides me to trigger the\r\n          function.\r\n        </span>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst PageDev = () => {\r\n  const [isFooScriptLoaded, hasError] = useScript(\r\n    \"https://www.cssscript.com/demo/simple-typewriter-effect-pure-javascript-typewriterjs/typewriter.js\"\r\n  )\r\n\r\n  useEffect(() => {\r\n    console.warn(\"isFooScriptLoaded\", isFooScriptLoaded)\r\n    if (isFooScriptLoaded) {\r\n      var app = document.getElementById(\"demo-ts\")\r\n      var tw = window[\"Typewriter\"]\r\n      var typewriter = new tw(app, {\r\n        loop: true,\r\n      })\r\n      typewriter\r\n        .typeString(\"Hello World!\")\r\n        .pauseFor(2500)\r\n        .deleteAll()\r\n        .typeString(\"Strings can be removed\")\r\n        .pauseFor(2500)\r\n        .deleteChars(7)\r\n        .typeString(\"altered!\")\r\n        .start()\r\n    }\r\n  }, [isFooScriptLoaded])\r\n  return (\r\n    <div>\r\n      <Card className=\"mb-3\">\r\n        <CardHeader className=\"bg-light\" onClick={() => {}}>\r\n          <h5 className=\"mb-0\">Use Script</h5>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <div className=\"mb-3\">\r\n            <span>Is script loaded ? {isFooScriptLoaded ? \"yes\" : \"no\"}.</span>\r\n          </div>\r\n          {isFooScriptLoaded === true && <div id=\"demo-ts\">aaa</div>}\r\n        </CardBody>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader className=\"bg-light\" onClick={() => {}}>\r\n          <h5 className=\"mb-0\">Use ClickAway</h5>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <SomeComponent />\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageDev\r\n","import { MutableRefObject, useRef, useEffect, useCallback } from \"react\"\r\n\r\nexport function useClickAway<T extends Element = HTMLDivElement>(\r\n  onClickAway: (event: KeyboardEvent) => void\r\n): MutableRefObject<T> {\r\n  const element = useRef<T>()\r\n\r\n  const handler = useCallback(\r\n    event => {\r\n      const el = element.current\r\n      if (!el || el.contains(event.target)) {\r\n        return\r\n      }\r\n\r\n      onClickAway(event)\r\n    },\r\n    [onClickAway]\r\n  )\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handler)\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", handler)\r\n    }\r\n  }, [handler])\r\n\r\n  return element as MutableRefObject<T>\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"innerRef\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;"],"sourceRoot":""}